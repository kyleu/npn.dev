var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(c){return c.raw=c};$jscomp.createTemplateTagFirstArgWithRaw=function(c,b){c.raw=b;return c};$jscomp.arrayIteratorImpl=function(c){var b=0;return function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var b="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return b?b.call(c):$jscomp.arrayIterator(c)};
$jscomp.arrayFromIterator=function(c){for(var b,f=[];!(b=c.next()).done;)f.push(b.value);return f};$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<c.length;++b){var f=c[b];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var c={},b=Object.create(new $jscomp.global.Proxy(c,{get:function(f,d,a){return f==c&&"q"==d&&a==b}}));return!0===b.q}catch(f){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,b,f){if(c==Array.prototype||c==Object.prototype)return c;c[b]=f.value;return c};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};
$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(c,b){var f=$jscomp.propertyToPolyfillSymbol[b];if(null==f)return c[b];f=c[f];return void 0!==f?f:c[b]};$jscomp.polyfill=function(c,b,f,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(c,b,f,d):$jscomp.polyfillUnisolated(c,b,f,d))};
$jscomp.polyfillUnisolated=function(c,b,f,d){f=$jscomp.global;c=c.split(".");for(d=0;d<c.length-1;d++){var a=c[d];if(!(a in f))return;f=f[a]}c=c[c.length-1];d=f[c];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(f,c,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(c,b,f,d){var a=c.split(".");c=1===a.length;d=a[0];d=!c&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var e=0;e<a.length-1;e++){var g=a[e];if(!(g in d))return;d=d[g]}a=a[a.length-1];f=$jscomp.IS_SYMBOL_NATIVE&&"es6"===f?d[a]:null;b=b(f);null!=b&&(c?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:b}):b!==f&&($jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+a,a=
$jscomp.propertyToPolyfillSymbol[a],$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(c){if(c)return c;var b=function(a,e){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var f=0,d=function(a){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(a||"")+"_"+f++,a)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),f=0;f<b.length;f++){var d=$jscomp.global[b[f]];"function"===typeof d&&"function"!=typeof d.prototype[c]&&$jscomp.defineProperty(d.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return c},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};$jscomp.owns=function(c,b){return Object.prototype.hasOwnProperty.call(c,b)};
$jscomp.polyfill("WeakMap",function(c){function b(){if(!c||!Object.seal)return!1;try{var l=Object.seal({}),m=Object.seal({}),n=new c([[l,2],[m,3]]);if(2!=n.get(l)||3!=n.get(m))return!1;n.delete(l);n.set(m,4);return!n.has(l)&&4==n.get(m)}catch(q){return!1}}function f(){}function d(l){var m=typeof l;return"object"===m&&null!==l||"function"===m}function a(l){if(!$jscomp.owns(l,g)){var m=new f;$jscomp.defineProperty(l,g,{value:m})}}function e(l){if(!$jscomp.ISOLATE_POLYFILLS){var m=Object[l];m&&(Object[l]=
function(n){if(n instanceof f)return n;Object.isExtensible(n)&&a(n);return m(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(b())return c;var g="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var k=0,h=function(l){this.id_=(k+=Math.random()+1).toString();if(l){l=$jscomp.makeIterator(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}};h.prototype.set=function(l,m){if(!d(l))throw Error("Invalid WeakMap key");
a(l);if(!$jscomp.owns(l,g))throw Error("WeakMap key fail: "+l);l[g][this.id_]=m;return this};h.prototype.get=function(l){return d(l)&&$jscomp.owns(l,g)?l[g][this.id_]:void 0};h.prototype.has=function(l){return d(l)&&$jscomp.owns(l,g)&&$jscomp.owns(l[g],this.id_)};h.prototype.delete=function(l){return d(l)&&$jscomp.owns(l,g)&&$jscomp.owns(l[g],this.id_)?delete l[g][this.id_]:!1};return h},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(c){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),l=new c($jscomp.makeIterator([[h,"s"]]));if("s"!=l.get(h)||1!=l.size||l.get({x:4})||l.set({x:4},"t")!=l||2!=l.size)return!1;var m=l.entries(),n=m.next();if(n.done||n.value[0]!=h||"s"!=n.value[1])return!1;n=m.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!m.next().done?!1:!0}catch(q){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(b())return c;var f=new WeakMap,d=function(h){this.data_={};this.head_=g();this.size=0;if(h){h=$jscomp.makeIterator(h);for(var l;!(l=h.next()).done;)l=l.value,this.set(l[0],l[1])}};d.prototype.set=function(h,l){h=0===h?0:h;var m=a(this,h);m.list||(m.list=this.data_[m.id]=[]);m.entry?m.entry.value=l:(m.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:h,value:l},m.list.push(m.entry),
this.head_.previous.next=m.entry,this.head_.previous=m.entry,this.size++);return this};d.prototype.delete=function(h){h=a(this,h);return h.entry&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.data_[h.id],h.entry.previous.next=h.entry.next,h.entry.next.previous=h.entry.previous,h.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(h){return!!a(this,h).entry};d.prototype.get=function(h){return(h=
a(this,h).entry)&&h.value};d.prototype.entries=function(){return e(this,function(h){return[h.key,h.value]})};d.prototype.keys=function(){return e(this,function(h){return h.key})};d.prototype.values=function(){return e(this,function(h){return h.value})};d.prototype.forEach=function(h,l){for(var m=this.entries(),n;!(n=m.next()).done;)n=n.value,h.call(l,n[1],n[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var a=function(h,l){var m=l&&typeof l;"object"==m||"function"==m?f.has(l)?m=f.get(l):
(m=""+ ++k,f.set(l,m)):m="p_"+l;var n=h.data_[m];if(n&&$jscomp.owns(h.data_,m))for(h=0;h<n.length;h++){var q=n[h];if(l!==l&&q.key!==q.key||l===q.key)return{id:m,list:n,index:h,entry:q}}return{id:m,list:n,index:-1,entry:void 0}},e=function(h,l){var m=h.head_;return $jscomp.iteratorPrototype(function(){if(m){for(;m.head!=h.head_;)m=m.previous;for(;m.next!=m.head;)return m=m.next,{done:!1,value:l(m)};m=null}return{done:!0,value:void 0}})},g=function(){var h={};return h.previous=h.next=h.head=h},k=0;
return d},"es6","es3");$jscomp.checkStringArgs=function(c,b,f){if(null==c)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return c+""};
$jscomp.polyfill("String.prototype.endsWith",function(c){return c?c:function(b,f){var d=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===f&&(f=d.length);f=Math.max(0,Math.min(f|0,d.length));for(var a=b.length;0<a&&0<f;)if(d[--f]!=b[--a])return!1;return 0>=a}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(b,f){var d=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var a=d.length,e=b.length;f=Math.max(0,Math.min(f|0,d.length));for(var g=0;g<e&&f<a;)if(d[f++]!=b[g++])return!1;return g>=e}},"es6","es3");
$jscomp.iteratorFromArray=function(c,b){c instanceof String&&(c+="");var f=0,d={next:function(){if(f<c.length){var a=f++;return{value:b(a,c[a]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.findInternal=function(c,b,f){c instanceof String&&(c=String(c));for(var d=c.length,a=0;a<d;a++){var e=c[a];if(b.call(f,e,a,c))return{i:a,v:e}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(b,f){return $jscomp.findInternal(this,b,f).v}},"es6","es3");var npn;
(function(c){c.onError=function(b,f){console.error(b+": "+f);var d=f.lastIndexOf(":");-1<d&&(f=f.substr(d+1));notify.notify(b+" error: "+f,!1)};c.init=function(b,f){log.init();window.onbeforeunload=function(){socket.setAppUnloading()};nav.init(socket.route);socket.socketConnect(b,f)};c.debug=function(){console.warn("Active Collection: "+collection.cache.active);console.warn("Active Request: "+request.cache.active);console.warn("Active Action: "+(request.cache.action+" ["+request.cache.extra+"]"))};
c.testbed=function(){log.info("Testbed!")}})(npn||(npn={}));var body;(function(c){c.renderBody=function(b){if(!b)return JSX("div",null,"No body");switch(b.type){case "json":return b=b.config,JSX("div",null,JSX("em",null,"JSON"),JSX("pre",null,json.str(b.msg)));case "html":return b=b.config,JSX("div",null,JSX("em",null,"HTML"),JSX("pre",{style:"overflow: auto; max-height: 720px;"},b.content));default:return JSX("div",null,"TODO: ",b.type)}}})(body||(body={}));
(function(c){c.AllTypes=[{key:"error",title:"Error",hidden:!0},{key:"form",title:"Form",hidden:!1},{key:"html",title:"HTML",hidden:!1},{key:"json",title:"JSON",hidden:!1},{key:"large",title:"Large File",hidden:!1},{key:"raw",title:"Raw",hidden:!0}]})(body||(body={}));var call;
(function(c){c.prepare=function(b,f){socket.send({svc:services.request.key,cmd:command.client.requestCall,param:{coll:b,req:f.key}})};c.setResult=function(b){var f=dom.req("#"+b.collection+"--"+b.request+"-call");dom.setContent(f,c.renderResult(b))}})(call||(call={}));
(function(c){function b(a,e){return e?JSX("div",{class:"uk-overflow-auto"},JSX("h4",null,a),JSX("table",{class:"uk-table uk-table-divider uk-text-left uk-table-small uk-table-justify"},JSX("tbody",null,e.map(function(g){return JSX("tr",{title:g.desc},JSX("td",{class:"uk-text-nowrap"},g.k),JSX("td",{class:"uk-text-nowrap"},g.v))})))):d(a,"No headers")}function f(a){if(!a)return JSX("div",null,"No timing");a=c.timingSections(a);return JSX("div",{class:"timing-panel"},a.map(function(e){return JSX("div",
null,e.key,": ",e.start," - ",e.end)}),JSX("hr",null),JSX("div",{class:"result-timing-graph"},JSX("object",{type:"image/svg+xml",style:"width: 100%; height: "+24*a.length+"px",data:c.timingGraph(a)},"SVG not supported")))}function d(a,e){e||(e="undefined");return JSX("div",null,JSX("h4",null,a)," ",e)}c.renderResult=function(a){var e,g,k,h,l,m;c.timingSections(a.timing);return[JSX("div",{class:"right"},JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.pop();return false;",
title:"close result"})),JSX("div",{class:"clear"}),JSX("div",null,JSX("ul",{"data-uk-tab":""},JSX("li",null,JSX("a",{href:"#result"},"Result")),JSX("li",null,JSX("a",{href:"#headers"},"Response Headers")),JSX("li",null,JSX("a",{href:"#body"},"Body")),JSX("li",null,JSX("a",{href:"#request"},"Request Headers")),JSX("li",null,JSX("a",{href:"#timing"},"Timing"))),JSX("ul",{class:"uk-switcher uk-margin"},JSX("li",null,JSX("div",null,a.status,": ",((null===(e=a.timing)||void 0===e?void 0:e.completed)||
0)/1E3,"ms"),(null===(g=a.response)||void 0===g?void 0:g.proto)||""," ",((null===(k=a.response)||void 0===k?void 0:k.contentType)||"")+" ("+((null===(h=a.response)||void 0===h?void 0:h.contentLength)||"no")+" bytes)"),JSX("li",null,b("Response Headers",null===(l=a.response)||void 0===l?void 0:l.headers)),JSX("li",null,body.renderBody(null===(m=a.response)||void 0===m?void 0:m.body)),JSX("li",null,b("Final Request Headers",a.requestHeaders)),JSX("li",null,f(a.timing))))]}})(call||(call={}));
(function(c){c.timingSections=function(b){var f=[],d=function(e,g,k,h){f.push({key:e,group:g,start:k,end:h})};d("dns","connect",b.dnsStart,b.dnsEnd);d("connect","connect",b.connectStart,b.connectEnd);var a=b.connectEnd;0<(b.tlsEnd||0)&&(a=b.tlsEnd||0,d("tls","connect",b.tlsStart||0,a));d("reqheaders","request",a,b.wroteHeaders);2<b.wroteRequest-b.wroteHeaders&&d("reqbody","request",b.wroteHeaders,b.wroteRequest);d("rspwait","response",b.wroteRequest,b.firstResponseByte);d("rspheaders","response",
b.firstResponseByte,b.responseHeaders);d("rspbody","response",b.responseHeaders,b.completed);return f};c.timingGraph=function(b){var f,d=[];b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next())a=a.value,0<a.group.length&&d.push(encodeURIComponent(a.key+".g")+"="+encodeURIComponent(a.group)),d.push(encodeURIComponent(a.key+".s")+"="+encodeURIComponent(a.start)),d.push(encodeURIComponent(a.key+".e")+"="+encodeURIComponent(a.end));d.push("t="+(null===(f=system.cache.profile)||void 0===f?void 0:
f.theme)||"light");return"/svg/gantt?"+d.join("&")}})(call||(call={}));var collection;(function(c){var b=function(){};b.prototype.updateCollection=function(f){};b.prototype.setActiveCollection=function(f){this.active=f};c.cache=new b})(collection||(collection={}));
(function(c){function b(d){var a=d.title;a&&0!==d.title.length||(a=d.key);return JSX("div",{class:"nav-item"},nav.link("/c/"+d.key,a,"","",!1,"folder"))}function f(d,a){return JSX("ul",{class:"uk-list uk-list-divider"},a.map(function(e){var g=e.title;g&&0!==e.title.length||(g=e.key);return JSX("li",null,nav.link("/c/"+d+"/"+e.key,g),e.description&&e.description.length?JSX("div",null,JSX("em",null,e.description)):JSX("span",null))}))}c.renderCollections=function(d){return d.map(b)};c.renderCollection=
function(d,a){var e=d.title?d.title:d.key;return JSX("div",null,JSX("div",{class:"uk-card uk-card-body uk-card-default"},JSX("div",{class:"right"},JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.pop();return false;",title:"close collection"})),JSX("h3",{class:"uk-card-title"},JSX("span",{class:"nav-icon-h3","data-uk-icon":"icon: folder"}),e),JSX("p",null,d.description||"")),JSX("div",{class:"uk-card uk-card-body uk-card-default uk-margin-top"},JSX("h3",{class:"uk-card-title"},
"Requests"),JSX("form",{onsubmit:"collection.addRequestURL();return false;"},JSX("input",{id:"coll-request-add-url",class:"uk-input",placeholder:"add a request by url"})),JSX("div",{id:"request-list",class:"uk-margin-top"},f(d.key,a))))};c.addRequestURL=function(){var d=dom.req("#coll-request-add-url"),a=d.value.trim();a&&0<a.length&&(d.value="",console.log(a))}})(collection||(collection={}));
(function(c){c.onCollectionMessage=function(b,f){switch(b){case command.server.collections:c.cache.collections=f;c.cache.collections&&(log.info("processing ["+c.cache.collections.length+"] collections"),dom.els(".collection-list").forEach(function(d){dom.setContent(d,c.renderCollections(c.cache.collections))}));break;case command.server.collectionDetail:log.info("processing ["+f.requests.length+"] requests for collection ["+f.collection.key+"]");c.cache.updateCollection(f.collection);request.cache.setCollectionRequests(f.collection,
f.requests);break;default:console.warn("unhandled collection command ["+b+"]")}}})(collection||(collection={}));var dom;
(function(c){function b(g,k){var h=[];(k?k.querySelectorAll(g):document.querySelectorAll(g)).forEach(function(l){h.push(l)});return h}function f(g,k){k=b(g,k);switch(k.length){case 0:break;case 1:return k[0];default:console.warn("found ["+k.length+"] elements with selector ["+g+"], wanted zero or one")}}function d(g,k){(k=f(g,k))||console.warn("no element found for selector ["+g+"]");return k}function a(g,k){"string"===typeof g&&(g=d(g));g.innerHTML=k;return g}function e(g,k,h){h=void 0===h?"block":
h;"string"===typeof g&&(g=d(g));g.style.display=k?h:"none";return g}c.initDom=function(g,k){try{style.themeLinks(k),style.setTheme(g)}catch(h){console.warn("error setting style",h)}try{modal.wire()}catch(h){console.warn("error wiring modals",h)}try{drop.wire()}catch(h){console.warn("error wiring drops",h)}try{tags.wire()}catch(h){console.warn("error wiring tag editors",h)}try{flash.wire()}catch(h){console.warn("error wiring tag editors",h)}};c.els=b;c.opt=f;c.req=d;c.setHTML=a;c.setDisplay=e;c.setContent=
function(g,k){"string"===typeof g&&(g=d(g));c.clear(g);Array.isArray(k)?k.forEach(function(h){return g.appendChild(h)}):g.appendChild(k);return g};c.setText=function(g,k){"string"===typeof g&&(g=d(g));g.innerText=k;return g};c.switchElements=function(g,k){e(g,!1);e(k,!0);return!1};c.clear=function(g){return a(g,"")}})(dom||(dom={}));
(function(c){c.setValue=function(b,f){"string"===typeof b&&(b=c.req(b));b.value=f;return b};c.wireTextarea=function(b){function f(){b.style.height="auto";b.style.height=(64>b.scrollHeight?64:b.scrollHeight+6)+"px"}function d(){window.setTimeout(f,0)}b.dataset.autoresize||(b.dataset.autoresize="true",b.addEventListener("change",f,!1),b.addEventListener("cut",d,!1),b.addEventListener("paste",d,!1),b.addEventListener("drop",d,!1),b.addEventListener("keydown",d,!1),b.focus(),b.select());f()};c.setOptions=
function(b,f){"string"===typeof b&&(b=c.req(b));c.clear(b);f.forEach(function(d){var a=document.createElement("option");a.value=d;c.setText(a,d);b.appendChild(a)})};c.setSelectOption=function(b,f){"string"===typeof b&&(b=c.req(b));for(var d=0;d<b.children.length;d++){var a=b.children.item(d);a.selected=a.value===f}};c.insertAtCaret=function(b,f){if(b.selectionStart||0===b.selectionStart){var d=b.selectionStart,a=b.selectionEnd;b.value=b.value.substring(0,d)+f+b.value.substring(a,b.value.length);b.selectionStart=
d+f.length;b.selectionEnd=d+f.length}else b.value+=f}})(dom||(dom={}));
function JSX(c,b){var f=document.createElement(c);for(a in b)if(a&&b.hasOwnProperty(a)){var d=b[a];"dangerouslySetInnerHTML"===a?dom.setHTML(f,d.__html):!0===d?f.setAttribute(a,a):!1!==d&&null!==d&&void 0!==d&&f.setAttribute(a,d.toString())}var a={};for(d=2;d<arguments.length;a={$jscomp$loop$prop$child$18:a.$jscomp$loop$prop$child$18},d++)if(a.$jscomp$loop$prop$child$18=arguments[d],Array.isArray(a.$jscomp$loop$prop$child$18))a.$jscomp$loop$prop$child$18.forEach(function(e){return function(g){if(void 0===e.$jscomp$loop$prop$child$18||
null===e.$jscomp$loop$prop$child$18)throw"child array for tag ["+c+"] is "+e.$jscomp$loop$prop$child$18+"\n"+f.outerHTML;if(void 0===g||null===g)throw"child for tag ["+c+"] is "+g+"\n"+f.outerHTML;"string"===typeof g&&(g=document.createTextNode(g));f.appendChild(g)}}(a));else{if(void 0===a.$jscomp$loop$prop$child$18||null===a.$jscomp$loop$prop$child$18)throw"child for tag ["+c+"] is "+a.$jscomp$loop$prop$child$18+"\n"+f.outerHTML;a.$jscomp$loop$prop$child$18.nodeType||(a.$jscomp$loop$prop$child$18=
document.createTextNode(a.$jscomp$loop$prop$child$18.toString()));f.appendChild(a.$jscomp$loop$prop$child$18)}return f}var style;
(function(c){function b(d){f(d);switch(d){case "auto":d="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(d="dark");b(d);fetch("/profile/theme/"+d).then(function(a){return a.text()}).then(function(){});break;case "light":document.documentElement.classList.remove("uk-light");document.body.classList.remove("uk-light");document.documentElement.classList.add("uk-dark");document.body.classList.add("uk-dark");break;case "dark":document.documentElement.classList.add("uk-light");
document.body.classList.add("uk-light");document.documentElement.classList.remove("uk-dark");document.body.classList.remove("uk-dark");break;default:console.warn("invalid theme")}}function f(d){if("undefined"===typeof EmojiButton)dom.els(".picker-toggle").forEach(function(e){return dom.setDisplay(e,!1)});else{var a={position:"bottom-end",theme:d,zIndex:1021};dom.els(".textarea-emoji").forEach(function(e){var g=dom.req(".picker-toggle",e);g.addEventListener("click",function(){var k=dom.req(".uk-textarea",
e),h=new EmojiButton(a);h.on("emoji",function(l){drop.onEmojiPicked();dom.insertAtCaret(k,l)});h.togglePicker(g)},!1)})}}c.setTheme=b;c.linkColor="";c.themeLinks=function(d){c.linkColor=d+"-fg";dom.els(".theme").forEach(function(a){a.classList.add(c.linkColor)})}})(style||(style={}));var drop;
(function(c){function b(e){if(e.target){var g=e.target;e=g.dataset.key||"";g=g.dataset.t||"";var k=events.getOpenEvent(e);k?k(g):console.warn("no drop open handler registered for ["+e+"]")}}function f(e){if(e.target){var g=e.target;g.classList.contains("uk-open")&&(e=g.dataset.t||"",(g=events.getCloseEvent(g.dataset.key||""))&&g(e))}}function d(e){a&&e.preventDefault()}c.wire=function(){dom.els(".drop").forEach(function(e){e.addEventListener("show",b);e.addEventListener("beforehide",d);e.addEventListener("hide",
f)})};var a=!1;c.onEmojiPicked=function(){a=!0;setTimeout(function(){return a=!1},200)}})(drop||(drop={}));var events;(function(c){var b=new Map,f=new Map;c.register=function(d,a,e){a||(a=function(){});b.set(d,a);e&&f.set(d,e)};c.getOpenEvent=function(d){return b.get(d)};c.getCloseEvent=function(d){return f.get(d)}})(events||(events={}));var flash;
(function(c){function b(){var d=!1;dom.els(".alert-top").forEach(function(a){d=!0;a.classList.add("uk-animation-fade","uk-animation-reverse")});d&&setTimeout(f,1E3)}function f(){dom.els(".alert-top").forEach(function(d){d.remove()})}c.wire=function(){setTimeout(b,4E3)}})(flash||(flash={}));var modal;
(function(c){function b(e,g){a=g;notify.modal("#modal-"+e).show();return!1}function f(e){if(e.target&&(e=e.target,0===e.id.indexOf("modal"))){e=e.id.substr(6);var g=events.getOpenEvent(e);g?g(a):console.warn("no modal open handler registered for ["+e+"]");a=void 0}}function d(e){e.target&&(e=e.target,e.classList.contains("uk-open")&&(e=e.id.substr(6),(e=events.getCloseEvent(e))&&e(a),a=void 0))}var a;c.wire=function(){dom.els(".modal").forEach(function(e){e.addEventListener("show",f);e.addEventListener("hide",
d)})};c.open=b;c.openSoon=function(e){setTimeout(function(){return b(e)},0)};c.hide=function(e){e=notify.modal("#modal-"+e);e.$el.classList.contains("uk-open")&&e.hide()}})(modal||(modal={}));var tags;
(function(c){function b(a){var e=dom.req(".value",a),g=dom.req(".editor",a);dom.setDisplay(e,!1);dom.setDisplay(g,!0);var k=c.renderInput(e.innerText);k.onblur=function(){e.innerText=k.value;dom.setDisplay(e,!0);dom.setDisplay(g,!1);d(a.parentElement)};k.onkeypress=function(h){return"Enter"===h.key?(k.blur(),!1):!0};dom.setContent(g,k);k.focus()}function f(a){a.target?d(a.target):console.warn("no event target")}function d(a){var e=a.dataset.key||"",g=events.getOpenEvent(e);g?g():console.warn("no tag open handler registered for ["+
e+"]");a=dom.els(".item",a).map(function(k){return k.innerText});dom.setValue("#model-"+e+"-input",a.join(","))}c.wire=function(){dom.els(".tag-editor").forEach(function(a){a.addEventListener("moved",f);a.addEventListener("added",f);a.addEventListener("removed",f)})};c.removeTag=function(a){a=a.parentElement;var e=a.parentElement;a.remove();d(e)};c.addTag=function(a){if(a=a.parentElement){var e=c.renderItem();a.insertBefore(e,dom.req(".add-item",a));b(e)}};c.editTag=b})(tags||(tags={}));
(function(c){c.renderInput=function(b){return JSX("input",{type:"text",class:"uk-input",value:b})};c.renderItem=function(){return JSX("span",{class:"item"},JSX("span",{class:"value",onclick:"tags.editTag(this.parentElement);"}),JSX("span",{class:"editor"}),JSX("span",{class:"close","data-uk-icon":"icon: close; ratio: 0.6;",onclick:"tags.removeTag(this);"}))};c.renderTagsView=function(b){return JSX("div",{class:"tag-view"},b.map(function(f){return JSX("span",{class:"item"},f)}),JSX("div",{class:"clear"}))}})(tags||
(tags={}));var header;
(function(c){function b(a,e,g,k){return{key:a,description:e,req:g,rsp:k,link:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/"+a}}c.commonHeaders=[b("Accept","Informs the server about the types of data that can be sent back.",!0,!1),b("Access-Control-Allow-Headers","Used in response to a preflight request to indicate which HTTP headers can be used when making the actual request.",!1,!0),b("Access-Control-Allow-Methods","Specifies the methods allowed when accessing the resource in response to a preflight request.",!1,
!0),b("Access-Control-Allow-Origin","Indicates whether the response can be shared.",!1,!0),b("Authorization","Contains the credentials to authenticate a user-agent with a server.",!0,!1),b("Connection","Controls whether the network connection stays open after the current transaction finishes.",!0,!1),b("Content-Encoding","Used to specify the compression algorithm.",!0,!0),b("Content-Length","The size of the resource, in decimal number of bytes.",!0,!0),b("Content-Type","Indicates the media type of the resource.",
!0,!0),b("Cookie","Contains stored HTTP cookies previously sent by the server with the Set-Cookie header.",!0,!1),b("Date","The Date general HTTP header contains the date and time at which the message was originated.",!1,!0),b("ETag","A unique string identifying the version of the resource.",!1,!0),b("Expires","The date/time after which the response is considered stale.",!1,!0),b("Host","Specifies the domain name of the server (for virtual hosting), and (optionally) the TCP port number on which the server is listening.",
!0,!1),b("Last-Modified","The last modification date of the resource, used to compare several versions of the same resource.",!1,!0),b("Location","Indicates the URL to redirect a page to. ",!1,!0),b("Origin","Indicates where a fetch originates from.",!0,!1),b("Referer","The address of the previous web page from which a link to the currently requested page was followed.",!0,!1),b("Server","Contains information about the software used by the origin server to handle the request.",!1,!0),b("Set-Cookie",
"Send cookies from the server to the user-agent.",!1,!0),b("User-Agent","Contains a characteristic string that allows the network protocol peers to identify the application",!0,!1)];c.commonHeadersByName=new Map;for(var f=$jscomp.makeIterator(c.commonHeaders),d=f.next();!d.done;d=f.next())d=d.value,c.commonHeadersByName.set(d.key,d);c.dumpCommonHeaders=function(){var a=function(e,g,k){var h=!1;console.log("\n::: "+e+" Headers");c.commonHeaders.forEach(function(l){l.req==g&&l.rsp==k&&(h=!0,console.log(l.key+
": "+l.link),console.log("  - "+l.description))});h||console.log("none")};a("Common",!0,!0);a("Request",!0,!1);a("Response",!1,!0);a("Invalid",!1,!1)}})(header||(header={}));var request;
(function(c){function b(f){return JSX("div",{class:"right"},JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.navigate(`/c/${collection.cache.active}/${request.cache.active}`);return false;",title:"close collection"}))}c.renderActionEmpty=function(f){return JSX("div",null)};c.renderActionUnknown=function(f,d,a){return JSX("div",null,b(a),"unknown action: ",f," (",d,")")};c.renderActionCall=function(f,d){return JSX("div",{id:f+"--"+d.key+"-call"},b(d),JSX("div",{class:"call-title"},
"Loading..."),JSX("div",{class:"call-result"}))}})(request||(request={}));
(function(c){function b(e,g){dom.setContent("#request-panel",c.form.renderFormPanel(e,g));c.editor.wireForm(g.key)}function f(e,g,k,h){log.info("new action: "+k+" ("+h+")");var l=dom.req(".request-editor"),m=dom.req(".request-action");switch(k){case void 0:dom.setContent(m,c.renderActionEmpty(g));break;case "call":call.prepare(e,g);dom.setContent(m,c.renderActionCall(e,g));break;default:console.warn("unhandled request action ["+k+"]"),dom.setContent(m,c.renderActionUnknown(k,h,g))}dom.setDisplay(l,
void 0===k);dom.setDisplay(m,void 0!==k)}function d(){var e=collection.cache.active;if(e){e=$jscomp.makeIterator(c.cache.requests.get(e)||[]);for(var g=e.next();!g.done;g=e.next())if(g=g.value,g.key===c.cache.active)return g}}var a=function(){this.requests=new Map;this.extra=[]};a.prototype.setCollectionRequests=function(e,g){this.requests.set(e.key,g);if(e.key===collection.cache.active)for(dom.setContent("#collection-panel",collection.renderCollection(e,g)),e=$jscomp.makeIterator(g),g=e.next();!g.done;g=
e.next())g=g.value,this.active===g.key&&(b(collection.cache.active,g),this.action&&f(collection.cache.active,g,this.action,this.extra))};a.prototype.setActiveRequest=function(e){collection.cache.active?this.active!==e&&(this.active=e)&&(e=d())&&b(collection.cache.active,e):console.warn("no active collection")};a.prototype.setActiveAction=function(e,g){if(collection.cache.active){var k=this.extra.length===g.length&&this.extra.every(function(h,l){return h===g[l]});!this.active||this.action===e&&k||
(this.action=e,this.extra=g,(e=d())&&f(collection.cache.active,e,this.action,this.extra))}else console.warn("no active collection")};c.cache=new a})(request||(request={}));
(function(c){c.MethodGet={key:"GET",description:""};c.MethodHead={key:"HEAD",description:""};c.MethodPost={key:"POST",description:""};c.MethodPut={key:"PUT",description:""};c.MethodPatch={key:"PATCH",description:""};c.MethodDelete={key:"DELETE",description:""};c.MethodConnect={key:"CONNECT",description:""};c.MethodOptions={key:"OPTIONS",description:""};c.MethodTrace={key:"TRACE",description:""};c.allMethods=[c.MethodGet,c.MethodHead,c.MethodPost,c.MethodPut,c.MethodPatch,c.MethodDelete,c.MethodConnect,
c.MethodOptions,c.MethodTrace]})(request||(request={}));
(function(c){c.prototypeFromURL=function(b){var f=new URL(b);b=[];for(var d=$jscomp.makeIterator(f.searchParams),a=d.next();!a.done;a=d.next()){var e=$jscomp.makeIterator(a.value);a=e.next().value;e=e.next().value;b.push({k:a,v:e})}d=[];0<f.username.length&&d.push({type:"basic",config:{username:f.username,password:f.password,showPassword:!0}});var g;0<f.port.length&&(g=parseInt(f.port));a=f.protocol;e=f.hostname;var k=f.pathname;f=f.hash;a.endsWith(":")&&(a=a.substr(0,a.length-1));f.startsWith("#")&&
(f=f.substr(1));return{method:"get",protocol:a,domain:e,port:g,path:k,query:b,fragment:f,auth:d}}})(request||(request={}));
(function(c){function b(d){var a=[],e=function(h,l){a.push({t:h,v:l})};e("protocol",d.protocol);e("","://");if(d.auth)for(var g=$jscomp.makeIterator(d.auth),k=g.next();!k.done;k=g.next())if(k=k.value,"basic"===k.type){g=k.config;e("username",g.username);e("",":");g.showPassword?e("password",g.password):e("password","****");e("","@");break}e("domain",d.domain);d.port&&(e("",":"),e("port",d.port.toString()));d.path&&0<d.path.length&&(e("","/"),e("path",d.path));d.query&&0<d.query.length&&(e("","?"),
g=d.query.map(function(h){return encodeURIComponent(h.k)+"="+encodeURIComponent(h.v)}).join("&"),e("query",g));d.fragment&&0<d.fragment.length&&(e("","#"),e("fragment",encodeURIComponent(d.fragment)));return a}function f(d){switch(d){case "username":case "password":case "protocol":case "auth":return"green-fg";case "domain":case "port":return"blue-fg";case "path":return"bluegrey-fg";case "query":return"purple-fg";default:return""}}c.urlToPrototype=function(d){d=new URL(d);return{method:c.MethodGet.key,
protocol:d.protocol,domain:d.hostname,port:parseInt(d.port,10),path:d.pathname,fragment:d.hash}};c.prototypeToURL=function(d){return b(d).map(function(a){return a.v}).join("")};c.prototypeToHTML=function(d){return JSX("span",null,b(d).map(function(a){return JSX("span",{title:a.t,class:f(a.t)},a.v)}))};c.onRequestMessage=function(d,a){switch(d){case command.server.callResult:call.setResult(a);break;default:console.warn("unhandled request command ["+d+"]")}}})(request||(request={}));
(function(c){(function(b){b.initAuthEditor=function(f){};b.setAuth=function(f,d){var a=new URL(f.url.value),e="",g="";if(d){d=$jscomp.makeIterator(d);for(var k=d.next();!k.done;k=d.next())k=k.value,"basic"===k.type&&(g=k.config,e=encodeURIComponent(g.username),g=encodeURIComponent(g.password))}a.username=e;a.password=g;f.url.value=a.toString()};b.updateBasicAuth=function(f,d){var a=[];try{a=json.parse(f.auth.value)}catch(l){console.log("invalid auth JSON ["+f.auth.value+"]")}var e=-1;a||(a=[]);for(var g=
0;g<a.length;g++)"basic"===a[g].type&&(e=g);if(d)for(g=0;g<d.length;g++){var k=d[g];if("basic"===k.type)var h=k.config}-1===e?h&&a.push({type:"basic",config:h}):h?(d=(d=a[e].config)?{username:h.username,password:h.password,showPassword:d.showPassword}:h,a[e]={type:"basic",config:d}):a.splice(e,1);f.auth.value=json.str(a)}})(c.editor||(c.editor={}))})(request||(request={}));
(function(c){(function(b){function f(d){var a=json.parse(d.value);return JSX("div",{class:"uk-margin-top"},JSX("select",{class:"uk-select"},JSX("option",{value:""},"No body"),body.AllTypes.filter(function(e){return!e.hidden}).map(function(e){return a&&a.type===e.key?JSX("option",{value:e.key,selected:"selected"},e.title):JSX("option",{value:e.key},e.title)}),"\u02d9"),body.AllTypes.filter(function(e){return!e.hidden}).map(function(e){var g=a&&a.type==e.key?a.config:null;a:{var k=e.key,h="uk-margin-top body-editor-"+
k;e.key!==(a?a.type:"")&&(h+=" hidden");switch(k){case "json":e=JSX("div",{class:h},JSX("textarea",{class:"uk-textarea"},json.str(g?g.msg:null)));break a;default:e=JSX("div",{class:h},"Unimplemented [",k,"] editor")}}return e}))}b.initBodyEditor=function(d){d.parentElement.appendChild(f(d))};b.setBody=function(d,a){}})(c.editor||(c.editor={}))})(request||(request={}));
(function(c){(function(b){function f(a,e){a.onchange=e;a.onkeyup=e;a.onblur=e}function d(a){f(a.url,function(){b.setURL(a,c.prototypeFromURL(a.url.value))});f(a.auth,function(){try{var e=json.parse(a.auth.value)}catch(g){console.log("invalid auth JSON ["+a.auth.value+"]"),e=[]}b.setAuth(a,e)});f(a.qp,function(){try{var e=json.parse(a.qp.value)}catch(g){console.log("invalid qp JSON ["+a.qp.value+"]"),e=[]}b.setQueryParams(a,e)});f(a.headers,function(){try{var e=json.parse(a.headers.value)}catch(g){console.log("invalid headers JSON ["+
a.headers.value+"]"),e=[]}b.setHeaders(a,e)});f(a.body,function(){try{var e=json.parse(a.body.value)}catch(g){console.log("invalid body JSON ["+a.body.value+"]")}b.setBody(a,e)})}b.wireForm=function(a){a={url:dom.req("#"+a+"-url"),auth:dom.req("#"+a+"-auth"),qp:dom.req("#"+a+"-queryparams"),headers:dom.req("#"+a+"-headers"),body:dom.req("#"+a+"-body"),options:dom.req("#"+a+"-options")};b.initURLEditor(a.url);b.initAuthEditor(a.auth);b.initQueryParamsEditor(a.qp);b.initHeadersEditor(a.headers);b.initBodyEditor(a.body);
b.initOptionsEditor(a.options);d(a)}})(c.editor||(c.editor={}))})(request||(request={}));
(function(c){(function(b){function f(a){var e=JSX("ul",{id:a.id+"-ul",class:"uk-list uk-list-divider"}),g=JSX("li",null,JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Name"),JSX("div",{class:"uk-width-1-4"},"Value"),JSX("div",{class:"uk-width-1-2"},JSX("div",{class:"right"},JSX("a",{class:style.linkColor,href:"",onclick:"request.editor.addChild(dom.req('#"+a.id+"-ul'), {k: '', v: ''});return false;",title:"new header"},JSX("span",{"data-uk-icon":"icon: plus"}))),"Description")));
a=json.parse(a.value);e.innerText="";e.appendChild(g);if(a)for(g=$jscomp.makeIterator(a),a=g.next();!a.done;a=g.next())d(e,a.value);return e}function d(a,e){a.appendChild(JSX("li",null,JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},e.k),JSX("div",{class:"uk-width-1-4"},e.v),JSX("div",{class:"uk-width-1-2"},JSX("div",{class:"right"},JSX("a",{class:style.linkColor,href:"",onclick:"return false;",title:"new header"},JSX("span",{"data-uk-icon":"icon: close"}))),e.desc?e.desc:""))))}b.initHeadersEditor=
function(a){a.parentElement.appendChild(f(a))};b.setHeaders=function(a,e){};b.addChild=d})(c.editor||(c.editor={}))})(request||(request={}));
(function(c){(function(b){function f(a){var e=json.parse(a.value);e||(e={});return JSX("div",null,JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-timeout"},"Timeout"),JSX("input",{class:"uk-input",id:a.id+"-timeout",name:"opt-timeout",type:"number",value:e.timeout})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-ignoreRedirects"},"Ignore Redirects"),d(a.id,"ignoreRedirects",e.ignoreRedirects||!1)),JSX("div",{class:"uk-margin-top"},
JSX("label",{class:"uk-form-label",for:"<%= key %>-ignoreReferrer"},"Ignore Referrer"),d(a.id,"ignoreReferrer",e.ignoreReferrer||!1)),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-ignoreCerts"},"Ignore Certs"),d(a.id,"ignoreCerts",e.ignoreCerts||!1)),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-ignoreCookies"},"Ignore Cookies"),d(a.id,"ignoreCookies",e.ignoreCookies||!1)),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",
for:a.id+"-excludeDefaultHeaders"},"Exclude Default Headers"),JSX("input",{class:"uk-input",id:a.id+"-excludeDefaultHeaders",name:"opt-excludeDefaultHeaders",type:"text",value:e.excludeDefaultHeaders})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-readCookieJars"},"Read Cookie Jars"),JSX("input",{class:"uk-input",id:a.id+"-readCookieJars",name:"opt-readCookieJars",type:"text",value:e.readCookieJars})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",
for:a.id+"writeCookieJar"},"Write Cookie Jar"),JSX("input",{class:"uk-input",id:a.id+"-writeCookieJar",name:"opt-writeCookieJar",type:"text",value:e.writeCookieJar})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-sslCert"},"SSL Cert"),JSX("input",{class:"uk-input",id:a.id+"-sslCert",name:"opt-sslCert",type:"text",value:e.sslCert})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-userAgentOverride"},"User Agent Override"),JSX("input",
{class:"uk-input",id:a.id+"-userAgentOverride",name:"opt-userAgentOverride",type:"text",value:e.userAgentOverride})))}function d(a,e,g){a="opt-"+e;return g?JSX("div",null,JSX("label",{class:"uk-margin-small-right"},JSX("input",{class:"uk-radio",type:"radio",name:a,value:"true",checked:!0})," True"),JSX("label",null,JSX("input",{class:"uk-radio",type:"radio",name:a,value:"false"})," False")):JSX("div",null,JSX("label",{class:"uk-margin-small-right"},JSX("input",{class:"uk-radio",type:"radio",name:a,
value:"true"})," True"),JSX("label",null,JSX("input",{class:"uk-radio",type:"radio",name:a,value:"false",checked:!0})," False"))}b.initOptionsEditor=function(a){a.parentElement.appendChild(f(a))}})(c.editor||(c.editor={}))})(request||(request={}));
(function(c){(function(b){b.initQueryParamsEditor=function(f){};b.setQueryParams=function(f,d){var a=[];if(d){d=$jscomp.makeIterator(d);for(var e=d.next();!e.done;e=d.next())e=e.value,a.push(encodeURIComponent(e.k)+"="+encodeURIComponent(e.v))}d=new URL(f.url.value);d.search=a.join("&");f.url.value=d.toString()};b.updateQueryParams=function(f,d){f.qp.value=json.str(d)}})(c.editor||(c.editor={}))})(request||(request={}));
(function(c){(function(b){b.initURLEditor=function(f){};b.setURL=function(f,d){d?(b.updateQueryParams(f,d.query),b.updateBasicAuth(f,d.auth)):f.qp.value="[]"}})(c.editor||(c.editor={}))})(request||(request={}));
(function(c){(function(b){function f(d){return dom.req("#"+c.cache.active+"-"+d).value}b.getRequest=function(){var d=f("key"),a=f("title"),e=f("description"),g=c.urlToPrototype(f("url"));g.method=f("method");g.query=json.parse(f("queryparams"));g.headers=json.parse(f("headers"));g.auth=json.parse(f("auth"));g.body=json.parse(f("body"));g.options=json.parse(f("options"));return{key:d,title:a,description:e,prototype:g}}})(c.form||(c.form={}))})(request||(request={}));
(function(c){(function(b){function f(a,e){var g="/c/"+a+"/"+e.key;a="if (!confirm('Are you sure you want to delete request ["+e.key+"]?')) { return false; }";return JSX("div",null,nav.link(g+"/call","Call","uk-button uk-button-default uk-margin-small-right uk-margin-top","",!0),JSX("div",{class:"uk-inline"},JSX("button",{type:"button",class:"uk-button uk-button-default uk-margin-small-right uk-margin-top"},"Export"),JSX("div",{id:"export-dropdown","uk-dropdown":"mode: click"},JSX("ul",{class:"uk-list uk-list-divider",
style:"margin-bottom: 0;"},Object.keys(d).map(function(k){return JSX("li",null,nav.link(g+"/transform/"+k,d[k],"","UIkit.dropdown(dom.req('#export-dropdown')).hide(false);"))})))),nav.link(g+"/delete","Delete","uk-button uk-button-default uk-margin-small-right uk-margin-top",a,!0))}b.renderFormPanel=function(a,e){return JSX("div",null,JSX("div",{class:"uk-card uk-card-body uk-card-default"},JSX("div",{class:"right"},JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.navigate('/c/"+
a+"');return false;",title:"close request"})),JSX("h3",{class:"uk-card-title"},e.title?e.title:e.key),b.renderURL(e),JSX("div",{id:"save-panel",class:"right hiddenX"},JSX("button",{class:"uk-button uk-button-default uk-margin-small-right uk-margin-top",onclick:"console.log('TODO!');"},"Reset"),JSX("button",{class:"uk-button uk-button-default uk-margin-top",onclick:"console.log(request.form.getRequest());"},"Save Changes")),f(a,e)),JSX("div",{class:"request-editor uk-card uk-card-body uk-card-default uk-margin-top"},
b.renderSwitcher(e)),JSX("div",{class:"request-action uk-card uk-card-body uk-card-default uk-margin-top hidden"}))};b.renderDetails=function(a){return JSX("li",{class:"request-details-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.key+"-key"},"Key"),JSX("input",{class:"uk-input",id:a.key+"-key",name:"key",type:"text",value:a.key||"","data-lpignore":"true"})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.key+"-title"},"Title"),JSX("input",
{class:"uk-input",id:a.key+"-title",name:"title",type:"text",value:a.title||"","data-lpignore":"true"})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.key+"-description"},"Description"),JSX("textarea",{class:"uk-textarea",id:a.key+"-description",name:"description","data-lpignore":"true"},a.description||"")))};var d={http:"HTTP",json:"JSON",curl:"curl"}})(c.form||(c.form={}))})(request||(request={}));
(function(c){(function(b){b.renderSwitcher=function(f){var d=f.key,a=f.prototype,e=JSX("ul",{"data-uk-tab":""},JSX("li",null,JSX("a",{href:"#details"},"Details")),JSX("li",null,JSX("a",{href:"#query"},"Query")),JSX("li",null,JSX("a",{href:"#auth"},"Auth")),JSX("li",null,JSX("a",{href:"#headers"},"Headers")),JSX("li",null,JSX("a",{href:"#body"},"Body")),JSX("li",null,JSX("a",{href:"#options"},"Options")));f=b.renderDetails(f);var g=a.query;g=JSX("li",{class:"request-queryparams-panel"},JSX("div",{class:"uk-margin-top"},
JSX("label",{class:"uk-form-label",for:d+"-queryparams"},"Query Params"),JSX("textarea",{class:"uk-textarea",id:d+"-queryparams",name:"queryparams"},json.str(g))));var k=a.auth;k=JSX("li",{class:"request-auth-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:d+"-auth"},"Auth"),JSX("textarea",{class:"uk-textarea",id:d+"-auth",name:"auth"},json.str(k))));var h=a.headers;h=JSX("li",{class:"request-headers-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",
for:d+"-headers"},"Headers"),JSX("textarea",{class:"uk-textarea",id:d+"-headers",name:"headers"},json.str(h))));var l=a.body;l=JSX("li",{class:"request-body-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:d+"-body"},"Body"),JSX("textarea",{class:"uk-textarea",id:d+"-body",name:"body"},json.str(l))));a=a.options;d=JSX("li",{class:"request-options-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:d+"-options"},"Options"),JSX("textarea",
{class:"uk-textarea",id:d+"-options",name:"options"},json.str(a))));return JSX("div",null,e,JSX("ul",{class:"uk-switcher uk-margin"},f,g,k,h,l,d))}})(c.form||(c.form={}))})(request||(request={}));
(function(c){(function(b){b.renderURL=function(f){var d="nav.navigate(`/c/"+collection.cache.active+"/"+f.key+"/call`);return false;";return JSX("div",{class:"uk-margin-top uk-panel"},JSX("div",{class:"left",style:"width:120px;"},JSX("select",{class:"uk-select",id:f.key+"-method",name:"method"},c.allMethods.map(function(a){return a.key===f.prototype.method?JSX("option",{selected:"selected"},a.key):JSX("option",null,a.key)}))),JSX("div",{class:"uk-inline right",style:"width:calc(100% - 120px);"},JSX("a",
{class:"uk-form-icon uk-form-icon-flip",href:"",onclick:d,title:"send request","uk-icon":"icon: play"}),JSX("form",{onsubmit:d},JSX("input",{class:"uk-input",id:f.key+"-url",name:"url",type:"text",value:c.prototypeToURL(f.prototype),"data-lpignore":"true"}))))}})(c.form||(c.form={}))})(request||(request={}));var socket;
(function(c){c.route=function(b){console.log("NAV: "+b);b=b.split("/");b=b.filter(function(e){return 0<e.length});console.info("nav: "+b.join(" -> "));if(0===b.length||0===b[0].length)ui.setPanels(void 0,void 0,void 0,[]);else{var f=b[0];switch(f){case "c":f=1<b.length&&0<b[1].length?b[1]:void 0;var d=2<b.length&&0<b[2].length?b[2]:void 0,a=3<b.length&&0<b[3].length?b[3]:void 0;b=4<b.length?b.slice(4):[];f!==collection.cache.active&&(collection.cache.setActiveCollection(f),c.send({svc:services.collection.key,
cmd:command.client.getCollection,param:f}));request.cache.setActiveRequest(d);request.cache.setActiveAction(a,b);ui.setPanels(f,d,a,b);break;default:console.info("unhandled svc ["+f+"]")}}}})(socket||(socket={}));
(function(c){function b(){var p=document.location,r="ws";"https:"===p.protocol&&(r="wss");return r+("://"+p.host+"/s")}function f(p,r){q=p;t=r;v=Date.now();k=new WebSocket(b());k.onopen=a;k.onmessage=function(u){return e(json.parse(u.data))};k.onerror=function(u){return npn.onError("socket",u.type)};k.onclose=g}function d(p){h?(console.debug("out",p),p=json.str(p),k.send(p)):n.push(p)}function a(){log.info("socket connected");h=!0;l=1;n.forEach(d);n=[]}function e(p){console.debug("in",p);switch(p.svc){case services.system.key:system.onSystemMessage(p.cmd,
p.param);break;case services.collection.key:collection.onCollectionMessage(p.cmd,p.param);break;case services.request.key:request.onRequestMessage(p.cmd,p.param);break;default:console.warn("unhandled message for service ["+p.svc+"]")}}function g(){function p(){h=!1;var r=Date.now()-v;2E3>r?(l*=2,console.info("socket closed immediately, reconnecting in "+l+" seconds"),setTimeout(function(){f(q,t)},1E3*l)):(log.info("socket closed after ["+r+"ms]"),f(q,t))}m||p()}var k,h=!1,l=0,m=!1,n=[],q="",t="",
v;c.setAppUnloading=function(){m=!0};c.socketConnect=f;c.send=d;c.onSocketMessage=e})(socket||(socket={}));var system;(function(c){var b=function(){};b.prototype.getProfile=function(){if(!this.profile)throw"no active profile";return this.profile};b.prototype.apply=function(f){c.cache.profile=f.profile};c.cache=new b})(system||(system={}));
(function(c){c.onSystemMessage=function(b,f){switch(b){case command.server.error:console.warn("error from server: "+f);break;case command.server.connected:c.cache.apply(f);break;default:console.warn("unhandled system command ["+b+"]")}}})(system||(system={}));var ui;
(function(c){function b(a){for(var e=a.childElementCount-1;0<=e;e--){var g=a.children[e];g.classList.contains("dynamic")&&a.removeChild(g)}}function f(){return JSX("span",{class:"uk-navbar-item dynamic",style:"padding: 0 8px;"}," / ")}function d(a,e){for(var g=[],k=1;k<arguments.length;++k)g[k-1]=arguments[k];g=g.map(function(h){return"/"+h}).join("");return nav.link(g,a,"uk-navbar-item uk-logo uk-margin-remove uk-padding-remove dynamic")}c.setBreadcrumbs=function(a,e,g,k){var h=dom.req("#breadcrumbs");
b(h);if(a&&(h.appendChild(f()),h.appendChild(d(a,"c",a)),e&&(h.appendChild(f()),h.appendChild(d(e,"c",a,e)),g&&(h.appendChild(f()),h.appendChild(d(g,"c",a,e,g)),k&&0<k.length))))for(var l=0;l<k.length;l++){h.appendChild(f());var m=[a,e,g];m.push.apply(m,$jscomp.arrayFromIterable(k.slice(0,l)));h.appendChild(d.apply(null,[k[l]].concat($jscomp.arrayFromIterable(m))))}};c.reset=b})(ui||(ui={}));
(function(c){c.setPanels=function(b,f,d,a){dom.setDisplay("#welcome-panel",void 0===b);dom.setDisplay("#collection-panel",void 0!==b&&0<b.length&&void 0===f);dom.setDisplay("#request-panel",void 0!==f&&0<f.length);c.setBreadcrumbs(b,f,d,a);a="";d&&(a+=d+" ");b&&(a+=b);f&&(a+="/"+f);a=0==a.length?"npn":"npn: "+a;document.title=a}})(ui||(ui={}));var profile;
(function(c){c.setNavColor=function(b,f){dom.setValue("#nav-color",f);dom.req("#navbar").className=f+"-bg uk-navbar-container uk-navbar";document.querySelectorAll(".nav_swatch").forEach(function(d){d.classList.remove("active")});b.classList.add("active")};c.setLinkColor=function(b,f){dom.setValue("#link-color",f);dom.els(".profile-link").forEach(function(d){d.classList.forEach(function(a){-1<a.indexOf("-fg")&&d.classList.remove(a);d.classList.add(f+"-fg")})});document.querySelectorAll(".link_swatch").forEach(function(d){d.classList.remove("active")});
b.classList.add("active")};c.setPicture=function(b){dom.setValue("#self-picture-input",b);return!1}})(profile||(profile={}));var command;(function(c){c.client={ping:"ping",connect:"connect",getCollections:"getCollections",getCollection:"getCollection",requestCall:"requestCall"};c.server={error:"error",pong:"pong",connected:"connected",collections:"collections",collectionDetail:"collectionDetail",callResult:"callResult"}})(command||(command={}));var date;
(function(c){function b(a){return a.toLocaleDateString()}function f(a){return a.toLocaleTimeString().slice(0,8)}c.dateToYMD=function(a){var e=a.getDate(),g=a.getMonth()+1;return a.getFullYear()+"-"+(9>=g?"0"+g:g)+"-"+(9>=e?"0"+e:e)};c.dateFromYMD=function(a){a=new Date(a);return new Date(a.getTime()+6E4*a.getTimezoneOffset())};c.dow=function(a){switch(a){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"???"}};
c.toDateString=b;c.toTimeString=f;c.toDateTimeString=function(a){return b(a)+" "+f(a)};var d=6E4*(new Date).getTimezoneOffset();c.utcDate=function(a){return new Date(Date.parse(a)+d)}})(date||(date={}));var group;
(function(c){var b=function(d){this.members=[];this.key=d};c.Group=b;var f=function(){this.groups=[]};f.prototype.findOrInsert=function(d){var a=this.groups.find(function(e){return e.key===d});if(a)return a;a=new b(d);this.groups.push(a);return a};c.GroupSet=f;c.groupBy=function(d,a){var e=new f;d&&d.forEach(function(g){e.findOrInsert(a(g)).members.push(g)});return e};c.findGroup=function(d,a){d=$jscomp.makeIterator(d);for(var e=d.next();!e.done;e=d.next())if(e=e.value,e.key===a)return e.members;
return[]};c.flatten=function(d){var a=[];d.forEach(function(e){return a.push.apply(a,$jscomp.arrayFromIterable(e))});return a}})(group||(group={}));var json;(function(c){c.str=function(b){return void 0===b?"null":JSON.stringify(b,null,2)};c.parse=function(b){return JSON.parse(b)}})(json||(json={}));var log;
(function(c){function b(g,k){if(0===d)console.warn("call `log.init()` before attempting to log");else{var h=Date.now()-d;g=JSX("li",{class:f(g)},JSX("div",{class:"right"},h,"ms"),k);e||(e=dom.req("#log-list"));e.appendChild(g);a||(a=dom.req("#log-content"));a.scrollTo(0,a.scrollHeight)}}function f(g){switch(g){case "debug":return"grey-fg";case "info":return"";case "warn":return"yellow-fg";case "error":return"red-fg";default:return""}}var d=0,a,e;c.init=function(){d=Date.now();b("debug","npn started")};
c.info=function(g){b("info",g)};c.l=b;c.toggle=function(){var g=dom.req("#workspace-content"),k=dom.req("#log-container"),h=""!==k.style.display&&"none"!==k.style.display;h?g.classList.remove("log-visible"):g.classList.add("log-visible");dom.setDisplay(k,!h);a||(a=dom.req("#log-content"));a.scrollTo(0,a.scrollHeight)}})(log||(log={}));var nav;
(function(c){function b(d){d.startsWith("/")&&(d=d.substr(1));var a=location.pathname;a.startsWith("/")&&(a=a.substr(1));a!==d&&history.pushState(d,"","/"+d);f(d)}var f=function(d){console.info("default nav handler called: "+d)};c.init=function(d){f=d;window.onpopstate=function(a){d(null===a.state?"":a.state)};b(location.pathname)};c.navigate=b;c.pop=function(){var d=location.pathname.substr(0,location.pathname.lastIndexOf("/"));"/c"===d&&(d="");b(d)};c.navActiveRequest=function(){b("/c/"+collection.cache.active+
"/"+request.cache.active)};c.link=function(d,a,e,g,k,h){var l=d;l.startsWith("/")||(l="/"+l);e=e?" "+e.trim():"";var m=JSX("span",null);h&&(m=JSX("span",{class:"nav-icon","data-uk-icon":"icon: "+h}));g?g.endsWith(";")||(g+=";"):g="";k||(e=style.linkColor+e);return JSX("a",{class:e,href:l,onclick:g+"nav.navigate('"+d+"', '"+a+"');return false;"},m,a)}})(nav||(nav={}));var notify;
(function(c){c.notify=function(b,f){UIkit.notification(b,{status:f?"success":"danger",pos:"top-right"})};c.confirm=function(b,f){UIkit.modal.confirm(b).then(f)};c.modal=function(b){var f=UIkit.modal(b);f||console.warn("no modal available with key ["+b+"]");return f}})(notify||(notify={}));var services;
(function(c){c.system={key:"system",title:"System",plural:"systems",icon:"close"};c.collection={key:"collection",title:"Collection",plural:"Collections",icon:"folder"};c.request={key:"request",title:"Request",plural:"Requests",icon:"file-text"};var b=[c.system,c.collection];c.fromKey=function(f){var d=b.find(function(a){return a.key===f});if(!d)throw"invalid service ["+f+"]";return d}})(services||(services={}));
