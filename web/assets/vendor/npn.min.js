var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(d){return d.raw=d};$jscomp.createTemplateTagFirstArgWithRaw=function(d,c){d.raw=c;return d};$jscomp.arrayIteratorImpl=function(d){var c=0;return function(){return c<d.length?{done:!1,value:d[c++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.makeIterator=function(d){var c="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return c?c.call(d):$jscomp.arrayIterator(d)};
$jscomp.arrayFromIterator=function(d){for(var c,e=[];!(c=d.next()).done;)e.push(c.value);return e};$jscomp.arrayFromIterable=function(d){return d instanceof Array?d:$jscomp.arrayFromIterator($jscomp.makeIterator(d))};$jscomp.getGlobal=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<d.length;++c){var e=d[c];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var d={},c=Object.create(new $jscomp.global.Proxy(d,{get:function(e,b,a){return e==d&&"q"==b&&a==c}}));return!0===c.q}catch(e){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,e){if(d==Array.prototype||d==Object.prototype)return d;d[c]=e.value;return d};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};
$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(d,c){var e=$jscomp.propertyToPolyfillSymbol[c];if(null==e)return d[c];e=d[e];return void 0!==e?e:d[c]};$jscomp.polyfill=function(d,c,e,b){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(d,c,e,b):$jscomp.polyfillUnisolated(d,c,e,b))};
$jscomp.polyfillUnisolated=function(d,c,e,b){e=$jscomp.global;d=d.split(".");for(b=0;b<d.length-1;b++){var a=d[b];if(!(a in e))return;e=e[a]}d=d[d.length-1];b=e[d];c=c(b);c!=b&&null!=c&&$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(d,c,e,b){var a=d.split(".");d=1===a.length;b=a[0];b=!d&&b in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<a.length-1;f++){var g=a[f];if(!(g in b))return;b=b[g]}a=a[a.length-1];e=$jscomp.IS_SYMBOL_NATIVE&&"es6"===e?b[a]:null;c=c(e);null!=c&&(d?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:c}):c!==e&&($jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+a,a=
$jscomp.propertyToPolyfillSymbol[a],$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(d){if(d)return d;var c=function(a,f){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};c.prototype.toString=function(){return this.$jscomp$symbol$id_};var e=0,b=function(a){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(a||"")+"_"+e++,a)};return b},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<c.length;e++){var b=$jscomp.global[c[e]];"function"===typeof b&&"function"!=typeof b.prototype[d]&&$jscomp.defineProperty(b.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return d},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(d){d={next:d};d[Symbol.iterator]=function(){return this};return d};$jscomp.owns=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)};
$jscomp.polyfill("WeakMap",function(d){function c(){if(!d||!Object.seal)return!1;try{var l=Object.seal({}),m=Object.seal({}),n=new d([[l,2],[m,3]]);if(2!=n.get(l)||3!=n.get(m))return!1;n.delete(l);n.set(m,4);return!n.has(l)&&4==n.get(m)}catch(q){return!1}}function e(){}function b(l){var m=typeof l;return"object"===m&&null!==l||"function"===m}function a(l){if(!$jscomp.owns(l,g)){var m=new e;$jscomp.defineProperty(l,g,{value:m})}}function f(l){if(!$jscomp.ISOLATE_POLYFILLS){var m=Object[l];m&&(Object[l]=
function(n){if(n instanceof e)return n;Object.isExtensible(n)&&a(n);return m(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(d&&$jscomp.ES6_CONFORMANCE)return d}else if(c())return d;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var h=0,k=function(l){this.id_=(h+=Math.random()+1).toString();if(l){l=$jscomp.makeIterator(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}};k.prototype.set=function(l,m){if(!b(l))throw Error("Invalid WeakMap key");
a(l);if(!$jscomp.owns(l,g))throw Error("WeakMap key fail: "+l);l[g][this.id_]=m;return this};k.prototype.get=function(l){return b(l)&&$jscomp.owns(l,g)?l[g][this.id_]:void 0};k.prototype.has=function(l){return b(l)&&$jscomp.owns(l,g)&&$jscomp.owns(l[g],this.id_)};k.prototype.delete=function(l){return b(l)&&$jscomp.owns(l,g)&&$jscomp.owns(l[g],this.id_)?delete l[g][this.id_]:!1};return k},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(d){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!d||"function"!=typeof d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{var k=Object.seal({x:4}),l=new d($jscomp.makeIterator([[k,"s"]]));if("s"!=l.get(k)||1!=l.size||l.get({x:4})||l.set({x:4},"t")!=l||2!=l.size)return!1;var m=l.entries(),n=m.next();if(n.done||n.value[0]!=k||"s"!=n.value[1])return!1;n=m.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!m.next().done?!1:!0}catch(q){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(d&&$jscomp.ES6_CONFORMANCE)return d}else if(c())return d;var e=new WeakMap,b=function(k){this.data_={};this.head_=g();this.size=0;if(k){k=$jscomp.makeIterator(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}};b.prototype.set=function(k,l){k=0===k?0:k;var m=a(this,k);m.list||(m.list=this.data_[m.id]=[]);m.entry?m.entry.value=l:(m.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:k,value:l},m.list.push(m.entry),
this.head_.previous.next=m.entry,this.head_.previous=m.entry,this.size++);return this};b.prototype.delete=function(k){k=a(this,k);return k.entry&&k.list?(k.list.splice(k.index,1),k.list.length||delete this.data_[k.id],k.entry.previous.next=k.entry.next,k.entry.next.previous=k.entry.previous,k.entry.head=null,this.size--,!0):!1};b.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};b.prototype.has=function(k){return!!a(this,k).entry};b.prototype.get=function(k){return(k=
a(this,k).entry)&&k.value};b.prototype.entries=function(){return f(this,function(k){return[k.key,k.value]})};b.prototype.keys=function(){return f(this,function(k){return k.key})};b.prototype.values=function(){return f(this,function(k){return k.value})};b.prototype.forEach=function(k,l){for(var m=this.entries(),n;!(n=m.next()).done;)n=n.value,k.call(l,n[1],n[0],this)};b.prototype[Symbol.iterator]=b.prototype.entries;var a=function(k,l){var m=l&&typeof l;"object"==m||"function"==m?e.has(l)?m=e.get(l):
(m=""+ ++h,e.set(l,m)):m="p_"+l;var n=k.data_[m];if(n&&$jscomp.owns(k.data_,m))for(k=0;k<n.length;k++){var q=n[k];if(l!==l&&q.key!==q.key||l===q.key)return{id:m,list:n,index:k,entry:q}}return{id:m,list:n,index:-1,entry:void 0}},f=function(k,l){var m=k.head_;return $jscomp.iteratorPrototype(function(){if(m){for(;m.head!=k.head_;)m=m.previous;for(;m.next!=m.head;)return m=m.next,{done:!1,value:l(m)};m=null}return{done:!0,value:void 0}})},g=function(){var k={};return k.previous=k.next=k.head=k},h=0;
return b},"es6","es3");$jscomp.checkStringArgs=function(d,c,e){if(null==d)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return d+""};
$jscomp.polyfill("String.prototype.endsWith",function(d){return d?d:function(c,e){var b=$jscomp.checkStringArgs(this,c,"endsWith");c+="";void 0===e&&(e=b.length);e=Math.max(0,Math.min(e|0,b.length));for(var a=c.length;0<a&&0<e;)if(b[--e]!=c[--a])return!1;return 0>=a}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(d){return d?d:function(c,e){var b=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var a=b.length,f=c.length;e=Math.max(0,Math.min(e|0,b.length));for(var g=0;g<f&&e<a;)if(b[e++]!=c[g++])return!1;return g>=f}},"es6","es3");$jscomp.findInternal=function(d,c,e){d instanceof String&&(d=String(d));for(var b=d.length,a=0;a<b;a++){var f=d[a];if(c.call(e,f,a,d))return{i:a,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(c,e){return $jscomp.findInternal(this,c,e).v}},"es6","es3");var npn;
(function(d){d.onError=function(c,e){console.error(c+": "+e);var b=e.lastIndexOf(":");-1<b&&(e=e.substr(b+1));notify.notify(c+" error: "+e,!1)};d.init=function(c,e){log.init();window.onbeforeunload=function(){socket.setAppUnloading()};nav.init(socket.route);socket.socketConnect(c,e)};d.debug=function(){console.warn("Active Collection: "+collection.cache.active);console.warn("Active Request: "+request.cache.active);console.warn("Active Action: "+request.cache.action)}})(npn||(npn={}));var collection;
(function(d){var c=function(){};c.prototype.updateCollection=function(e){};c.prototype.setActiveCollection=function(e){this.active=e};d.cache=new c})(collection||(collection={}));(function(d){function c(e){var b=e.title;b&&0!==e.title.length||(b=e.key);return JSX("li",null,nav.link("/c/"+e.key,b))}d.renderCollections=function(e){return JSX("ul",{class:"uk-list uk-list-divider"},e.map(c))};d.renderCollection=c})(collection||(collection={}));
(function(d){d.onCollectionMessage=function(c,e){switch(c){case command.server.collections:d.cache.collections=e;log.info("processing ["+d.cache.collections.length+"] collections");dom.setContent("#collection-list",d.renderCollections(d.cache.collections));break;case command.server.detail:log.info("processing ["+e.requests.length+"] requests for collection ["+e.collection.key+"]");d.cache.updateCollection(e.collection);request.cache.setCollectionRequests(e.collection.key,e.requests);break;default:console.warn("unhandled collection command ["+
c+"]")}}})(collection||(collection={}));var dom;
(function(d){function c(g,h){var k=[];(h?h.querySelectorAll(g):document.querySelectorAll(g)).forEach(function(l){k.push(l)});return k}function e(g,h){h=c(g,h);switch(h.length){case 0:break;case 1:return h[0];default:console.warn("found ["+h.length+"] elements with selector ["+g+"], wanted zero or one")}}function b(g,h){(h=e(g,h))||console.warn("no element found for selector ["+g+"]");return h}function a(g,h){"string"===typeof g&&(g=b(g));g.innerHTML=h;return g}function f(g,h,k){k=void 0===k?"block":
k;"string"===typeof g&&(g=b(g));g.style.display=h?k:"none";return g}d.initDom=function(g,h){try{style.themeLinks(h),style.setTheme(g)}catch(k){console.warn("error setting style",k)}try{modal.wire()}catch(k){console.warn("error wiring modals",k)}try{drop.wire()}catch(k){console.warn("error wiring drops",k)}try{tags.wire()}catch(k){console.warn("error wiring tag editors",k)}};d.els=c;d.opt=e;d.req=b;d.setHTML=a;d.setDisplay=f;d.setContent=function(g,h){"string"===typeof g&&(g=b(g));d.clear(g);g.appendChild(h);
return g};d.setText=function(g,h){"string"===typeof g&&(g=b(g));g.innerText=h;return g};d.switchElements=function(g,h){f(g,!1);f(h,!0);return!1};d.clear=function(g){return a(g,"")}})(dom||(dom={}));
(function(d){d.setValue=function(c,e){"string"===typeof c&&(c=d.req(c));c.value=e;return c};d.wireTextarea=function(c){function e(){c.style.height="auto";c.style.height=(64>c.scrollHeight?64:c.scrollHeight+6)+"px"}function b(){window.setTimeout(e,0)}c.dataset.autoresize||(c.dataset.autoresize="true",c.addEventListener("change",e,!1),c.addEventListener("cut",b,!1),c.addEventListener("paste",b,!1),c.addEventListener("drop",b,!1),c.addEventListener("keydown",b,!1),c.focus(),c.select());e()};d.setOptions=
function(c,e){"string"===typeof c&&(c=d.req(c));d.clear(c);e.forEach(function(b){var a=document.createElement("option");a.value=b;d.setText(a,b);c.appendChild(a)})};d.setSelectOption=function(c,e){"string"===typeof c&&(c=d.req(c));for(var b=0;b<c.children.length;b++){var a=c.children.item(b);a.selected=a.value===e}};d.insertAtCaret=function(c,e){if(c.selectionStart||0===c.selectionStart){var b=c.selectionStart,a=c.selectionEnd;c.value=c.value.substring(0,b)+e+c.value.substring(a,c.value.length);c.selectionStart=
b+e.length;c.selectionEnd=b+e.length}else c.value+=e}})(dom||(dom={}));
function JSX(d,c){var e=document.createElement(d);for(a in c)if(a&&c.hasOwnProperty(a)){var b=c[a];"dangerouslySetInnerHTML"===a?dom.setHTML(e,b.__html):!0===b?e.setAttribute(a,a):!1!==b&&null!==b&&void 0!==b&&e.setAttribute(a,b.toString())}var a={};for(b=2;b<arguments.length;a={$jscomp$loop$prop$child$15:a.$jscomp$loop$prop$child$15},b++)if(a.$jscomp$loop$prop$child$15=arguments[b],Array.isArray(a.$jscomp$loop$prop$child$15))a.$jscomp$loop$prop$child$15.forEach(function(f){return function(g){if(void 0===f.$jscomp$loop$prop$child$15||
null===f.$jscomp$loop$prop$child$15){debugger;g=document.createTextNode("NULL!")}e.appendChild(g)}}(a));else{if(void 0===a.$jscomp$loop$prop$child$15||null===a.$jscomp$loop$prop$child$15)throw"child for tag ["+d+"] is "+a.$jscomp$loop$prop$child$15+"\n"+e.outerHTML;a.$jscomp$loop$prop$child$15.nodeType||(a.$jscomp$loop$prop$child$15=document.createTextNode(a.$jscomp$loop$prop$child$15.toString()));e.appendChild(a.$jscomp$loop$prop$child$15)}return e}var style;
(function(d){function c(b){e(b);switch(b){case "auto":b="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(b="dark");c(b);fetch("/profile/theme/"+b).then(function(a){return a.text()}).then(function(){});break;case "light":document.documentElement.classList.remove("uk-light");document.body.classList.remove("uk-light");document.documentElement.classList.add("uk-dark");document.body.classList.add("uk-dark");break;case "dark":document.documentElement.classList.add("uk-light");
document.body.classList.add("uk-light");document.documentElement.classList.remove("uk-dark");document.body.classList.remove("uk-dark");break;default:console.warn("invalid theme")}}function e(b){if("undefined"===typeof EmojiButton)dom.els(".picker-toggle").forEach(function(f){return dom.setDisplay(f,!1)});else{var a={position:"bottom-end",theme:b,zIndex:1021};dom.els(".textarea-emoji").forEach(function(f){var g=dom.req(".picker-toggle",f);g.addEventListener("click",function(){var h=dom.req(".uk-textarea",
f),k=new EmojiButton(a);k.on("emoji",function(l){drop.onEmojiPicked();dom.insertAtCaret(h,l)});k.togglePicker(g)},!1)})}}d.setTheme=c;d.linkColor="";d.themeLinks=function(b){d.linkColor=b+"-fg";dom.els(".theme").forEach(function(a){a.classList.add(d.linkColor)})}})(style||(style={}));var drop;
(function(d){function c(f){if(f.target){var g=f.target;f=g.dataset.key||"";g=g.dataset.t||"";var h=events.getOpenEvent(f);h?h(g):console.warn("no drop open handler registered for ["+f+"]")}}function e(f){if(f.target){var g=f.target;g.classList.contains("uk-open")&&(f=g.dataset.t||"",(g=events.getCloseEvent(g.dataset.key||""))&&g(f))}}function b(f){a&&f.preventDefault()}d.wire=function(){dom.els(".drop").forEach(function(f){f.addEventListener("show",c);f.addEventListener("beforehide",b);f.addEventListener("hide",
e)})};var a=!1;d.onEmojiPicked=function(){a=!0;setTimeout(function(){return a=!1},200)}})(drop||(drop={}));var events;(function(d){var c=new Map,e=new Map;d.register=function(b,a,f){a||(a=function(){});c.set(b,a);f&&e.set(b,f)};d.getOpenEvent=function(b){return c.get(b)};d.getCloseEvent=function(b){return e.get(b)}})(events||(events={}));var modal;
(function(d){function c(f,g){a=g;notify.modal("#modal-"+f).show();return!1}function e(f){if(f.target&&(f=f.target,0===f.id.indexOf("modal"))){f=f.id.substr(6);var g=events.getOpenEvent(f);g?g(a):console.warn("no modal open handler registered for ["+f+"]");a=void 0}}function b(f){f.target&&(f=f.target,f.classList.contains("uk-open")&&(f=f.id.substr(6),(f=events.getCloseEvent(f))&&f(a),a=void 0))}var a;d.wire=function(){dom.els(".modal").forEach(function(f){f.addEventListener("show",e);f.addEventListener("hide",
b)})};d.open=c;d.openSoon=function(f){setTimeout(function(){return c(f)},0)};d.hide=function(f){f=notify.modal("#modal-"+f);f.$el.classList.contains("uk-open")&&f.hide()}})(modal||(modal={}));var tags;
(function(d){function c(a){var f=dom.req(".value",a),g=dom.req(".editor",a);dom.setDisplay(f,!1);dom.setDisplay(g,!0);var h=d.renderInput(f.innerText);h.onblur=function(){f.innerText=h.value;dom.setDisplay(f,!0);dom.setDisplay(g,!1);b(a.parentElement)};h.onkeypress=function(k){return"Enter"===k.key?(h.blur(),!1):!0};dom.setContent(g,h);h.focus()}function e(a){a.target?b(a.target):console.warn("no event target")}function b(a){var f=a.dataset.key||"",g=events.getOpenEvent(f);g?g():console.warn("no tag open handler registered for ["+
f+"]");a=dom.els(".item",a).map(function(h){return h.innerText});dom.setValue("#model-"+f+"-input",a.join(","))}d.wire=function(){dom.els(".tag-editor").forEach(function(a){a.addEventListener("moved",e);a.addEventListener("added",e);a.addEventListener("removed",e)})};d.removeTag=function(a){a=a.parentElement;var f=a.parentElement;a.remove();b(f)};d.addTag=function(a){if(a=a.parentElement){var f=d.renderItem();a.insertBefore(f,dom.req(".add-item",a));c(f)}};d.editTag=c})(tags||(tags={}));
(function(d){d.renderInput=function(c){return JSX("input",{type:"text",class:"uk-input",value:c})};d.renderItem=function(){return JSX("span",{class:"item"},JSX("span",{class:"value",onclick:"tags.editTag(this.parentElement);"}),JSX("span",{class:"editor"}),JSX("span",{class:"close","data-uk-icon":"icon: close; ratio: 0.6;",onclick:"tags.removeTag(this);"}))};d.renderTagsView=function(c){return JSX("div",{class:"tag-view"},c.map(function(e){return JSX("span",{class:"item"},e)}),JSX("div",{class:"clear"}))}})(tags||
(tags={}));var request;(function(d){d.renderEmpty=function(c){return JSX("div",null)};d.renderSplash=function(c){return JSX("div",null,"Actions: TODO")}})(request||(request={}));
(function(d){function c(a,f,g){dom.setContent("#active-request",d.view.renderRequestDetail(a,f));e(a,f,g)}function e(a,f,g){switch(g){case void 0:dom.setContent("#request-action",d.renderEmpty(f));break;case "edit":dom.setContent("#request-action",d.form.renderForm(a,f));break;default:console.warn("unhandled request action ["+g+"]"),dom.setContent("#request-action",d.renderSplash(f))}}var b=function(){this.requests=new Map};b.prototype.setCollectionRequests=function(a,f){this.requests.set(a,f);if(a===
collection.cache.active)for(dom.setContent("#request-list",d.view.renderRequests(a,f)),a=$jscomp.makeIterator(f),f=a.next();!f.done;f=a.next())f=f.value,this.active===f.key&&c(collection.cache.active,f,this.action)};b.prototype.setActiveRequest=function(a){if(collection.cache.active){var f=collection.cache.active,g=this.requests.get(f)||[];if(this.active!==a)for(this.active=a,a=$jscomp.makeIterator(g),g=a.next();!g.done;g=a.next())g=g.value,g.key===this.active&&c(f,g,this.action)}else console.warn("no active collection")};
b.prototype.setActiveAction=function(a){if(collection.cache.active){var f=collection.cache.active,g=this.requests.get(f)||[];if(this.action!==a)for(this.action=a,a=$jscomp.makeIterator(g),g=a.next();!g.done;g=a.next())g=g.value,g.key===this.active&&e(f,g,this.action)}else console.warn("no active collection")};d.cache=new b})(request||(request={}));
(function(d){d.allMethods=[{key:"GET",description:""},{key:"HEAD",description:""},{key:"POST",description:""},{key:"PUT",description:""},{key:"PATCH",description:""},{key:"DELETE",description:""},{key:"CONNECT",description:""},{key:"OPTIONS",description:""},{key:"TRACE",description:""}]})(request||(request={}));
(function(d){d.prototypeFromURL=function(c){var e=new URL(c);c=[];for(var b=$jscomp.makeIterator(e.searchParams),a=b.next();!a.done;a=b.next()){var f=$jscomp.makeIterator(a.value);a=f.next().value;f=f.next().value;c.push({k:a,v:f})}b=[];0<e.username.length&&b.push({type:"basic",config:{username:e.username,password:e.password,showPassword:!0}});var g;0<e.port.length&&(g=parseInt(e.port));a=e.protocol;f=e.hostname;var h=e.pathname;e=e.hash;a.endsWith(":")&&(a=a.substr(0,a.length-1));e.startsWith("#")&&
(e=e.substr(1));return{method:"get",protocol:a,domain:f,port:g,path:h,query:c,fragment:e,auth:b}}})(request||(request={}));
(function(d){function c(e){var b=[],a=function(h,k){b.push({t:h,v:k})};a("protocol",e.protocol);a("","://");if(e.auth)for(var f=$jscomp.makeIterator(e.auth),g=f.next();!g.done;g=f.next())if(g=g.value,"basic"===g.type){f=g.config;a("username",f.username);a("",":");f.showPassword?a("password",f.password):a("password","****");a("","@");break}a("domain",e.domain);e.port&&(a("",":"),a("port",e.port.toString()));e.path&&0<e.path.length&&(a("","/"),a("path",e.path));e.query&&0<e.query.length&&(a("","?"),
f=e.query.map(function(h){return encodeURIComponent(h.k)+"="+encodeURIComponent(h.v)}).join("&"),a("query",f));e.fragment&&0<e.fragment.length&&(a("","#"),a("fragment",encodeURIComponent(e.fragment)));return b}d.prototypeToURLParts=c;d.prototypeToURL=function(e){return c(e).map(function(b){return b.v}).join("")}})(request||(request={}));
(function(d){(function(c){c.initAuthEditor=function(e){};c.setAuth=function(e,b){var a=new URL(e.url.value),f="",g="";if(b){b=$jscomp.makeIterator(b);for(var h=b.next();!h.done;h=b.next())h=h.value,"basic"===h.type&&(g=h.config,f=encodeURIComponent(g.username),g=encodeURIComponent(g.password))}a.username=f;a.password=g;e.url.value=a.toString()};c.updateBasicAuth=function(e,b){var a=[];try{a=JSON.parse(e.auth.value)}catch(l){console.log("invalid auth JSON ["+e.auth.value+"]")}var f=-1;a||(a=[]);for(var g=
0;g<a.length;g++)"basic"===a[g].type&&(f=g);if(b)for(g=0;g<b.length;g++){var h=b[g];if("basic"===h.type)var k=h.config}-1===f?k&&a.push({type:"basic",config:k}):k?(b=(b=a[f].config)?{username:k.username,password:k.password,showPassword:b.showPassword}:k,a[f]={type:"basic",config:b}):a.splice(f,1);e.auth.value=JSON.stringify(a,null,2)}})(d.editor||(d.editor={}))})(request||(request={}));
(function(d){(function(c){c.initBodyEditor=function(e){};c.setBody=function(e,b){}})(d.editor||(d.editor={}))})(request||(request={}));
(function(d){(function(c){function e(a,f){a.onchange=f;a.onkeyup=f;a.onblur=f}function b(a){e(a.url,function(){c.setURL(a,d.prototypeFromURL(a.url.value))});e(a.auth,function(){try{var f=JSON.parse(a.auth.value)}catch(g){console.log("invalid auth JSON ["+a.auth.value+"]"),f=[]}c.setAuth(a,f)});e(a.qp,function(){try{var f=JSON.parse(a.qp.value)}catch(g){console.log("invalid qp JSON ["+a.qp.value+"]"),f=[]}c.setQueryParams(a,f)});e(a.headers,function(){try{var f=JSON.parse(a.headers.value)}catch(g){console.log("invalid headers JSON ["+
a.headers.value+"]"),f=[]}c.setHeaders(a,f)});e(a.body,function(){try{var f=JSON.parse(a.body.value)}catch(g){console.log("invalid body JSON ["+a.body.value+"]")}c.setBody(a,f)})}c.wireForm=function(a){var f={url:dom.req("#"+a+"-url"),auth:dom.req("#"+a+"-auth"),qp:dom.req("#"+a+"-queryparams"),headers:dom.req("#"+a+"-headers"),body:dom.req("#"+a+"-body")};c.initURLEditor(f.url);c.initAuthEditor(f.auth);c.initQueryParamsEditor(f.qp);c.initHeadersEditor(f.headers);c.initBodyEditor(f.body);c.initOptionsEditor(a);
b(f)}})(d.editor||(d.editor={}))})(request||(request={}));
(function(d){(function(c){function e(b,a){b.appendChild(JSX("li",null,JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},a.k),JSX("div",{class:"uk-width-1-4"},a.v),JSX("div",{class:"uk-width-1-2"},JSX("div",{class:"right"},JSX("a",{class:style.linkColor,href:"",onclick:"return false;",title:"new header"},JSX("span",{"data-uk-icon":"icon: close"}))),a.desc?a.desc:""))))}c.createHeadersEditor=function(b){var a=JSX("ul",{id:b.id+"-ul",class:"uk-list uk-list-divider"}),f=JSX("li",null,JSX("div",
{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Name"),JSX("div",{class:"uk-width-1-4"},"Value"),JSX("div",{class:"uk-width-1-2"},JSX("div",{class:"right"},JSX("a",{class:style.linkColor,href:"",onclick:"request.editor.addChild(dom.req('#"+b.id+"-ul'), {k: '', v: ''});return false;",title:"new header"},JSX("span",{"data-uk-icon":"icon: plus"}))),"Description")));b=JSON.parse(b.value);a.innerText="";a.appendChild(f);f=$jscomp.makeIterator(b);for(b=f.next();!b.done;b=f.next())e(a,b.value);return a};
c.addChild=e})(d.editor||(d.editor={}))})(request||(request={}));(function(d){(function(c){c.initHeadersEditor=function(e){e.parentElement.appendChild(c.createHeadersEditor(e))};c.setHeaders=function(e,b){}})(d.editor||(d.editor={}))})(request||(request={}));(function(d){(function(c){c.initOptionsEditor=function(e){}})(d.editor||(d.editor={}))})(request||(request={}));
(function(d){(function(c){c.initQueryParamsEditor=function(e){};c.setQueryParams=function(e,b){var a=[];if(b){b=$jscomp.makeIterator(b);for(var f=b.next();!f.done;f=b.next())f=f.value,a.push(encodeURIComponent(f.k)+"="+encodeURIComponent(f.v))}b=new URL(e.url.value);b.search=a.join("&");e.url.value=b.toString()};c.updateQueryParams=function(e,b){e.qp.value=JSON.stringify(b,null,2)}})(d.editor||(d.editor={}))})(request||(request={}));
(function(d){(function(c){c.initURLEditor=function(e){};c.setURL=function(e,b){b?(c.updateQueryParams(e,b.query),c.updateBasicAuth(e,b.auth)):e.qp.value="[]"}})(d.editor||(d.editor={}))})(request||(request={}));
(function(d){(function(c){c.renderForm=function(e,b){return JSX("form",{class:"uk-form-stacked"},JSX("input",{type:"hidden",name:"coll",value:e}),JSX("input",{type:"hidden",name:"originalKey",value:b.key}),JSX("fieldset",{class:"uk-fieldset"},JSX("legend",{class:"hidden"},"request form"),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b.key+"-key"},"Key"),JSX("input",{class:"uk-input",id:b.key+"-key",name:"key",type:"text",value:b.key||""})),JSX("div",{class:"uk-margin-top"},
JSX("label",{class:"uk-form-label",for:b.key+"-title"},"Title"),JSX("input",{class:"uk-input",id:b.key+"-title",name:"title",type:"text",value:b.title||""})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b.key+"-description"},"Description"),JSX("input",{class:"uk-input",id:b.key+"-description",name:"description",type:"text",value:b.description||""})),c.renderPrototype(b.key,b.prototype),JSX("div",{class:"uk-margin-top"},JSX("button",{class:"right uk-button uk-button-default uk-margin-top",
type:"submit"},"Save Changes"),nav.link("/c/"+e+"/"+b.key,"Cancel","right uk-button uk-button-default uk-margin-top uk-margin-right"))))}})(d.form||(d.form={}))})(request||(request={}));
(function(d){(function(c){function e(b,a){return a?JSX("div",null,JSX("label",null,JSX("input",{class:"uk-radio",type:"radio",name:b,value:"true",checked:"checked"})," True"),JSX("label",{class:"uk-margin-left"},JSX("input",{class:"uk-radio",type:"radio",name:b,value:"false"})," False")):JSX("div",null,JSX("label",null,JSX("input",{class:"uk-radio",type:"radio",name:b,value:"true"})," True"),JSX("label",{class:"uk-margin-left"},JSX("input",{class:"uk-radio",type:"radio",name:b,value:"false",checked:"checked"}),
" False"))}c.renderOptions=function(b,a){a||(a={});return JSX("div",null,JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b+"-opt-timeout"},"Timeout"),JSX("input",{class:"uk-input",id:b+"-opt-timeout",name:"opt-timeout",type:"number",value:a.timeout})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b+"-opt-ignoreRedirects"},"Ignore Redirects"),e(b+"-opt-ignoreRedirects",a.ignoreRedirects)),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",
for:b+"-opt-ignoreReferrer"},"Ignore Referrer"),e(b+"-opt-ignoreReferrer",a.ignoreReferrer)),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b+"-opt-ignoreCerts"},"Ignore Certs"),e(b+"-opt-ignoreCerts",a.ignoreCerts)),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b+"-opt-excludeDefaultHeaders"},"Exclude Default Headers"),JSX("input",{class:"uk-input",id:b+"-opt-excludeDefaultHeaders",name:"opt-excludeDefaultHeaders",type:"text",value:a.excludeDefaultHeaders})),
JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b+"-opt-readCookieJars"},"Read Cookie Jars"),JSX("input",{class:"uk-input",id:b+"-opt-readCookieJars",name:"opt-readCookieJars",type:"text",value:a.readCookieJars})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b+"-opt-writeCookieJar"},"Write Cookie Jar"),JSX("input",{class:"uk-input",id:b+"-opt-writeCookieJar",name:"opt-writeCookieJar",type:"text",value:a.writeCookieJar})),JSX("div",{class:"uk-margin-top"},
JSX("label",{class:"uk-form-label",for:b+"-opt-sslCert"},"SSL Cert"),JSX("input",{class:"uk-input",id:b+"-opt-sslCert",name:"opt-sslCert",type:"text",value:a.sslCert})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:b+"-opt-userAgentOverride"},"User Agent Override"),JSX("input",{class:"uk-input",id:b+"-opt-userAgentOverride",name:"opt-userAgentOverride",type:"text",value:a.userAgentOverride})))}})(d.form||(d.form={}))})(request||(request={}));
(function(d){(function(c){function e(g,h){return JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:g+"-auth"},"Auth"),JSX("textarea",{class:"uk-textarea",id:"key-auth",name:"auth"},h?JSON.stringify(h,null,2):"null"))}function b(g,h){return JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:g+"-queryparams"},"Query Params"),JSX("textarea",{class:"uk-textarea",id:g+"-queryparams",name:"queryparams"},h?JSON.stringify(h,null,2):"null"))}function a(g,h){return JSX("div",
{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:g+"-headers"},"Headers"),JSX("textarea",{class:"uk-textarea",id:g+"-headers",name:"headers"},h?JSON.stringify(h,null,2):"null"))}function f(g,h){return JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:g+"-body"},"Body"),JSX("textarea",{class:"uk-textarea",id:g+"-body",name:"body"},h?JSON.stringify(h,null,2):"null"))}c.renderPrototype=function(g,h){return JSX("div",null,JSX("div",{class:"uk-margin-top"},JSX("label",
{class:"uk-form-label",for:g+"-method"},"Method"),JSX("select",{class:"uk-select",id:g+"-method",name:"method"},d.allMethods.map(function(k){return k.key===h.method?JSX("option",{selected:"selected"},k.key):JSX("option",null,k.key)}))),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:g+"-url"},"URL"),JSX("input",{class:"uk-input",id:g+"-url",name:"url",type:"text",value:d.prototypeToURL(h)})),e(g,h.auth),b(g,h.query),a(g,h.headers),f(g,h.body),c.renderOptions(g,h.options))}})(d.form||
(d.form={}))})(request||(request={}));(function(d){(function(c){c.renderAuth=function(e){return e&&0!==e.length?JSX("div",null,e.map(function(b){return JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},b.type),JSX("div",{class:"uk-width-3-4"},JSX("pre",null,JSON.stringify(b.config,null,2))))})):JSX("em",null,"no authentication")}})(d.view||(d.view={}))})(request||(request={}));
(function(d){(function(c){c.renderBody=function(e){return e?JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},(null===e||void 0===e?void 0:e.type)||"?"),JSX("div",{class:"uk-width-3-4"},JSX("pre",null,JSON.stringify(e.config,null,2)))):JSX("em",null,"no body")}})(d.view||(d.view={}))})(request||(request={}));
(function(d){(function(c){function e(a){return a&&0!==a.length?JSX("div",null,a.map(function(f){return JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},f.k),JSX("div",{class:"uk-width-3-4"},f.v))})):JSX("em",null,"no query params")}function b(a){if(!a||!(a.timeout||a.ignoreRedirects||a.ignoreReferrer||a.ignoreCerts||a.excludeDefaultHeaders||a.readCookieJars||a.writeCookieJar||a.sslCert||a.userAgentOverride))return JSX("em",null,"no options");var f=function(g,h){return h?JSX("div",{"data-uk-grid":""},
JSX("div",{class:"uk-width-1-4"},g),JSX("div",{class:"uk-width-3-4"},h)):JSX("div",null)};return JSX("div",null,f("Timeout",a.timeout),f("ignoreRedirects",a.ignoreRedirects),f("ignoreReferrer",a.ignoreReferrer),f("ignoreCerts",a.ignoreCerts),f("excludeDefaultHeaders",a.excludeDefaultHeaders),f("readCookieJars",a.readCookieJars),f("writeCookieJar",a.writeCookieJar),f("sslCert",a.sslCert),f("userAgentOverride",a.userAgentOverride))}c.renderPrototype=function(a){return JSX("div",{class:"prototype"},
JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"URL"),JSX("div",{class:"uk-width-3-4"},JSX("div",{class:"url"},d.prototypeToURL(a)))),JSX("hr",null),JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Query Params"),JSX("div",{class:"uk-width-3-4"},e(a.query))),JSX("hr",null),JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Auth"),JSX("div",{class:"uk-width-3-4"},c.renderAuth(a.auth))),JSX("hr",null),JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},
"Body"),JSX("div",{class:"uk-width-3-4"},c.renderBody(a.body))),JSX("hr",null),JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Options"),JSX("div",{class:"uk-width-3-4"},b(a.options))))}})(d.view||(d.view={}))})(request||(request={}));
(function(d){(function(c){function e(b,a){var f=a.title;f&&0!==a.title.length||(f=a.key);return JSX("li",null,nav.link("/c/"+b+"/"+a.key,f))}c.renderRequests=function(b,a){return JSX("ul",{class:"uk-list uk-list-divider"},a.map(function(f){return e(b,f)}))};c.renderRequestLink=e;c.renderRequestDetail=function(b,a){b="/c/"+b+"/"+a.key;return JSX("div",{class:"req",id:"req-"+a.key},JSX("div",null,JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Actions"),JSX("div",{class:"uk-width-3-4"},
nav.link(b+"/call","Call","uk-button uk-button-default uk-margin-right"),nav.link(b+"/transform","Transform","uk-button uk-button-default uk-margin-right"),nav.link(b+"/edit","Edit","uk-button uk-button-default uk-margin-right"),nav.link(b+"/delete","Delete","uk-button uk-button-default uk-margin-right","if (!confirm('Are you sure you want to delete request ["+a.key+"]?')) { return false; }"))),JSX("hr",null),JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Key"),JSX("div",{class:"uk-width-3-4"},
a.key)),JSX("hr",null),JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Title"),JSX("div",{class:"uk-width-3-4"},a.title||"")),JSX("hr",null),JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Description"),JSX("div",{class:"uk-width-3-4"},a.description||"")),JSX("hr",null)),c.renderPrototype(a.prototype))}})(d.view||(d.view={}))})(request||(request={}));var socket;
(function(d){d.routeOld=function(c){c=c.split("/");c=c.filter(function(b){return 0<b.length});console.info("nav (old): "+c.join(" -> "));if(0!==c.length){var e=c[0];switch(e){case "c":e=c[1];e!==collection.cache.active&&(collection.cache.setActiveCollection(e),d.send({svc:services.collection.key,cmd:command.client.getCollection,param:e}));2<c.length&&(e=c[2],e!==request.cache.active&&request.cache.setActiveRequest(e),c=c[3],c!==request.cache.action&&request.cache.setActiveAction(c));break;default:console.info("unhandled svc ["+
e+"]")}}};d.route=function(c){c=c.split("/");c=c.filter(function(a){return 0<a.length});console.info("nav: "+c.join(" -> "));if(0===c.length||0===c[0].length)ui.setPanels();else{var e=c[0];switch(e){case "c":e=1<c.length&&0<c[1].length?c[1]:void 0;var b=2<c.length&&0<c[2].length?c[2]:void 0;c=3<c.length&&0<c[3].length?c[3]:void 0;e!==collection.cache.active&&(collection.cache.setActiveCollection(e),d.send({svc:services.collection.key,cmd:command.client.getCollection,param:e}));b!==request.cache.active&&
request.cache.setActiveRequest(b);c!==request.cache.action&&request.cache.setActiveAction(c);ui.setPanels(e,b,c);break;default:console.info("unhandled svc ["+e+"]")}}}})(socket||(socket={}));
(function(d){function c(){var p=document.location,r="ws";"https:"===p.protocol&&(r="wss");return r+("://"+p.host+"/s")}function e(p,r){q=p;t=r;v=Date.now();h=new WebSocket(c());h.onopen=a;h.onmessage=function(u){return f(JSON.parse(u.data))};h.onerror=function(u){return npn.onError("socket",u.type)};h.onclose=g}function b(p){k?(console.debug("out",p),p=JSON.stringify(p,null,2),h.send(p)):n.push(p)}function a(){log.info("socket connected");k=!0;l=1;n.forEach(b);n=[]}function f(p){console.debug("in",
p);switch(p.svc){case services.system.key:system.onSystemMessage(p.cmd,p.param);break;case services.collection.key:collection.onCollectionMessage(p.cmd,p.param);break;default:console.warn("unhandled message for service ["+p.svc+"]")}}function g(){function p(){k=!1;var r=Date.now()-v;2E3>r?(l*=2,console.info("socket closed immediately, reconnecting in "+l+" seconds"),setTimeout(function(){e(q,t)},1E3*l)):(log.info("socket closed after ["+r+"ms]"),e(q,t))}m||p()}var h,k=!1,l=0,m=!1,n=[],q="",t="",v;
d.setAppUnloading=function(){m=!0};d.socketConnect=e;d.send=b;d.onSocketMessage=f})(socket||(socket={}));var system;(function(d){var c=function(){};c.prototype.getProfile=function(){if(!this.profile)throw"no active profile";return this.profile};c.prototype.apply=function(e){d.cache.profile=e.profile};d.cache=new c})(system||(system={}));
(function(d){d.onSystemMessage=function(c,e){switch(c){case command.server.connected:d.cache.apply(e);break;default:console.warn("unhandled system command ["+c+"]")}}})(system||(system={}));var ui;
(function(d){function c(a){for(var f=a.childElementCount-1;0<=f;f--){var g=a.children[f];g.classList.contains("dynamic")&&a.removeChild(g)}}function e(){return JSX("span",{class:"uk-navbar-item dynamic",style:"padding: 0 8px;"}," / ")}function b(a,f,g,h){return h?nav.link("/c/"+f+"/"+g+"/"+h,a,"uk-navbar-item uk-logo uk-margin-remove uk-padding-remove dynamic"):g?nav.link("/c/"+f+"/"+g,a,"uk-navbar-item uk-logo uk-margin-remove uk-padding-remove dynamic"):nav.link("/c/"+f,a,"uk-navbar-item uk-logo uk-margin-remove uk-padding-remove dynamic")}
d.setBreadcrumbs=function(a,f,g){var h=dom.req("#breadcrumbs");c(h);a&&(h.appendChild(e()),h.appendChild(b(a,a)));f&&(h.appendChild(e()),h.appendChild(b(f,a,f)));g&&(h.appendChild(e()),h.appendChild(b(g,a,f,g)))};d.reset=c})(ui||(ui={}));
(function(d){d.setPanels=function(c,e,b){dom.setDisplay("#collection-list-panel",void 0===c);dom.setDisplay("#collection-panel",void 0!==c&&0<c.length&&void 0===e);dom.setDisplay("#request-panel",void 0!==e&&0<e.length&&void 0===b);dom.setDisplay("#action-panel",void 0!==b&&0<b.length);d.setBreadcrumbs(c,e,b)}})(ui||(ui={}));var profile;
(function(d){d.setNavColor=function(c,e){dom.setValue("#nav-color",e);dom.req("#navbar").className=e+"-bg uk-navbar-container uk-navbar";document.querySelectorAll(".nav_swatch").forEach(function(b){b.classList.remove("active")});c.classList.add("active")};d.setLinkColor=function(c,e){dom.setValue("#link-color",e);dom.els(".profile-link").forEach(function(b){b.classList.forEach(function(a){-1<a.indexOf("-fg")&&b.classList.remove(a);b.classList.add(e+"-fg")})});document.querySelectorAll(".link_swatch").forEach(function(b){b.classList.remove("active")});
c.classList.add("active")};d.setPicture=function(c){dom.setValue("#self-picture-input",c);return!1}})(profile||(profile={}));var command;(function(d){d.client={ping:"ping",connect:"connect",getCollections:"getCollections",getCollection:"getCollection"};d.server={pong:"pong",connected:"connected",collections:"collections",detail:"detail",error:"error"}})(command||(command={}));var date;
(function(d){function c(a){return a.toLocaleDateString()}function e(a){return a.toLocaleTimeString().slice(0,8)}d.dateToYMD=function(a){var f=a.getDate(),g=a.getMonth()+1;return a.getFullYear()+"-"+(9>=g?"0"+g:g)+"-"+(9>=f?"0"+f:f)};d.dateFromYMD=function(a){a=new Date(a);return new Date(a.getTime()+6E4*a.getTimezoneOffset())};d.dow=function(a){switch(a){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"???"}};
d.toDateString=c;d.toTimeString=e;d.toDateTimeString=function(a){return c(a)+" "+e(a)};var b=6E4*(new Date).getTimezoneOffset();d.utcDate=function(a){return new Date(Date.parse(a)+b)}})(date||(date={}));var group;
(function(d){var c=function(b){this.members=[];this.key=b};d.Group=c;var e=function(){this.groups=[]};e.prototype.findOrInsert=function(b){var a=this.groups.find(function(f){return f.key===b});if(a)return a;a=new c(b);this.groups.push(a);return a};d.GroupSet=e;d.groupBy=function(b,a){var f=new e;b&&b.forEach(function(g){f.findOrInsert(a(g)).members.push(g)});return f};d.findGroup=function(b,a){b=$jscomp.makeIterator(b);for(var f=b.next();!f.done;f=b.next())if(f=f.value,f.key===a)return f.members;
return[]};d.flatten=function(b){var a=[];b.forEach(function(f){return a.push.apply(a,$jscomp.arrayFromIterable(f))});return a}})(group||(group={}));var log;
(function(d){function c(f,g){if(0===b)console.warn("call `log.init()` before attempting to log");else{var h=Date.now()-b;f=JSX("li",{class:e(f)},JSX("div",{class:"right"},h,"ms"),g);a||(a=dom.req("#log-panel"));a.appendChild(f)}}function e(f){switch(f){case "debug":return"grey-fg";case "info":return"";case "warn":return"yellow-fg";case "error":return"red-fg";default:return""}}var b=0,a;d.init=function(){b=Date.now();c("debug","npn started")};d.info=function(f){c("info",f)};d.l=c})(log||(log={}));
var nav;
(function(d){function c(b){b.startsWith("/")&&(b=b.substr(1));location.pathname!==b&&history.pushState(b,"","/"+b);e(b)}var e=function(b){console.info("default nav handler called: "+b)};d.init=function(b){e=b;window.onpopstate=function(a){b(null===a.state?"":a.state)};c(location.pathname)};d.navigate=c;d.pop=function(){var b=location.pathname.substr(0,location.pathname.lastIndexOf("/"));"/c"===b&&(b="");c(b)};d.link=function(b,a,f,g){var h=b;h.startsWith("/")||(h="/"+h);f=f?" "+f.trim():"";g?g.endsWith(";")||
(g+=";"):g="";return JSX("a",{class:style.linkColor+f,href:h,onclick:g+"nav.navigate('"+b+"', '"+a+"');return false;"},a)}})(nav||(nav={}));var notify;(function(d){d.notify=function(c,e){UIkit.notification(c,{status:e?"success":"danger",pos:"top-right"})};d.confirm=function(c,e){UIkit.modal.confirm(c).then(e)};d.modal=function(c){var e=UIkit.modal(c);e||console.warn("no modal available with key ["+c+"]");return e}})(notify||(notify={}));var services;
(function(d){d.system={key:"system",title:"System",plural:"systems",icon:"close"};d.collection={key:"collection",title:"Collection",plural:"Collections",icon:"folder"};var c=[d.system,d.collection];d.fromKey=function(e){var b=c.find(function(a){return a.key===e});if(!b)throw"invalid service ["+e+"]";return b}})(services||(services={}));
