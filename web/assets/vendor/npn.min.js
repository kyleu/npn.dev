var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(b){return b.raw=b};$jscomp.createTemplateTagFirstArgWithRaw=function(b,e){b.raw=e;return b};$jscomp.arrayIteratorImpl=function(b){var e=0;return function(){return e<b.length?{done:!1,value:b[e++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var e="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return e?e.call(b):$jscomp.arrayIterator(b)};
$jscomp.arrayFromIterator=function(b){for(var e,c=[];!(e=b.next()).done;)c.push(e.value);return c};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<b.length;++e){var c=b[e];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var b={},e=Object.create(new $jscomp.global.Proxy(b,{get:function(c,d,a){return c==b&&"q"==d&&a==e}}));return!0===e.q}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,c){if(b==Array.prototype||b==Object.prototype)return b;b[e]=c.value;return b};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};
$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,e){var c=$jscomp.propertyToPolyfillSymbol[e];if(null==c)return b[e];c=b[c];return void 0!==c?c:b[e]};$jscomp.polyfill=function(b,e,c,d){e&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,e,c,d):$jscomp.polyfillUnisolated(b,e,c,d))};
$jscomp.polyfillUnisolated=function(b,e,c,d){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var a=b[d];if(!(a in c))return;c=c[a]}b=b[b.length-1];d=c[b];e=e(d);e!=d&&null!=e&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:e})};
$jscomp.polyfillIsolated=function(b,e,c,d){var a=b.split(".");b=1===a.length;d=a[0];d=!b&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<a.length-1;f++){var g=a[f];if(!(g in d))return;d=d[g]}a=a[a.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[a]:null;e=e(c);null!=e&&(b?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:e}):e!==c&&($jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+a,a=
$jscomp.propertyToPolyfillSymbol[a],$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:e})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(b){if(b)return b;var e=function(a,f){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};e.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(a){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(a||"")+"_"+c++,a)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<e.length;c++){var d=$jscomp.global[e[c]];"function"===typeof d&&"function"!=typeof d.prototype[b]&&$jscomp.defineProperty(d.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return b},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};$jscomp.owns=function(b,e){return Object.prototype.hasOwnProperty.call(b,e)};
$jscomp.polyfill("WeakMap",function(b){function e(){if(!b||!Object.seal)return!1;try{var l=Object.seal({}),m=Object.seal({}),n=new b([[l,2],[m,3]]);if(2!=n.get(l)||3!=n.get(m))return!1;n.delete(l);n.set(m,4);return!n.has(l)&&4==n.get(m)}catch(q){return!1}}function c(){}function d(l){var m=typeof l;return"object"===m&&null!==l||"function"===m}function a(l){if(!$jscomp.owns(l,g)){var m=new c;$jscomp.defineProperty(l,g,{value:m})}}function f(l){if(!$jscomp.ISOLATE_POLYFILLS){var m=Object[l];m&&(Object[l]=
function(n){if(n instanceof c)return n;Object.isExtensible(n)&&a(n);return m(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(e())return b;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var h=0,k=function(l){this.id_=(h+=Math.random()+1).toString();if(l){l=$jscomp.makeIterator(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}};k.prototype.set=function(l,m){if(!d(l))throw Error("Invalid WeakMap key");
a(l);if(!$jscomp.owns(l,g))throw Error("WeakMap key fail: "+l);l[g][this.id_]=m;return this};k.prototype.get=function(l){return d(l)&&$jscomp.owns(l,g)?l[g][this.id_]:void 0};k.prototype.has=function(l){return d(l)&&$jscomp.owns(l,g)&&$jscomp.owns(l[g],this.id_)};k.prototype.delete=function(l){return d(l)&&$jscomp.owns(l,g)&&$jscomp.owns(l[g],this.id_)?delete l[g][this.id_]:!1};return k},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(b){function e(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var k=Object.seal({x:4}),l=new b($jscomp.makeIterator([[k,"s"]]));if("s"!=l.get(k)||1!=l.size||l.get({x:4})||l.set({x:4},"t")!=l||2!=l.size)return!1;var m=l.entries(),n=m.next();if(n.done||n.value[0]!=k||"s"!=n.value[1])return!1;n=m.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!m.next().done?!1:!0}catch(q){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(e())return b;var c=new WeakMap,d=function(k){this.data_={};this.head_=g();this.size=0;if(k){k=$jscomp.makeIterator(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}};d.prototype.set=function(k,l){k=0===k?0:k;var m=a(this,k);m.list||(m.list=this.data_[m.id]=[]);m.entry?m.entry.value=l:(m.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:k,value:l},m.list.push(m.entry),
this.head_.previous.next=m.entry,this.head_.previous=m.entry,this.size++);return this};d.prototype.delete=function(k){k=a(this,k);return k.entry&&k.list?(k.list.splice(k.index,1),k.list.length||delete this.data_[k.id],k.entry.previous.next=k.entry.next,k.entry.next.previous=k.entry.previous,k.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(k){return!!a(this,k).entry};d.prototype.get=function(k){return(k=
a(this,k).entry)&&k.value};d.prototype.entries=function(){return f(this,function(k){return[k.key,k.value]})};d.prototype.keys=function(){return f(this,function(k){return k.key})};d.prototype.values=function(){return f(this,function(k){return k.value})};d.prototype.forEach=function(k,l){for(var m=this.entries(),n;!(n=m.next()).done;)n=n.value,k.call(l,n[1],n[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var a=function(k,l){var m=l&&typeof l;"object"==m||"function"==m?c.has(l)?m=c.get(l):
(m=""+ ++h,c.set(l,m)):m="p_"+l;var n=k.data_[m];if(n&&$jscomp.owns(k.data_,m))for(k=0;k<n.length;k++){var q=n[k];if(l!==l&&q.key!==q.key||l===q.key)return{id:m,list:n,index:k,entry:q}}return{id:m,list:n,index:-1,entry:void 0}},f=function(k,l){var m=k.head_;return $jscomp.iteratorPrototype(function(){if(m){for(;m.head!=k.head_;)m=m.previous;for(;m.next!=m.head;)return m=m.next,{done:!1,value:l(m)};m=null}return{done:!0,value:void 0}})},g=function(){var k={};return k.previous=k.next=k.head=k},h=0;
return d},"es6","es3");$jscomp.checkStringArgs=function(b,e,c){if(null==b)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(e,c){var d=$jscomp.checkStringArgs(this,e,"endsWith");e+="";void 0===c&&(c=d.length);c=Math.max(0,Math.min(c|0,d.length));for(var a=e.length;0<a&&0<c;)if(d[--c]!=e[--a])return!1;return 0>=a}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(e,c){var d=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var a=d.length,f=e.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<a;)if(d[c++]!=e[g++])return!1;return g>=f}},"es6","es3");
$jscomp.iteratorFromArray=function(b,e){b instanceof String&&(b+="");var c=0,d={next:function(){if(c<b.length){var a=c++;return{value:e(a,b[a]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3");
$jscomp.findInternal=function(b,e,c){b instanceof String&&(b=String(b));for(var d=b.length,a=0;a<d;a++){var f=b[a];if(e.call(c,f,a,b))return{i:a,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(e,c){return $jscomp.findInternal(this,e,c).v}},"es6","es3");var npn;
(function(b){b.onError=function(e,c){console.error(e+": "+c);var d=c.lastIndexOf(":");-1<d&&(c=c.substr(d+1));notify.notify(e+" error: "+c,!1)};b.init=function(e,c){try{var d=window.self!==window.top}catch(a){d=!0}d?(document.body.innerHTML="",document.body.appendChild(rbody.iframeError())):(log.init(),window.onbeforeunload=function(){socket.setAppUnloading()},nav.init(socket.route),socket.socketConnect(e,c))};b.debug=function(){var e=function(c,d){console.warn(c+": "+(void 0===d?"":d))};e("Active Collection",
collection.cache.active);e("Active Request",request.cache.active);e("Active Action",request.cache.action+" ["+request.cache.extra+"]")};b.testbed=function(){log.info("Testbed!")}})(npn||(npn={}));var rbody;
(function(b){b.renderBody=function(e,c){if(!c)return JSX("div",null,"No body");switch(c.type){case "json":return c=c.config,JSX("div",null,JSX("em",null,"JSON"),JSX("pre",null,json.str(c.msg)));case "html":return e=request.baseURL(e),c=c.config,JSX("div",{class:"html-body"},JSX("span",{class:"base-url hidden"},e),JSX("span",{class:"preview-link right"},"(",JSX("a",{class:style.linkColor,href:"",onclick:"rbody.renderHTMLPreview(this);return false"},"preview"),")"),JSX("span",{class:"text-link right hidden"},
"(",JSX("a",{class:style.linkColor,href:"",onclick:"rbody.renderHTMLText(this);return false"},"text"),")"),JSX("em",null,"HTML"),JSX("pre",{class:"text-content",style:"overflow: auto; max-height: 720px;"},c.content),JSX("div",{class:"preview-content uk-margin-top hidden",style:"overflow: auto; max-height: 720px; border: 1px solid #666;"}));case "image":return c=c.config,JSX("img",{alt:"response image",src:"data:"+c.type+";base64,"+c.content});case "raw":return c=c.config,JSX("div",null,JSX("em",null,
c.type?c.type:"Unknown Type"),JSX("pre",null,json.str(c)));case "error":return c=c.config,JSX("div",null,JSX("em",null,"Error"),JSX("pre",null,c.message));default:return JSX("div",null,"unhandled body type [",c.type,"]")}}})(rbody||(rbody={}));
(function(b){function e(c,d){var a=c.parentElement.parentElement;if(!a.classList.contains("html-body"))throw"container is not class [html-body]";c=dom.req(".base-url",a);var f=dom.req(".text-link",a),g=dom.req(".text-content",a),h=dom.req(".preview-link",a);a=dom.req(".preview-content",a);dom.setDisplay(f,d);dom.setDisplay(g,!d);dom.setDisplay(h,!d);dom.setDisplay(a,d);return[c.innerText,g,a]}b.renderHTMLPreview=function(c){c=e(c,!0);var d=document.createElement("iframe");d.style.width="100%";d.style.minHeight=
"720px";var a=c[0];var f=c[1].innerText;var g=f.indexOf("<head");-1<g&&(g=f.indexOf(">",g),-1<g&&(a='<base href="'+a+'" target="_blank">',f=f.substr(0,g+1)+a+f.substr(g+1)));c[2].innerHTML="";c[2].appendChild(d);c=d.contentDocument||d.contentWindow.document;c.open();c.write(f);c.close()};b.renderHTMLText=function(c){e(c,!1)};b.iframeError=function(){return JSX("div",{class:"uk-container"},JSX("div",{class:"uk-section uk-section-small"},JSX("h3",null,"Rendering Error"),JSX("p",null,"This page indicates that the HTML preview was unable to render.")))}})(rbody||
(rbody={}));(function(b){b.AllTypes=[{key:"error",title:"Error",hidden:!0},{key:"form",title:"Form",hidden:!1},{key:"html",title:"HTML",hidden:!1},{key:"json",title:"JSON",hidden:!1},{key:"large",title:"Large File",hidden:!1},{key:"raw",title:"Raw",hidden:!0}]})(rbody||(rbody={}));var call;
(function(b){b.prepare=function(e,c){socket.send({svc:services.request.key,cmd:command.client.call,param:{coll:e,req:c.key,proto:c.prototype}})};b.setResult=function(e){var c=dom.req("#"+e.collection+"--"+e.request+"-call");dom.setContent(c,b.renderResult(e))}})(call||(call={}));
(function(b){function e(a,f){f=void 0===f?[]:f;return 0===f.length?d(a,"No headers"):JSX("div",{class:"uk-overflow-auto"},JSX("h4",null,a),JSX("table",{class:"uk-table uk-table-divider uk-text-left uk-table-small uk-table-justify"},JSX("tbody",null,f.map(function(g){return JSX("tr",{title:g.desc},JSX("td",{class:"uk-text-nowrap"},g.k),JSX("td",{class:"uk-text-nowrap"},g.v))}))))}function c(a){if(!a)return JSX("div",null,"No timing");a=b.timingSections(a);return JSX("div",{class:"timing-panel"},JSX("div",
{class:"result-timing-graph"},JSX("object",{type:"image/svg+xml",style:"width: 100%; height: "+24*a.length+"px",data:b.timingGraph(a)},"SVG not supported")),JSX("hr",null),a.map(function(f){return JSX("div",null,f.key,": ",f.start," - ",f.end)}))}function d(a,f){f||(f="undefined");return JSX("div",null,JSX("h4",null,a)," ",f)}b.renderResult=function(a){var f,g,h,k=JSX("div",null,"no result");if(a.response){k=a.response.contentType||"";var l=a.response.contentLength&&-1<a.response.contentLength?"("+
a.response.contentLength+" bytes)":"";k=JSX("div",null,a.response.proto," ",JSX("em",null,a.response.status),JSX("div",null,k," ",l))}return[JSX("div",{class:"right"},JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.pop();return false;",title:"close result"})),JSX("div",{class:"clear"}),JSX("div",null,JSX("ul",{"data-uk-tab":""},JSX("li",null,JSX("a",{href:"#result"},"Result")),JSX("li",null,JSX("a",{href:"#request"},"Request")),JSX("li",null,JSX("a",{href:"#headers"},"Response")),
JSX("li",null,JSX("a",{href:"#body"},"Body")),JSX("li",null,JSX("a",{href:"#timing"},"Timing"))),JSX("ul",{class:"uk-switcher uk-margin"},JSX("li",null,JSX("div",null,a.status,": ",((null===(f=a.timing)||void 0===f?void 0:f.completed)||0)/1E3,"ms"),k),JSX("li",null,JSX("h3",{class:"uk-margin-small-bottom"},a.url),e("Final Request Headers",a.requestHeaders)),JSX("li",null,e("Response Headers",null===(g=a.response)||void 0===g?void 0:g.headers)),JSX("li",null,rbody.renderBody(a.url,null===(h=a.response)||
void 0===h?void 0:h.body)),JSX("li",null,c(a.timing))))]}})(call||(call={}));
(function(b){b.timingSections=function(e){var c=[],d=function(f,g,h,k){h&&k&&c.push({key:f,group:g,start:h,end:k})};d("dns","connect",e.dnsStart,e.dnsEnd);d("connect","connect",e.connectStart,e.connectEnd);var a=e.connectEnd;0<(e.tlsEnd||0)&&(a=e.tlsEnd||0,d("tls","connect",e.tlsStart||0,a));d("reqheaders","request",a,e.wroteHeaders);2<e.wroteRequest-e.wroteHeaders&&d("reqbody","request",e.wroteHeaders,e.wroteRequest);d("rspwait","response",e.wroteRequest,e.firstResponseByte);d("rspheaders","response",
e.firstResponseByte,e.responseHeaders);d("rspbody","response",e.responseHeaders,e.completed);return c};b.timingGraph=function(e){var c,d=[];e=$jscomp.makeIterator(e);for(var a=e.next();!a.done;a=e.next())a=a.value,0<a.group.length&&d.push(encodeURIComponent(a.key+".g")+"="+encodeURIComponent(a.group)),d.push(encodeURIComponent(a.key+".s")+"="+encodeURIComponent(a.start)),d.push(encodeURIComponent(a.key+".e")+"="+encodeURIComponent(a.end));d.push("t="+(null===(c=system.cache.profile)||void 0===c?void 0:
c.theme)||"light");return"/svg/gantt?"+d.join("&")}})(call||(call={}));var collection;(function(b){var e=function(){this.collections=[]};e.prototype.updateCollection=function(c){this.collections=group.updateAndSort(this.collections,c,function(d){return d.key});b.renderCollections(this.collections)};e.prototype.setActiveCollection=function(c){this.active!==c&&(this.active=c,b.renderCollections(this.collections))};b.cache=new e})(collection||(collection={}));
(function(b){function e(d){var a=d.title;a&&0!==a.length||(a=d.key);var f=nav.link({path:"/c/"+d.key,title:a,icon:"folder"});if(b.cache.active===d.key){var g=request.cache.summaries.get(d.key);g&&(f=JSX("div",null,nav.link({path:"/",title:a,icon:"album"}),g.map(function(h){return JSX("div",{class:"uk-margin-small-left"},nav.link({path:"/c/"+d.key+"/"+h.key,title:h.title&&0<h.title.length?h.title:h.key,icon:"link"}))})))}return JSX("div",{class:"nav-item collection-link collection-link-"+d.key},f)}
function c(d,a){a=group.sort(a,function(f){return f.order});return JSX("ul",{class:"uk-list uk-list-divider"},a.map(function(f){var g=f.title;g&&0!==f.title.length||(g=f.key);return JSX("li",null,nav.link({path:"/c/"+d+"/"+f.key,title:g}),f.description&&f.description.length?JSX("div",null,JSX("em",null,f.description)):JSX("span",null))}))}b.renderCollections=function(d){return dom.els(".collection-list").forEach(function(a){dom.setContent(a,d.map(function(f){return e(f)}))})};b.renderCollection=function(d,
a){var f=d.title?d.title:d.key;return JSX("div",null,JSX("div",{class:"uk-card uk-card-body uk-card-default"},JSX("div",{class:"right"},JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.pop();return false;",title:"close collection"})),JSX("h3",{class:"uk-card-title"},JSX("span",{class:"nav-icon-h3","data-uk-icon":"icon: album"}),f),JSX("p",null,d.description||"")),JSX("div",{class:"uk-card uk-card-body uk-card-default uk-margin-top"},JSX("h3",{class:"uk-card-title"},"Requests"),
JSX("form",{onsubmit:"collection.addRequestURL();return false;"},JSX("div",{class:"uk-margin-top uk-inline uk-width-expand"},JSX("button",{class:"uk-form-icon uk-form-icon-flip",type:"submit",title:"add request","uk-icon":"icon: plus"}),JSX("input",{id:"coll-request-add-url",class:"uk-input",placeholder:"add a request by url","data-lpignore":"true"}))),JSX("div",{id:"request-list",class:"uk-margin-top"},c(d.key,a))))};b.addRequestURL=function(){var d=dom.req("#coll-request-add-url"),a=d.value.trim();
a&&0<a.length&&(d.value="",socket.send({svc:services.collection.key,cmd:command.client.addURL,param:{coll:b.cache.active,url:a}}));console.log("adding request ["+a+"]")}})(collection||(collection={}));
(function(b){b.onCollectionMessage=function(e,c){switch(e){case command.server.collections:b.cache.collections=group.sort(c,function(d){return d.key});log.info("processing ["+b.cache.collections.length+"] collections");b.renderCollections(b.cache.collections);break;case command.server.collectionDetail:log.info("processing ["+c.requests.length+"] requests for collection ["+c.collection.key+"]");b.cache.updateCollection(c.collection);request.cache.setCollectionRequests(c.collection,c.requests);b.renderCollections(b.cache.collections);
break;default:console.warn("unhandled collection command ["+e+"]")}}})(collection||(collection={}));var dom;
(function(b){function e(g,h){var k=[];(h?h.querySelectorAll(g):document.querySelectorAll(g)).forEach(function(l){k.push(l)});return k}function c(g,h){h=e(g,h);switch(h.length){case 0:break;case 1:return h[0];default:console.warn("found ["+h.length+"] elements with selector ["+g+"], wanted zero or one")}}function d(g,h){(h=c(g,h))||console.warn("no element found for selector ["+g+"]");return h}function a(g,h){"string"===typeof g&&(g=d(g));g.innerHTML=h;return g}function f(g,h,k){k=void 0===k?"block":
k;"string"===typeof g&&(g=d(g));g.style.display=h?k:"none";return g}b.initDom=function(g,h){try{style.themeLinks(h),style.setTheme(g)}catch(k){console.warn("error setting style",k)}try{modal.wire()}catch(k){console.warn("error wiring modals",k)}try{drop.wire()}catch(k){console.warn("error wiring drops",k)}try{tags.wire()}catch(k){console.warn("error wiring tag editors",k)}try{flash.wire()}catch(k){console.warn("error wiring tag editors",k)}};b.els=e;b.opt=c;b.req=d;b.setHTML=a;b.setDisplay=f;b.setContent=
function(g,h){"string"===typeof g&&(g=d(g));b.clear(g);Array.isArray(h)?h.forEach(function(k){return g.appendChild(k)}):g.appendChild(h);return g};b.setText=function(g,h){"string"===typeof g&&(g=d(g));g.innerText=h;return g};b.switchElements=function(g,h){f(g,!1);f(h,!0);return!1};b.clear=function(g){return a(g,"")}})(dom||(dom={}));
(function(b){b.setValue=function(e,c){"string"===typeof e&&(e=b.req(e));e.value=c;return e};b.wireTextarea=function(e){function c(){e.style.height="auto";e.style.height=(64>e.scrollHeight?64:e.scrollHeight+6)+"px"}function d(){window.setTimeout(c,0)}e.dataset.autoresize||(e.dataset.autoresize="true",e.addEventListener("change",c,!1),e.addEventListener("cut",d,!1),e.addEventListener("paste",d,!1),e.addEventListener("drop",d,!1),e.addEventListener("keydown",d,!1),e.focus(),e.select());c()};b.setOptions=
function(e,c){"string"===typeof e&&(e=b.req(e));b.clear(e);c.forEach(function(d){var a=document.createElement("option");a.value=d;b.setText(a,d);e.appendChild(a)})};b.setSelectOption=function(e,c){"string"===typeof e&&(e=b.req(e));for(var d=0;d<e.children.length;d++){var a=e.children.item(d);a.selected=a.value===c}};b.insertAtCaret=function(e,c){if(e.selectionStart||0===e.selectionStart){var d=e.selectionStart,a=e.selectionEnd;e.value=e.value.substring(0,d)+c+e.value.substring(a,e.value.length);e.selectionStart=
d+c.length;e.selectionEnd=d+c.length}else e.value+=c}})(dom||(dom={}));
function JSX(b,e){var c=document.createElement(b);for(a in e)if(a&&e.hasOwnProperty(a)){var d=e[a];"dangerouslySetInnerHTML"===a?dom.setHTML(c,d.__html):!0===d?c.setAttribute(a,a):!1!==d&&null!==d&&void 0!==d&&c.setAttribute(a,d.toString())}var a={};for(d=2;d<arguments.length;a={$jscomp$loop$prop$child$19:a.$jscomp$loop$prop$child$19},d++)if(a.$jscomp$loop$prop$child$19=arguments[d],Array.isArray(a.$jscomp$loop$prop$child$19))a.$jscomp$loop$prop$child$19.forEach(function(f){return function(g){if(void 0===f.$jscomp$loop$prop$child$19||
null===f.$jscomp$loop$prop$child$19)throw"child array for tag ["+b+"] is "+f.$jscomp$loop$prop$child$19+"\n"+c.outerHTML;if(void 0===g||null===g)throw"child for tag ["+b+"] is "+g+"\n"+c.outerHTML;"string"===typeof g&&(g=document.createTextNode(g));c.appendChild(g)}}(a));else{if(void 0===a.$jscomp$loop$prop$child$19||null===a.$jscomp$loop$prop$child$19)throw"child for tag ["+b+"] is "+a.$jscomp$loop$prop$child$19+"\n"+c.outerHTML;a.$jscomp$loop$prop$child$19.nodeType||(a.$jscomp$loop$prop$child$19=
document.createTextNode(a.$jscomp$loop$prop$child$19.toString()));c.appendChild(a.$jscomp$loop$prop$child$19)}return c}var style;
(function(b){function e(d){c(d);switch(d){case "auto":d="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(d="dark");e(d);fetch("/profile/theme/"+d).then(function(a){return a.text()}).then(function(){});break;case "light":document.documentElement.classList.remove("uk-light");document.body.classList.remove("uk-light");document.documentElement.classList.add("uk-dark");document.body.classList.add("uk-dark");break;case "dark":document.documentElement.classList.add("uk-light");
document.body.classList.add("uk-light");document.documentElement.classList.remove("uk-dark");document.body.classList.remove("uk-dark");break;default:console.warn("invalid theme")}}function c(d){if("undefined"===typeof EmojiButton)dom.els(".picker-toggle").forEach(function(f){return dom.setDisplay(f,!1)});else{var a={position:"bottom-end",theme:d,zIndex:1021};dom.els(".textarea-emoji").forEach(function(f){var g=dom.req(".picker-toggle",f);g.addEventListener("click",function(){var h=dom.req(".uk-textarea",
f),k=new EmojiButton(a);k.on("emoji",function(l){drop.onEmojiPicked();dom.insertAtCaret(h,l)});k.togglePicker(g)},!1)})}}b.setTheme=e;b.linkColor="";b.themeLinks=function(d){b.linkColor=d+"-fg";dom.els(".theme").forEach(function(a){a.classList.add(b.linkColor)})}})(style||(style={}));var drop;
(function(b){function e(f){if(f.target){var g=f.target;f=g.dataset.key||"";g=g.dataset.t||"";var h=events.getOpenEvent(f);h?h(g):console.warn("no drop open handler registered for ["+f+"]")}}function c(f){if(f.target){var g=f.target;g.classList.contains("uk-open")&&(f=g.dataset.t||"",(g=events.getCloseEvent(g.dataset.key||""))&&g(f))}}function d(f){a&&f.preventDefault()}b.wire=function(){dom.els(".drop").forEach(function(f){f.addEventListener("show",e);f.addEventListener("beforehide",d);f.addEventListener("hide",
c)})};var a=!1;b.onEmojiPicked=function(){a=!0;setTimeout(function(){return a=!1},200)}})(drop||(drop={}));var events;(function(b){var e=new Map,c=new Map;b.register=function(d,a,f){a||(a=function(){});e.set(d,a);f&&c.set(d,f)};b.getOpenEvent=function(d){return e.get(d)};b.getCloseEvent=function(d){return c.get(d)}})(events||(events={}));var flash;
(function(b){function e(){var d=!1;dom.els(".alert-top").forEach(function(a){d=!0;a.classList.add("uk-animation-fade","uk-animation-reverse")});d&&setTimeout(c,1E3)}function c(){dom.els(".alert-top").forEach(function(d){d.remove()})}b.wire=function(){setTimeout(e,4E3)}})(flash||(flash={}));var modal;
(function(b){function e(f,g){a=g;notify.modal("#modal-"+f).show();return!1}function c(f){if(f.target&&(f=f.target,0===f.id.indexOf("modal"))){f=f.id.substr(6);var g=events.getOpenEvent(f);g?g(a):console.warn("no modal open handler registered for ["+f+"]");a=void 0}}function d(f){f.target&&(f=f.target,f.classList.contains("uk-open")&&(f=f.id.substr(6),(f=events.getCloseEvent(f))&&f(a),a=void 0))}var a;b.wire=function(){dom.els(".modal").forEach(function(f){f.addEventListener("show",c);f.addEventListener("hide",
d)})};b.open=e;b.openSoon=function(f){setTimeout(function(){return e(f)},0)};b.hide=function(f){f=notify.modal("#modal-"+f);f.$el.classList.contains("uk-open")&&f.hide()}})(modal||(modal={}));var tags;
(function(b){function e(a){var f=dom.req(".value",a),g=dom.req(".editor",a);dom.setDisplay(f,!1);dom.setDisplay(g,!0);var h=b.renderInput(f.innerText);h.onblur=function(){f.innerText=h.value;dom.setDisplay(f,!0);dom.setDisplay(g,!1);d(a.parentElement)};h.onkeypress=function(k){return"Enter"===k.key?(h.blur(),!1):!0};dom.setContent(g,h);h.focus()}function c(a){a.target?d(a.target):console.warn("no event target")}function d(a){var f=a.dataset.key||"",g=events.getOpenEvent(f);g?g():console.warn("no tag open handler registered for ["+
f+"]");a=dom.els(".item",a).map(function(h){return h.innerText});dom.setValue("#model-"+f+"-input",a.join(","))}b.wire=function(){dom.els(".tag-editor").forEach(function(a){a.addEventListener("moved",c);a.addEventListener("added",c);a.addEventListener("removed",c)})};b.removeTag=function(a){a=a.parentElement;var f=a.parentElement;a.remove();d(f)};b.addTag=function(a){if(a=a.parentElement){var f=b.renderItem();a.insertBefore(f,dom.req(".add-item",a));e(f)}};b.editTag=e})(tags||(tags={}));
(function(b){b.renderInput=function(e){return JSX("input",{type:"text",class:"uk-input",value:e})};b.renderItem=function(){return JSX("span",{class:"item"},JSX("span",{class:"value",onclick:"tags.editTag(this.parentElement);"}),JSX("span",{class:"editor"}),JSX("span",{class:"close","data-uk-icon":"icon: close; ratio: 0.6;",onclick:"tags.removeTag(this);"}))};b.renderTagsView=function(e){return JSX("div",{class:"tag-view"},e.map(function(c){return JSX("span",{class:"item"},c)}),JSX("div",{class:"clear"}))}})(tags||
(tags={}));var header;
(function(b){function e(a,f,g,h){return{key:a,description:f,req:g,rsp:h,link:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/"+a}}b.commonHeaders=[e("Accept","Informs the server about the types of data that can be sent back.",!0,!1),e("Access-Control-Allow-Headers","Used in response to a preflight request to indicate which HTTP headers can be used when making the actual request.",!1,!0),e("Access-Control-Allow-Methods","Specifies the methods allowed when accessing the resource in response to a preflight request.",!1,
!0),e("Access-Control-Allow-Origin","Indicates whether the response can be shared.",!1,!0),e("Authorization","Contains the credentials to authenticate a user-agent with a server.",!0,!1),e("Connection","Controls whether the network connection stays open after the current transaction finishes.",!0,!1),e("Content-Encoding","Used to specify the compression algorithm.",!0,!0),e("Content-Length","The size of the resource, in decimal number of bytes.",!0,!0),e("Content-Type","Indicates the media type of the resource.",
!0,!0),e("Cookie","Contains stored HTTP cookies previously sent by the server with the Set-Cookie header.",!0,!1),e("Date","The Date general HTTP header contains the date and time at which the message was originated.",!1,!0),e("ETag","A unique string identifying the version of the resource.",!1,!0),e("Expires","The date/time after which the response is considered stale.",!1,!0),e("Host","Specifies the domain name of the server (for virtual hosting), and (optionally) the TCP port number on which the server is listening.",
!0,!1),e("Last-Modified","The last modification date of the resource, used to compare several versions of the same resource.",!1,!0),e("Location","Indicates the URL to redirect a page to. ",!1,!0),e("Origin","Indicates where a fetch originates from.",!0,!1),e("Referer","The address of the previous web page from which a link to the currently requested page was followed.",!0,!1),e("Server","Contains information about the software used by the origin server to handle the request.",!1,!0),e("Set-Cookie",
"Send cookies from the server to the user-agent.",!1,!0),e("User-Agent","Contains a characteristic string that allows the network protocol peers to identify the application",!0,!1)];b.commonHeadersByName=new Map;for(var c=$jscomp.makeIterator(b.commonHeaders),d=c.next();!d.done;d=c.next())d=d.value,b.commonHeadersByName.set(d.key,d);b.dumpCommonHeaders=function(){var a=function(f,g,h){var k=!1;console.log("\n::: "+f+" Headers");b.commonHeaders.forEach(function(l){l.req==g&&l.rsp==h&&(k=!0,console.log(l.key+
": "+l.link),console.log("  - "+l.description))});k||console.log("none")};a("Common",!0,!0);a("Request",!0,!1);a("Response",!1,!0);a("Invalid",!1,!1)}})(header||(header={}));var request;
(function(b){function e(){return JSX("div",{class:"right"},JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.navigate(`/c/${collection.cache.active}/${request.cache.active}`);return false;",title:"close collection"}))}b.renderActionEmpty=function(){return JSX("div",null)};b.renderActionUnknown=function(c,d){return JSX("div",null,e(),"unknown action: ",c," (",d,")")};b.renderActionCall=function(c,d){return JSX("div",{id:c+"--"+d+"-call"},e(),JSX("div",{class:"call-title"},
"Loading..."),JSX("div",{class:"call-result"}))};b.renderActionTransform=function(c,d,a){return JSX("div",{id:c+"--"+d+"-transform"},e(),JSX("div",{class:"transform-title"},a),JSX("div",{class:"transform-result"}))}})(request||(request={}));
(function(b){var e=function(){this.summaries=new Map;this.requests=new Map;this.extra=[]};e.prototype.setCollectionRequests=function(c,d){this.summaries.set(c.key,d);if(c.key===collection.cache.active)for(dom.setContent("#collection-panel",collection.renderCollection(c,d)),c=$jscomp.makeIterator(d),d=c.next();!d.done;d=c.next())d=d.value,this.active===d.key&&(b.renderActiveRequest(collection.cache.active),this.action&&b.renderAction(collection.cache.active,d.key,this.action,this.extra))};e.prototype.setActiveRequest=
function(c){collection.cache.active&&this.active!==c&&(this.active=c)&&b.renderActiveRequest(collection.cache.active)};e.prototype.setActiveAction=function(c,d){if(collection.cache.active){var a=this.extra.length===d.length&&this.extra.every(function(f,g){return f===d[g]});!this.active||this.action===c&&a||(this.action=c,this.extra=d,b.renderAction(collection.cache.active,this.active,this.action,this.extra))}};e.prototype.updateRequest=function(c){if(collection.cache.active){var d=this.requests.get(collection.cache.active);
c=group.update(d,c,function(a){return a.key});this.requests.set(collection.cache.active,c)}};b.cache=new e})(request||(request={}));
(function(b){b.diff=function(e,c){var d=[],a=function(k,l,m){l!==m&&d.push({k:k,l:l,r:m})},f=function(k,l,m){return e?c?!1:(d.push({k:k,l:"(defined)",r:null}),!0):(c&&d.push({k:k,l:null,r:"(defined)"}),!0)};if(f("request",e,c))return d;a("key",e.key,c.key);a("title",e.title,c.title);a("description",e.description,c.description);var g=e.prototype,h=c.prototype;a("method",g.method,h.method);a("protocol",g.protocol,h.protocol);a("domain",g.domain,h.domain);a("port",g.port,h.port);a("path",g.path,h.path);
if(!f("query",g.query,h.query)){if(!g.query||!h.query)return d;a("query.length",g.query.length,h.query.length)}a("fragment",g.fragment,h.fragment);if(!f("headers",g.headers,h.headers)){if(!g.headers||!h.headers)return d;a("headers.length",g.headers.length,h.headers.length)}if(!f("auth",g.auth,h.auth)){if(!g.auth||!h.auth)return d;a("auth.length",g.auth.length,h.auth.length)}if(!f("body",g.body,h.body)){if(!g.body||!h.body)return d;a("body.type",g.body.type,h.body.type);a("body.config",g.body.config,
h.body.config)}g=g.options;h=h.options;if(f("options",g,h)||!g||!h)return d;a("timeout",g.timeout,h.timeout);a("ignoreRedirects",g.ignoreRedirects,h.ignoreRedirects);a("ignoreReferrer",g.ignoreReferrer,h.ignoreReferrer);a("ignoreCerts",g.ignoreCerts,h.ignoreCerts);a("ignoreCookies",g.ignoreCookies,h.ignoreCookies);a("excludeDefaultHeaders",g.excludeDefaultHeaders,h.excludeDefaultHeaders);a("readCookieJars",g.readCookieJars,h.readCookieJars);a("writeCookieJar",g.writeCookieJar,h.writeCookieJar);a("sslCert",
g.sslCert,h.sslCert);a("userAgentOverride",g.userAgentOverride,h.userAgentOverride);return d}})(request||(request={}));
(function(b){function e(c,d){c=$jscomp.makeIterator(b.cache.requests.get(c)||[]);for(var a=c.next();!a.done;a=c.next())if(a=a.value,a.key===d)return a}b.getActiveRequest=function(){return e(collection.cache.active,b.cache.active)};b.getSummary=function(c,d){c=$jscomp.makeIterator(b.cache.summaries.get(c)||[]);for(var a=c.next();!a.done;a=c.next())if(a=a.value,a.key===d)return a};b.getRequest=e;b.onRequestMessage=function(c,d){switch(c){case command.server.requestDetail:b.cache.updateRequest(d);b.cache.active===
d.key&&(b.renderActiveRequest(collection.cache.active),b.renderAction(collection.cache.active,b.cache.active,b.cache.action,b.cache.extra));break;case command.server.callResult:call.setResult(d);c="r/"+d.id;history.replaceState(c,"","/"+c);break;default:console.warn("unhandled request command ["+c+"]")}}})(request||(request={}));
(function(b){b.MethodGet={key:"GET",description:""};b.MethodHead={key:"HEAD",description:""};b.MethodPost={key:"POST",description:""};b.MethodPut={key:"PUT",description:""};b.MethodPatch={key:"PATCH",description:""};b.MethodDelete={key:"DELETE",description:""};b.MethodConnect={key:"CONNECT",description:""};b.MethodOptions={key:"OPTIONS",description:""};b.MethodTrace={key:"TRACE",description:""};b.allMethods=[b.MethodGet,b.MethodHead,b.MethodPost,b.MethodPut,b.MethodPatch,b.MethodDelete,b.MethodConnect,
b.MethodOptions,b.MethodTrace]})(request||(request={}));
(function(b){b.prototypeFromURL=function(e){var c=new URL(e);e=[];for(var d=$jscomp.makeIterator(c.searchParams),a=d.next();!a.done;a=d.next()){var f=$jscomp.makeIterator(a.value);a=f.next().value;f=f.next().value;e.push({k:a,v:f})}d=[];0<c.username.length&&d.push({type:"basic",config:{username:c.username,password:c.password,showPassword:!0}});var g;0<c.port.length&&(g=parseInt(c.port));a=c.protocol;f=c.hostname;var h=c.pathname;c=c.hash;a.endsWith(":")&&(a=a.substr(0,a.length-1));c.startsWith("#")&&
(c=c.substr(1));return{method:"get",protocol:a,domain:f,port:g,path:h,query:e,fragment:c,auth:d}}})(request||(request={}));
(function(b){b.renderActiveRequest=function(e){if(b.cache.active){var c=b.getRequest(e,b.cache.active);if(c)dom.setContent("#request-panel",b.form.renderFormPanel(e,c)),b.editor.wireForm(c.key);else if(c=b.getSummary(e,b.cache.active))dom.setContent("#request-panel",b.renderSummaryPanel(e,c)),socket.send({svc:services.request.key,cmd:command.client.getRequest,param:{coll:e,req:c.key}})}else console.warn("no active request")};b.renderAction=function(e,c,d,a){var f=dom.opt(".request-editor"),g=dom.opt(".request-action");
if(f&&g){switch(d){case void 0:dom.setContent(g,b.renderActionEmpty());break;case "call":if(!b.getRequest(e,c))return;call.prepare(e,b.form.extractRequest());dom.setContent(g,b.renderActionCall(e,c));break;case "transform":dom.setContent(g,b.renderActionTransform(e,c,a[0]));break;default:console.warn("unhandled request action ["+d+"]"),dom.setContent(g,b.renderActionUnknown(d,a))}dom.setDisplay(f,void 0===d);dom.setDisplay(g,void 0!==d)}}})(request||(request={}));
(function(b){b.renderSummaryPanel=function(e,c){return JSX("div",null,JSX("div",{class:"uk-card uk-card-body uk-card-default"},JSX("div",{class:"right"},JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.navigate('/c/"+e+"');return false;",title:"close request"})),JSX("h3",{class:"uk-card-title"},c.title?c.title:c.key),JSX("p",null,"Loading...")))}})(request||(request={}));
(function(b){function e(f){f=new URL(f);return{method:b.MethodGet.key,protocol:str.trimSuffix(f.protocol,":"),domain:f.hostname,port:parseInt(f.port,10),path:str.trimPrefix(f.pathname,"/"),fragment:str.trimPrefix(f.hash,"#")}}function c(f){if(!f)return"invalid";var g=f.domain;f.port&&0<f.port&&(g+=":"+f.port);return f.protocol+"://"+g+"/"}function d(f){var g=[],h=function(m,n){g.push({t:m,v:n})};h("protocol",f.protocol);h("","://");if(f.auth)for(var k=$jscomp.makeIterator(f.auth),l=k.next();!l.done;l=
k.next())if(l=l.value,"basic"===l.type){k=l.config;h("username",k.username);h("",":");k.showPassword?h("password",k.password):h("password","****");h("","@");break}h("domain",f.domain);f.port&&(h("",":"),h("port",f.port.toString()));f.path&&0<f.path.length&&(h("","/"),h("path",f.path));f.query&&0<f.query.length&&(h("","?"),k=f.query.map(function(m){return encodeURIComponent(m.k)+"="+encodeURIComponent(m.v)}).join("&"),h("query",k));f.fragment&&0<f.fragment.length&&(h("","#"),h("fragment",encodeURIComponent(f.fragment)));
return g}function a(f){switch(f){case "username":case "password":case "protocol":case "auth":return"green-fg";case "domain":case "port":return"blue-fg";case "path":return"bluegrey-fg";case "query":return"purple-fg";default:return""}}b.urlToPrototype=e;b.prototypeToURL=function(f){return d(f).map(function(g){return g.v}).join("")};b.prototypeToHTML=function(f){return JSX("span",null,d(f).map(function(g){return JSX("span",{title:g.t,class:a(g.t)},g.v)}))};b.baseURL=function(f){return c(e(f))};b.prototypeBaseURL=
c})(request||(request={}));
(function(b){(function(e){e.initAuthEditor=function(c){};e.setAuth=function(c,d){var a=new URL(c.url.value),f="",g="";if(d){d=$jscomp.makeIterator(d);for(var h=d.next();!h.done;h=d.next())h=h.value,"basic"===h.type&&(g=h.config,f=encodeURIComponent(g.username),g=encodeURIComponent(g.password))}a.username=f;a.password=g;c.url.value=a.toString()};e.updateBasicAuth=function(c,d){var a=[];try{a=json.parse(c.auth.value)}catch(l){console.log("invalid auth JSON ["+c.auth.value+"]")}var f=-1;a||(a=[]);for(var g=
0;g<a.length;g++)"basic"===a[g].type&&(f=g);if(d)for(g=0;g<d.length;g++){var h=d[g];if("basic"===h.type)var k=h.config}-1===f?k&&a.push({type:"basic",config:k}):k?(d=(d=a[f].config)?{username:k.username,password:k.password,showPassword:d.showPassword}:k,a[f]={type:"basic",config:d}):a.splice(f,1);c.auth.value=json.str(a)}})(b.editor||(b.editor={}))})(request||(request={}));
(function(b){(function(e){function c(d){var a=json.parse(d.value);return JSX("div",{class:"uk-margin-top"},JSX("select",{class:"uk-select"},JSX("option",{value:""},"No body"),rbody.AllTypes.filter(function(f){return!f.hidden}).map(function(f){return a&&a.type===f.key?JSX("option",{value:f.key,selected:"selected"},f.title):JSX("option",{value:f.key},f.title)}),"\u02d9"),rbody.AllTypes.filter(function(f){return!f.hidden}).map(function(f){var g=a&&a.type==f.key?a.config:null;a:{var h=f.key,k="uk-margin-top body-editor-"+
h;f.key!==(a?a.type:"")&&(k+=" hidden");switch(h){case "json":f=JSX("div",{class:k},JSX("textarea",{class:"uk-textarea"},json.str(g?g.msg:null)));break a;default:f=JSX("div",{class:k},"Unimplemented [",h,"] editor")}}return f}))}e.initBodyEditor=function(d){d.parentElement.appendChild(c(d))};e.setBody=function(d,a){}})(b.editor||(b.editor={}))})(request||(request={}));
(function(b){(function(e){function c(a,f){a.onchange=f;a.onkeyup=f;a.onblur=f}function d(a){c(a.url,function(){e.setURL(a,b.prototypeFromURL(a.url.value))});c(a.auth,function(){try{var f=json.parse(a.auth.value)}catch(g){console.log("invalid auth JSON ["+a.auth.value+"]"),f=[]}e.setAuth(a,f)});c(a.qp,function(){try{var f=json.parse(a.qp.value)}catch(g){console.log("invalid qp JSON ["+a.qp.value+"]"),f=[]}e.setQueryParams(a,f)});c(a.headers,function(){try{var f=json.parse(a.headers.value)}catch(g){console.log("invalid headers JSON ["+
a.headers.value+"]"),f=[]}e.setHeaders(a,f)});c(a.body,function(){try{var f=json.parse(a.body.value)}catch(g){console.log("invalid body JSON ["+a.body.value+"]")}e.setBody(a,f)})}e.wireForm=function(a){a={url:dom.req("#"+a+"-url"),auth:dom.req("#"+a+"-auth"),qp:dom.req("#"+a+"-queryparams"),headers:dom.req("#"+a+"-headers"),body:dom.req("#"+a+"-body"),options:dom.req("#"+a+"-options")};e.initURLEditor(a.url);e.initAuthEditor(a.auth);e.initQueryParamsEditor(a.qp);e.initHeadersEditor(a.headers);e.initBodyEditor(a.body);
e.initOptionsEditor(a.options);d(a)}})(b.editor||(b.editor={}))})(request||(request={}));
(function(b){(function(e){function c(a){var f=JSX("ul",{id:a.id+"-ul",class:"uk-list uk-list-divider"}),g=JSX("li",null,JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},"Name"),JSX("div",{class:"uk-width-1-4"},"Value"),JSX("div",{class:"uk-width-1-2"},JSX("div",{class:"right"},JSX("a",{class:style.linkColor,href:"",onclick:"request.editor.addChild(dom.req('#"+a.id+"-ul'), {k: '', v: ''});return false;",title:"new header"},JSX("span",{"data-uk-icon":"icon: plus"}))),"Description")));
a=json.parse(a.value);f.innerText="";f.appendChild(g);if(a)for(g=$jscomp.makeIterator(a),a=g.next();!a.done;a=g.next())d(f,a.value);return f}function d(a,f){a.appendChild(JSX("li",null,JSX("div",{"data-uk-grid":""},JSX("div",{class:"uk-width-1-4"},f.k),JSX("div",{class:"uk-width-1-4"},f.v),JSX("div",{class:"uk-width-1-2"},JSX("div",{class:"right"},JSX("a",{class:style.linkColor,href:"",onclick:"return false;",title:"new header"},JSX("span",{"data-uk-icon":"icon: close"}))),f.desc?f.desc:""))))}e.initHeadersEditor=
function(a){a.parentElement.appendChild(c(a))};e.setHeaders=function(a,f){};e.addChild=d})(b.editor||(b.editor={}))})(request||(request={}));
(function(b){(function(e){function c(a){var f=json.parse(a.value);f||(f={});return JSX("div",null,JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-timeout"},"Timeout"),JSX("input",{class:"uk-input",id:a.id+"-timeout",name:"opt-timeout",type:"number",value:f.timeout})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label"},"Ignore"),JSX("div",null,d(a.id,"ignoreRedirects","Redirects",f.ignoreRedirects||!1),d(a.id,"ignoreReferrer","Referrer",f.ignoreReferrer||
!1),d(a.id,"ignoreCerts","Certs",f.ignoreCerts||!1),d(a.id,"ignoreCookies","Cookies",f.ignoreCookies||!1))),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-excludeDefaultHeaders"},"Exclude Default Headers"),JSX("input",{class:"uk-input",id:a.id+"-excludeDefaultHeaders",name:"opt-excludeDefaultHeaders",type:"text",value:f.excludeDefaultHeaders})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-readCookieJars"},"Read Cookie Jars"),JSX("input",
{class:"uk-input",id:a.id+"-readCookieJars",name:"opt-readCookieJars",type:"text",value:f.readCookieJars})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"writeCookieJar"},"Write Cookie Jar"),JSX("input",{class:"uk-input",id:a.id+"-writeCookieJar",name:"opt-writeCookieJar",type:"text",value:f.writeCookieJar})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-sslCert"},"SSL Cert"),JSX("input",{class:"uk-input",id:a.id+"-sslCert",name:"opt-sslCert",
type:"text",value:f.sslCert})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.id+"-userAgentOverride"},"User Agent Override"),JSX("input",{class:"uk-input",id:a.id+"-userAgentOverride",name:"opt-userAgentOverride",type:"text",value:f.userAgentOverride})))}function d(a,f,g,h){a="opt-"+f;return h?JSX("label",{class:"uk-margin-right"},JSX("input",{type:"checkbox",name:a,value:"true",checked:!0})," ",g):JSX("label",{class:"uk-margin-right"},JSX("input",{type:"checkbox",name:a,
value:"true"})," ",g)}e.initOptionsEditor=function(a){a.parentElement.appendChild(c(a))}})(b.editor||(b.editor={}))})(request||(request={}));
(function(b){(function(e){e.initQueryParamsEditor=function(c){};e.setQueryParams=function(c,d){var a=[];if(d){d=$jscomp.makeIterator(d);for(var f=d.next();!f.done;f=d.next())f=f.value,a.push(encodeURIComponent(f.k)+"="+encodeURIComponent(f.v))}d=new URL(c.url.value);d.search=a.join("&");c.url.value=d.toString()};e.updateQueryParams=function(c,d){c.qp.value=json.str(d)}})(b.editor||(b.editor={}))})(request||(request={}));
(function(b){(function(e){e.initURLEditor=function(c){};e.setURL=function(c,d){d?(e.updateQueryParams(c,d.query),e.updateBasicAuth(c,d.auth)):c.qp.value="[]"}})(b.editor||(b.editor={}))})(request||(request={}));
(function(b){(function(e){function c(d){return dom.req("#"+b.cache.active+"-"+d).value}e.extractRequest=function(){var d=c("key"),a=c("title"),f=c("description"),g=c("url"),h=b.urlToPrototype(g);h.method=c("method");h.query=json.parse(c("queryparams"));h.headers=json.parse(c("headers"));h.auth=json.parse(c("auth"));h.body=json.parse(c("body"));h.options=json.parse(c("options"));console.log(g,h);return{key:d,title:a,description:f,prototype:h}}})(b.form||(b.form={}))})(request||(request={}));
(function(b){(function(e){function c(a,f){var g="/c/"+a+"/"+f.key;a="if (!confirm('Are you sure you want to delete request ["+f.key+"]?')) { return false; }";return JSX("div",null,nav.link({path:g+"/call",title:"Call",cls:"uk-button uk-button-default uk-margin-small-right uk-margin-top",isButton:!0}),JSX("div",{class:"uk-inline"},JSX("button",{type:"button",class:"uk-button uk-button-default uk-margin-small-right uk-margin-top"},"Export"),JSX("div",{id:"export-dropdown","uk-dropdown":"mode: click"},
JSX("ul",{class:"uk-list uk-list-divider",style:"margin-bottom: 0;"},Object.keys(d).map(function(h){return JSX("li",null,nav.link({path:g+"/transform/"+h,title:d[h],onclk:"UIkit.dropdown(dom.req('#export-dropdown')).hide(false);"}))})))),nav.link({path:g+"/delete",title:"Delete",cls:"uk-button uk-button-default uk-margin-small-right uk-margin-top",onclk:a,isButton:!0}))}e.renderFormPanel=function(a,f){return JSX("div",null,JSX("div",{class:"uk-card uk-card-body uk-card-default"},JSX("div",{class:"right"},
JSX("a",{class:"theme uk-icon","data-uk-icon":"close",href:"",onclick:"nav.navigate('/c/"+a+"');return false;",title:"close request"})),JSX("h3",{class:"uk-card-title"},f.title?f.title:f.key),e.renderURL(f),JSX("div",{id:"save-panel",class:"right hiddenX"},JSX("button",{class:"uk-button uk-button-default uk-margin-small-right uk-margin-top",onclick:"console.log('TODO!');"},"Reset"),JSX("button",{class:"uk-button uk-button-default uk-margin-top",onclick:"console.log(request.form.extractRequest());"},
"Save Changes")),c(a,f)),JSX("div",{class:"request-editor uk-card uk-card-body uk-card-default uk-margin-top"},e.renderSwitcher(f)),JSX("div",{class:"request-action uk-card uk-card-body uk-card-default uk-margin-top hidden"}))};e.renderDetails=function(a){return JSX("li",{class:"request-details-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.key+"-key"},"Key"),JSX("input",{class:"uk-input",id:a.key+"-key",name:"key",type:"text",value:a.key||"","data-lpignore":"true"})),
JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.key+"-title"},"Title"),JSX("input",{class:"uk-input",id:a.key+"-title",name:"title",type:"text",value:a.title||"","data-lpignore":"true"})),JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:a.key+"-description"},"Description"),JSX("textarea",{class:"uk-textarea",id:a.key+"-description",name:"description","data-lpignore":"true"},a.description||"")))};var d={http:"HTTP",json:"JSON",curl:"curl"}})(b.form||
(b.form={}))})(request||(request={}));
(function(b){(function(e){e.renderSwitcher=function(c){var d=c.key,a=c.prototype,f=JSX("ul",{"data-uk-tab":""},JSX("li",null,JSX("a",{href:"#details"},"Details")),JSX("li",null,JSX("a",{href:"#query"},"Query")),JSX("li",null,JSX("a",{href:"#auth"},"Auth")),JSX("li",null,JSX("a",{href:"#headers"},"Headers")),JSX("li",null,JSX("a",{href:"#body"},"Body")),JSX("li",null,JSX("a",{href:"#options"},"Options")));c=e.renderDetails(c);var g=a.query;g=JSX("li",{class:"request-queryparams-panel"},JSX("div",{class:"uk-margin-top"},
JSX("label",{class:"uk-form-label",for:d+"-queryparams"},"Query Params"),JSX("textarea",{class:"uk-textarea",id:d+"-queryparams",name:"queryparams"},json.str(g))));var h=a.auth;h=JSX("li",{class:"request-auth-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:d+"-auth"},"Auth"),JSX("textarea",{class:"uk-textarea",id:d+"-auth",name:"auth"},json.str(h))));var k=a.headers;k=JSX("li",{class:"request-headers-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",
for:d+"-headers"},"Headers"),JSX("textarea",{class:"uk-textarea",id:d+"-headers",name:"headers"},json.str(k))));var l=a.body;l=JSX("li",{class:"request-body-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:d+"-body"},"Body"),JSX("textarea",{class:"uk-textarea",id:d+"-body",name:"body"},json.str(l))));a=a.options;d=JSX("li",{class:"request-options-panel"},JSX("div",{class:"uk-margin-top"},JSX("label",{class:"uk-form-label",for:d+"-options"},"Options"),JSX("textarea",
{class:"uk-textarea",id:d+"-options",name:"options"},json.str(a))));return JSX("div",null,f,JSX("ul",{class:"uk-switcher uk-margin"},c,g,h,k,l,d))}})(b.form||(b.form={}))})(request||(request={}));
(function(b){(function(e){e.renderURL=function(c){var d="nav.navigate(`/c/"+collection.cache.active+"/"+c.key+"/call`);return false;";return JSX("div",{class:"uk-margin-top uk-panel"},JSX("div",{class:"left",style:"width:120px;"},JSX("select",{class:"uk-select",id:c.key+"-method",name:"method"},b.allMethods.map(function(a){return a.key===c.prototype.method?JSX("option",{selected:"selected"},a.key):JSX("option",null,a.key)}))),JSX("div",{class:"uk-inline right",style:"width:calc(100% - 120px);"},JSX("a",
{class:"uk-form-icon uk-form-icon-flip",href:"",onclick:d,title:"send request","uk-icon":"icon: play"}),JSX("form",{onsubmit:d},JSX("input",{class:"uk-input",id:c.key+"-url",name:"url",type:"text",value:b.prototypeToURL(c.prototype),"data-lpignore":"true"}))))}})(b.form||(b.form={}))})(request||(request={}));var socket;
(function(b){b.route=function(e){var c=e.split("/");c=c.filter(function(g){return 0<g.length});console.info("nav: "+c.join(" -> "));e=0<c.length?c[0]:"c";switch(e){case "c":e=1<c.length&&0<c[1].length?c[1]:void 0;var d=2<c.length&&0<c[2].length?c[2]:void 0,a=3<c.length&&0<c[3].length?c[3]:void 0;c=4<c.length?c.slice(4):[];var f=collection.cache.active;collection.cache.setActiveCollection(e);e!==f&&e&&b.send({svc:services.collection.key,cmd:command.client.getCollection,param:e});request.cache.setActiveRequest(d);
request.cache.setActiveAction(a,c);ui.setPanels(e,d,a,c);break;default:console.info("unhandled svc ["+e+"]")}}})(socket||(socket={}));
(function(b){function e(){var p=document.location,r="ws";"https:"===p.protocol&&(r="wss");return r+("://"+p.host+"/s")}function c(p,r){q=p;t=r;v=Date.now();h=new WebSocket(e());h.onopen=a;h.onmessage=function(u){return f(json.parse(u.data))};h.onerror=function(u){return npn.onError("socket",u.type)};h.onclose=g}function d(p){k?(console.debug("out",p),p=json.str(p),h.send(p)):n.push(p)}function a(){log.info("socket connected");k=!0;l=1;n.forEach(d);n=[]}function f(p){console.debug("in",p);switch(p.svc){case services.system.key:system.onSystemMessage(p.cmd,
p.param);break;case services.collection.key:collection.onCollectionMessage(p.cmd,p.param);break;case services.request.key:request.onRequestMessage(p.cmd,p.param);break;default:console.warn("unhandled message for service ["+p.svc+"]")}}function g(){function p(){k=!1;var r=Date.now()-v;2E3>r?(l*=2,console.info("socket closed immediately, reconnecting in "+l+" seconds"),setTimeout(function(){c(q,t)},1E3*l)):(log.info("socket closed after ["+r+"ms]"),c(q,t))}m||p()}var h,k=!1,l=0,m=!1,n=[],q="",t="",
v;b.setAppUnloading=function(){m=!0};b.socketConnect=c;b.send=d;b.onSocketMessage=f})(socket||(socket={}));var system;(function(b){var e=function(){};e.prototype.getProfile=function(){if(!this.profile)throw"no active profile";return this.profile};e.prototype.apply=function(c){b.cache.profile=c.profile};b.cache=new e})(system||(system={}));
(function(b){b.onSystemMessage=function(e,c){switch(e){case command.server.error:console.warn("error from server: "+c);break;case command.server.connected:b.cache.apply(c);break;default:console.warn("unhandled system command ["+e+"]")}}})(system||(system={}));var ui;
(function(b){function e(a){for(var f=a.childElementCount-1;0<=f;f--){var g=a.children[f];g.classList.contains("dynamic")&&a.removeChild(g)}}function c(){return JSX("span",{class:"uk-navbar-item dynamic",style:"padding: 0 8px;"}," / ")}function d(a,f){for(var g=[],h=1;h<arguments.length;++h)g[h-1]=arguments[h];g=g.map(function(k){return"/"+k}).join("");return nav.link({path:g,title:a,cls:"uk-navbar-item uk-logo uk-margin-remove uk-padding-remove dynamic"})}b.setBreadcrumbs=function(a,f,g,h){var k=
dom.req("#breadcrumbs");e(k);k.appendChild(nav.link({path:"/",title:"npn",cls:"uk-navbar-item uk-logo uk-margin-remove uk-padding-remove dynamic"}));if(a&&(k.appendChild(c()),k.appendChild(d(a,"c",a)),f&&(k.appendChild(c()),k.appendChild(d(f,"c",a,f)),g&&(k.appendChild(c()),k.appendChild(d(g,"c",a,f,g)),h&&0<h.length))))for(var l=0;l<h.length;l++){k.appendChild(c());var m=[a,f,g];m.push.apply(m,$jscomp.arrayFromIterable(h.slice(0,l)));k.appendChild(d.apply(null,[h[l]].concat($jscomp.arrayFromIterable(m))))}};
b.reset=e})(ui||(ui={}));(function(b){b.setPanels=function(e,c,d,a){dom.setDisplay("#welcome-panel",void 0===e);dom.setDisplay("#collection-panel",void 0!==e&&0<e.length&&void 0===c);dom.setDisplay("#request-panel",void 0!==c&&0<c.length);b.setBreadcrumbs(e,c,d,a);a="";d&&(a+=d+" ");e&&(a+=e);c&&(a+="/"+c);a=0==a.length?"npn":"npn: "+a;document.title=a}})(ui||(ui={}));var profile;
(function(b){b.setNavColor=function(e,c){dom.setValue("#nav-color",c);dom.req("#navbar").className=c+"-bg uk-navbar-container uk-navbar";document.querySelectorAll(".nav_swatch").forEach(function(d){d.classList.remove("active")});e.classList.add("active")};b.setLinkColor=function(e,c){dom.setValue("#link-color",c);dom.els(".profile-link").forEach(function(d){d.classList.forEach(function(a){-1<a.indexOf("-fg")&&d.classList.remove(a);d.classList.add(c+"-fg")})});document.querySelectorAll(".link_swatch").forEach(function(d){d.classList.remove("active")});
e.classList.add("active")};b.setPicture=function(e){dom.setValue("#self-picture-input",e);return!1}})(profile||(profile={}));var command;(function(b){b.client={ping:"ping",connect:"connect",getCollection:"getCollection",addURL:"addURL",getRequest:"getRequest",call:"call"};b.server={error:"error",pong:"pong",connected:"connected",collections:"collections",collectionDetail:"collectionDetail",requestDetail:"requestDetail",callResult:"callResult"}})(command||(command={}));var date;
(function(b){function e(a){return a.toLocaleDateString()}function c(a){return a.toLocaleTimeString().slice(0,8)}b.dateToYMD=function(a){var f=a.getDate(),g=a.getMonth()+1;return a.getFullYear()+"-"+(9>=g?"0"+g:g)+"-"+(9>=f?"0"+f:f)};b.dateFromYMD=function(a){a=new Date(a);return new Date(a.getTime()+6E4*a.getTimezoneOffset())};b.dow=function(a){switch(a){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"???"}};
b.toDateString=e;b.toTimeString=c;b.toDateTimeString=function(a){return e(a)+" "+c(a)};var d=6E4*(new Date).getTimezoneOffset();b.utcDate=function(a){return new Date(Date.parse(a)+d)}})(date||(date={}));var group;
(function(b){function e(f,g){if(!f)return[];f.sort(function(h,k){h=g(h);k=g(k);return h>k?1:h<k?-1:0});return f}function c(f,g,h){if(!f)return[g];var k=!1,l=h(g),m;for(m in f)h(f[m])==l&&(k=!0,f[m]=g);k||f.push(g);return f}var d=function(f){this.members=[];this.key=f};b.Group=d;var a=function(){this.groups=[]};a.prototype.findOrInsert=function(f){var g=this.groups.find(function(h){return h.key===f});if(g)return g;g=new d(f);this.groups.push(g);return g};b.GroupSet=a;b.groupBy=function(f,g){var h=
new a;f&&f.forEach(function(k){h.findOrInsert(g(k)).members.push(k)});return h};b.findGroup=function(f,g){f=$jscomp.makeIterator(f);for(var h=f.next();!h.done;h=f.next())if(h=h.value,h.key===g)return h.members;return[]};b.flatten=function(f){var g=[];f.forEach(function(h){return g.push.apply(g,$jscomp.arrayFromIterable(h))});return g};b.sort=e;b.update=c;b.updateAndSort=function(f,g,h){return e(c(f,g,h),h)}})(group||(group={}));var json;
(function(b){b.str=function(e){return void 0===e?"null":JSON.stringify(e,null,2)};b.parse=function(e){return JSON.parse(e)}})(json||(json={}));var log;
(function(b){function e(g,h){if(0===d)console.warn("call `log.init()` before attempting to log");else{var k=Date.now()-d;k=JSX("li",{class:c(g)},JSX("div",{class:"right"},k,"ms"),h);if(!f&&(f=dom.req("#log-list"),!f)){console.log(g+": "+h);return}f.appendChild(k);a||(a=dom.req("#log-content"));a.scrollTo(0,a.scrollHeight)}}function c(g){switch(g){case "debug":return"grey-fg";case "info":return"";case "warn":return"yellow-fg";case "error":return"red-fg";default:return""}}var d=0,a,f;b.init=function(){d=
Date.now();e("debug","npn started")};b.info=function(g){e("info",g)};b.l=e;b.toggle=function(){var g=dom.req("#workspace-content"),h=dom.req("#log-container"),k=""!==h.style.display&&"none"!==h.style.display;k?g.classList.remove("log-visible"):g.classList.add("log-visible");dom.setDisplay(h,!k);a||(a=dom.req("#log-content"));a.scrollTo(0,a.scrollHeight)}})(log||(log={}));var nav;
(function(b){function e(d){if(d.startsWith("text/html;"))return"";d.startsWith("/")&&(d=d.substr(1));var a=location.pathname;a.startsWith("/")&&(a=a.substr(1));a!==d&&(a=d,history.pushState(a,"","/"+a));c(d)}var c=function(d){console.info("default nav handler called: "+d)};b.init=function(d){c=d;window.onpopstate=function(a){a.state?c(a.state):c("")};e(location.pathname)};b.pop=function(){var d=location.pathname.substr(0,location.pathname.lastIndexOf("/"));"/c"===d&&(d="");e(d)};b.navigate=e;b.navActiveRequest=
function(){e("/c/"+collection.cache.active+"/"+request.cache.active)};b.link=function(d){var a=d.path;a.startsWith("/")||(a="/"+a);d.cls=d.cls?" "+d.cls.trim():"";var f=JSX("span",null);d.icon&&(f=JSX("span",{class:"nav-icon","data-uk-icon":"icon: "+d.icon}));d.onclk?d.onclk.endsWith(";")||(d.onclk+=";"):d.onclk="";d.isButton||(d.cls=style.linkColor+d.cls);return JSX("a",{class:d.cls,href:a,onclick:d.onclk+"nav.navigate('"+d.path+"', '"+d.title+"');return false;"},f,d.title)}})(nav||(nav={}));var notify;
(function(b){b.notify=function(e,c){UIkit.notification(e,{status:c?"success":"danger",pos:"top-right"})};b.confirm=function(e,c){UIkit.modal.confirm(e).then(c)};b.modal=function(e){var c=UIkit.modal(e);c||console.warn("no modal available with key ["+e+"]");return c}})(notify||(notify={}));var services;
(function(b){b.system={key:"system",title:"System",plural:"systems",icon:"close"};b.collection={key:"collection",title:"Collection",plural:"Collections",icon:"folder"};b.request={key:"request",title:"Request",plural:"Requests",icon:"file-text"};var e=[b.system,b.collection];b.fromKey=function(c){var d=e.find(function(a){return a.key===c});if(!d)throw"invalid service ["+c+"]";return d}})(services||(services={}));var str;
(function(b){b.trimPrefix=function(e,c){return e.startsWith(c)?e.slice(c.length):e};b.trimSuffix=function(e,c){return e.endsWith(c)?e.substring(0,e.lastIndexOf(c)):e}})(str||(str={}));
