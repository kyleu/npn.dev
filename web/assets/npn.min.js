var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,c){a.raw=c;return a};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterator=function(a){for(var c,e=[];!(c=a.next()).done;)e.push(c.value);return e};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var c=0;c<a.length;++c){var e=a[c];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},c=Object.create(new $jscomp.global.Proxy(a,{get:function(e,d,b){return e==a&&"q"==d&&b==c}}));return!0===c.q}catch(e){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(e||"")+"_"+c++,e)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};
$jscomp.polyfill=function(a,c,e,d){if(c){e=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var b=a[d];b in e||(e[b]={});e=e[b]}a=a[a.length-1];d=e[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("WeakMap",function(a){function c(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(l){return!1}}function e(){}function d(a){var b=typeof a;return"object"===b&&null!==a||"function"===b}function b(a){if(!$jscomp.owns(a,g)){var b=new e;$jscomp.defineProperty(a,g,{value:b})}}function f(a){var c=Object[a];c&&(Object[a]=function(a){if(a instanceof
e)return a;b(a);return c(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var k=0,h=function(a){this.id_=(k+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};h.prototype.set=function(a,c){if(!d(a))throw Error("Invalid WeakMap key");b(a);if(!$jscomp.owns(a,g))throw Error("WeakMap key fail: "+
a);a[g][this.id_]=c;return this};h.prototype.get=function(a){return d(a)&&$jscomp.owns(a,g)?a[g][this.id_]:void 0};h.prototype.has=function(a){return d(a)&&$jscomp.owns(a,g)&&$jscomp.owns(a[g],this.id_)};h.prototype.delete=function(a){return d(a)&&$jscomp.owns(a,g)&&$jscomp.owns(a[g],this.id_)?delete a[g][this.id_]:!1};return h},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),f=d.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(l){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;$jscomp.initSymbolIterator();var e=new WeakMap,d=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};d.prototype.set=function(a,c){a=0===a?0:a;var d=b(this,a);d.list||(d.list=this.data_[d.id]=[]);d.entry?d.entry.value=c:(d.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:c},d.list.push(d.entry),this.head_.previous.next=d.entry,this.head_.previous=d.entry,this.size++);return this};d.prototype.delete=function(a){a=b(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(a){return!!b(this,a).entry};
d.prototype.get=function(a){return(a=b(this,a).entry)&&a.value};d.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};d.prototype.keys=function(){return f(this,function(a){return a.key})};d.prototype.values=function(){return f(this,function(a){return a.value})};d.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var b=function(a,b){var c=b&&typeof b;"object"==
c||"function"==c?e.has(b)?c=e.get(b):(c=""+ ++k,e.set(b,c)):c="p_"+b;var d=a.data_[c];if(d&&$jscomp.owns(a.data_,c))for(a=0;a<d.length;a++){var f=d[a];if(b!==b&&f.key!==f.key||b===f.key)return{id:c,list:d,index:a,entry:f}}return{id:c,list:d,index:-1,entry:void 0}},f=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},g=function(){var a={};return a.previous=
a.next=a.head=a},k=0;return d},"es6","es3");$jscomp.findInternal=function(a,c,e){a instanceof String&&(a=String(a));for(var d=a.length,b=0;b<d;b++){var f=a[b];if(c.call(e,f,b,a))return{i:b,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");var npn;
(function(a){a.onError=function(a,e){console.error(a+": "+e);var c=e.lastIndexOf(":");-1<c&&(e=e.substr(c+1));notify.notify(a+" error: "+e,!1)};a.init=function(a,e){window.onbeforeunload=function(){}}})(npn||(npn={}));var dom;
(function(a){function c(a,c){var b=[];(c?c.querySelectorAll(a):document.querySelectorAll(a)).forEach(function(a){b.push(a)});return b}function e(a,b){b=c(a,b);switch(b.length){case 0:break;case 1:return b[0];default:console.warn("found ["+b.length+"] elements with selector ["+a+"], wanted zero or one")}}function d(a,b){(b=e(a,b))||console.warn("no element found for selector ["+a+"]");return b}function b(a,b){"string"===typeof a&&(a=d(a));a.innerHTML=b;return a}function f(a,b,c){c=void 0===c?"block":
c;"string"===typeof a&&(a=d(a));a.style.display=b?c:"none";return a}a.initDom=function(a,b){try{style.themeLinks(b),style.setTheme(a)}catch(h){console.warn("error setting style",h)}try{modal.wire()}catch(h){console.warn("error wiring modals",h)}try{drop.wire()}catch(h){console.warn("error wiring drops",h)}try{tags.wire()}catch(h){console.warn("error wiring tag editors",h)}};a.els=c;a.opt=e;a.req=d;a.setHTML=b;a.setDisplay=f;a.setContent=function(b,c){"string"===typeof b&&(b=d(b));a.clear(b);b.appendChild(c);
return b};a.setText=function(a,b){"string"===typeof a&&(a=d(a));a.innerText=b;return a};a.switchElements=function(a,b){f(a,!1);f(b,!0);return!1};a.clear=function(a){return b(a,"")}})(dom||(dom={}));
(function(a){a.setValue=function(c,e){"string"===typeof c&&(c=a.req(c));c.value=e;return c};a.wireTextarea=function(a){function c(){a.style.height="auto";a.style.height=(64>a.scrollHeight?64:a.scrollHeight+6)+"px"}function d(){window.setTimeout(c,0)}a.dataset.autoresize||(a.dataset.autoresize="true",a.addEventListener("change",c,!1),a.addEventListener("cut",d,!1),a.addEventListener("paste",d,!1),a.addEventListener("drop",d,!1),a.addEventListener("keydown",d,!1),a.focus(),a.select());c()};a.setOptions=
function(c,e){"string"===typeof c&&(c=a.req(c));a.clear(c);e.forEach(function(d){var b=document.createElement("option");b.value=d;a.setText(b,d);c.appendChild(b)})};a.setSelectOption=function(c,e){"string"===typeof c&&(c=a.req(c));for(var d=0;d<c.children.length;d++){var b=c.children.item(d);b.selected=b.value===e}};a.insertAtCaret=function(a,e){if(a.selectionStart||0===a.selectionStart){var c=a.selectionStart,b=a.selectionEnd;a.value=a.value.substring(0,c)+e+a.value.substring(b,a.value.length);a.selectionStart=
c+e.length;a.selectionEnd=c+e.length}else a.value+=e}})(dom||(dom={}));
function JSX(a,c){var e=document.createElement(a),d;for(d in c)if(d&&c.hasOwnProperty(d)){var b=c[d];"dangerouslySetInnerHTML"===d?dom.setHTML(e,b.__html):!0===b?e.setAttribute(d,d):!1!==b&&null!==b&&void 0!==b&&e.setAttribute(d,b.toString())}for(d=2;d<arguments.length;d++)if(b=arguments[d],Array.isArray(b))b.forEach(function(a){e.appendChild(a)});else{if(void 0===b||null===b)throw"child for tag ["+a+"] is "+b;b.nodeType||(b=document.createTextNode(b.toString()));e.appendChild(b)}return e}var style;
(function(a){function c(a){e(a);var b=dom.els(".uk-card");switch(a){case "auto":a="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(a="dark");c(a);fetch("/profile/theme/"+a).then(function(a){return a.text()}).then(function(){});break;case "light":document.documentElement.classList.remove("uk-light");document.body.classList.remove("uk-light");document.documentElement.classList.add("uk-dark");document.body.classList.add("uk-dark");b.forEach(function(a){a.classList.add("uk-card-default");
a.classList.remove("uk-card-secondary")});break;case "dark":document.documentElement.classList.add("uk-light");document.body.classList.add("uk-light");document.documentElement.classList.remove("uk-dark");document.body.classList.remove("uk-dark");b.forEach(function(a){a.classList.remove("uk-card-default");a.classList.add("uk-card-secondary")});break;default:console.warn("invalid theme")}}function e(a){if("undefined"===typeof EmojiButton)dom.els(".picker-toggle").forEach(function(a){return dom.setDisplay(a,
!1)});else{var b={position:"bottom-end",theme:a,zIndex:1021};dom.els(".textarea-emoji").forEach(function(a){var c=dom.req(".picker-toggle",a);c.addEventListener("click",function(){var d=dom.req(".uk-textarea",a),f=new EmojiButton(b);f.on("emoji",function(a){drop.onEmojiPicked();dom.insertAtCaret(d,a)});f.togglePicker(c)},!1)})}}a.setTheme=c;a.themeLinks=function(a){dom.els(".theme").forEach(function(b){b.classList.add(a+"-fg")})}})(style||(style={}));var drop;
(function(a){function c(a){if(a.target){var b=a.target;a=b.dataset.key||"";b=b.dataset.t||"";var c=events.getOpenEvent(a);c?c(b):console.warn("no drop open handler registered for ["+a+"]")}}function e(a){if(a.target){var b=a.target;b.classList.contains("uk-open")&&(a=b.dataset.t||"",(b=events.getCloseEvent(b.dataset.key||""))&&b(a))}}function d(a){b&&a.preventDefault()}a.wire=function(){dom.els(".drop").forEach(function(a){a.addEventListener("show",c);a.addEventListener("beforehide",d);a.addEventListener("hide",
e)})};var b=!1;a.onEmojiPicked=function(){b=!0;setTimeout(function(){return b=!1},200)}})(drop||(drop={}));var events;(function(a){var c=new Map,e=new Map;a.register=function(a,b,f){b||(b=function(){});c.set(a,b);f&&e.set(a,f)};a.getOpenEvent=function(a){return c.get(a)};a.getCloseEvent=function(a){return e.get(a)}})(events||(events={}));var modal;
(function(a){function c(a,c){b=c;notify.modal("#modal-"+a).show();return!1}function e(a){if(a.target&&(a=a.target,0===a.id.indexOf("modal"))){a=a.id.substr(6);var c=events.getOpenEvent(a);c?c(b):console.warn("no modal open handler registered for ["+a+"]");b=void 0}}function d(a){a.target&&(a=a.target,a.classList.contains("uk-open")&&(a=a.id.substr(6),(a=events.getCloseEvent(a))&&a(b),b=void 0))}var b;a.wire=function(){dom.els(".modal").forEach(function(a){a.addEventListener("show",e);a.addEventListener("hide",
d)})};a.open=c;a.openSoon=function(a){setTimeout(function(){return c(a)},0)};a.hide=function(a){a=notify.modal("#modal-"+a);a.$el.classList.contains("uk-open")&&a.hide()}})(modal||(modal={}));var tags;
(function(a){function c(b){var c=dom.req(".value",b),e=dom.req(".editor",b);dom.setDisplay(c,!1);dom.setDisplay(e,!0);var k=a.renderInput(c.innerText);k.onblur=function(){c.innerText=k.value;dom.setDisplay(c,!0);dom.setDisplay(e,!1);d(b.parentElement)};k.onkeypress=function(a){return"Enter"===a.key?(k.blur(),!1):!0};dom.setContent(e,k);k.focus()}function e(a){a.target?d(a.target):console.warn("no event target")}function d(a){var b=a.dataset.key||"",c=events.getOpenEvent(b);c?c():console.warn("no tag open handler registered for ["+
b+"]");a=dom.els(".item",a).map(function(a){return a.innerText});dom.setValue("#model-"+b+"-input",a.join(","))}a.wire=function(){dom.els(".tag-editor").forEach(function(a){a.addEventListener("moved",e);a.addEventListener("added",e);a.addEventListener("removed",e)})};a.removeTag=function(a){a=a.parentElement;var b=a.parentElement;a.remove();d(b)};a.addTag=function(b){if(b=b.parentElement){var d=a.renderItem();b.insertBefore(d,dom.req(".add-item",b));c(d)}};a.editTag=c})(tags||(tags={}));
(function(a){a.renderInput=function(a){return JSX("input",{type:"text",class:"uk-input",value:a})};a.renderItem=function(){return JSX("span",{class:"item"},JSX("span",{class:"value",onclick:"tags.editTag(this.parentElement);"}),JSX("span",{class:"editor"}),JSX("span",{class:"close","data-uk-icon":"icon: close; ratio: 0.6;",onclick:"tags.removeTag(this);"}))};a.renderTagsView=function(a){return JSX("div",{class:"tag-view"},a.map(function(a){return JSX("span",{class:"item"},a)}),JSX("div",{class:"clear"}))}})(tags||
(tags={}));var profile;
(function(a){a.setNavColor=function(a,e){dom.setValue("#nav-color",e);dom.req("#navbar").className=e+"-bg uk-navbar-container uk-navbar";document.querySelectorAll(".nav_swatch").forEach(function(a){a.classList.remove("active")});a.classList.add("active")};a.setLinkColor=function(a,e){dom.setValue("#link-color",e);dom.els(".profile-link").forEach(function(a){a.classList.forEach(function(b){-1<b.indexOf("-fg")&&a.classList.remove(b);a.classList.add(e+"-fg")})});document.querySelectorAll(".link_swatch").forEach(function(a){a.classList.remove("active")});a.classList.add("active")}})(profile||
(profile={}));var collection;
(function(a){var c=function(a){this.members=[];this.key=a};a.Group=c;var e=function(){this.groups=[]};e.prototype.findOrInsert=function(a){var b=this.groups.find(function(b){return b.key===a});if(b)return b;b=new c(a);this.groups.push(b);return b};a.GroupSet=e;a.groupBy=function(a,b){var c=new e;a&&a.forEach(function(a){c.findOrInsert(b(a)).members.push(a)});return c};a.findGroup=function(a,b){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.key===b)return c.members;
return[]};a.flatten=function(a){var b=[];a.forEach(function(a){return b.push.apply(b,$jscomp.arrayFromIterable(a))});return b}})(collection||(collection={}));var date;
(function(a){function c(a){return a.toLocaleDateString()}function e(a){return a.toLocaleTimeString().slice(0,8)}a.dateToYMD=function(a){var b=a.getDate(),c=a.getMonth()+1;return a.getFullYear()+"-"+(9>=c?"0"+c:c)+"-"+(9>=b?"0"+b:b)};a.dateFromYMD=function(a){a=new Date(a);return new Date(a.getTime()+6E4*a.getTimezoneOffset())};a.dow=function(a){switch(a){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"???"}};
a.toDateString=c;a.toTimeString=e;a.toDateTimeString=function(a){return c(a)+" "+e(a)};var d=6E4*(new Date).getTimezoneOffset();a.utcDate=function(a){return new Date(Date.parse(a)+d)}})(date||(date={}));var notify;(function(a){a.notify=function(a,e){UIkit.notification(a,{status:e?"success":"danger",pos:"top-right"})};a.confirm=function(a,e){UIkit.modal.confirm(a).then(e)};a.modal=function(a){var c=UIkit.modal(a);c||console.warn("no modal available with key ["+a+"]");return c}})(notify||(notify={}));
