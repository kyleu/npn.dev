var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterator=function(a){for(var b,d=[];!(b=a.next()).done;)d.push(b.value);return d};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(d,e,c){return d==a&&"q"==e&&c==b}}));return!0===b.q}catch(d){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(d||"")+"_"+b++,d)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill=function(a,b,d,e){if(b){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var c=a[e];c in d||(d[c]={});d=d[c]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var f=Object.seal({}),b=Object.seal({}),c=new a([[f,2],[b,3]]);if(2!=c.get(f)||3!=c.get(b))return!1;c.delete(f);c.set(b,4);return!c.has(f)&&4==c.get(b)}catch(l){return!1}}function d(){}function e(a){var f=typeof a;return"object"===f&&null!==a||"function"===f}function c(a){if(!$jscomp.owns(a,h)){var f=new d;$jscomp.defineProperty(a,h,{value:f})}}function f(a){var f=Object[a];f&&(Object[a]=function(a){if(a instanceof
d)return a;c(a);return f(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var g=0,k=function(a){this.id_=(g+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var f;!(f=a.next()).done;)f=f.value,this.set(f[0],f[1])}};k.prototype.set=function(a,f){if(!e(a))throw Error("Invalid WeakMap key");c(a);if(!$jscomp.owns(a,h))throw Error("WeakMap key fail: "+
a);a[h][this.id_]=f;return this};k.prototype.get=function(a){return e(a)&&$jscomp.owns(a,h)?a[h][this.id_]:void 0};k.prototype.has=function(a){return e(a)&&$jscomp.owns(a,h)&&$jscomp.owns(a[h],this.id_)};k.prototype.delete=function(a){return e(a)&&$jscomp.owns(a,h)&&$jscomp.owns(a[h],this.id_)?delete a[h][this.id_]:!1};return k},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var f=Object.seal({x:4}),c=new a($jscomp.makeIterator([[f,"s"]]));if("s"!=c.get(f)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var b=c.entries(),e=b.next();if(e.done||e.value[0]!=f||"s"!=e.value[1])return!1;e=b.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!b.next().done?!1:!0}catch(l){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;$jscomp.initSymbolIterator();var d=new WeakMap,e=function(a){this.data_={};this.head_=h();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var f;!(f=a.next()).done;)f=f.value,this.set(f[0],f[1])}};e.prototype.set=function(a,f){a=0===a?0:a;var b=c(this,a);b.list||(b.list=this.data_[b.id]=[]);b.entry?b.entry.value=f:(b.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:f},b.list.push(b.entry),this.head_.previous.next=b.entry,this.head_.previous=b.entry,this.size++);return this};e.prototype.delete=function(a){a=c(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};e.prototype.has=function(a){return!!c(this,a).entry};
e.prototype.get=function(a){return(a=c(this,a).entry)&&a.value};e.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return f(this,function(a){return a.key})};e.prototype.values=function(){return f(this,function(a){return a.value})};e.prototype.forEach=function(a,f){for(var b=this.entries(),c;!(c=b.next()).done;)c=c.value,a.call(f,c[1],c[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var c=function(a,f){var b=f&&typeof f;"object"==
b||"function"==b?d.has(f)?b=d.get(f):(b=""+ ++g,d.set(f,b)):b="p_"+f;var c=a.data_[b];if(c&&$jscomp.owns(a.data_,b))for(a=0;a<c.length;a++){var e=c[a];if(f!==f&&e.key!==e.key||f===e.key)return{id:b,list:c,index:a,entry:e}}return{id:b,list:c,index:-1,entry:void 0}},f=function(a,f){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:f(b)};b=null}return{done:!0,value:void 0}})},h=function(){var a={};return a.previous=
a.next=a.head=a},g=0;return e},"es6","es3");$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var e=a.length,c=0;c<e;c++){var f=a[c];if(b.call(d,f,c,a))return{i:c,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");var npn;
(function(a){a.onError=function(a,d){console.error(a+": "+d);var b=d.lastIndexOf(":");-1<b&&(d=d.substr(b+1));notify.notify(a+" error: "+d,!1)};a.init=function(a,d){window.onbeforeunload=function(){}}})(npn||(npn={}));var dom;
(function(a){function b(a,b){return UIkit.util.$$(a,b)}function d(a,c){c=b(a,c);switch(c.length){case 0:break;case 1:return c[0];default:console.warn("found ["+c.length+"] elements with selector ["+a+"], wanted zero or one")}}function e(a,b){(b=d(a,b))||console.warn("no element found for selector ["+a+"]");return b}function c(a,b){"string"===typeof a&&(a=e(a));a.innerHTML=b;return a}a.initDom=function(a,b){try{style.themeLinks(b),style.setTheme(a)}catch(g){console.warn("error setting style",g)}try{modal.wire()}catch(g){console.warn("error wiring modals",
g)}try{drop.wire()}catch(g){console.warn("error wiring drops",g)}try{tags.wire()}catch(g){console.warn("error wiring tag editors",g)}};a.els=b;a.opt=d;a.req=e;a.setHTML=c;a.setDisplay=function(a,b,c){c=void 0===c?"block":c;"string"===typeof a&&(a=e(a));a.style.display=b?c:"none";return a};a.setContent=function(b,c){"string"===typeof b&&(b=e(b));a.clear(b);b.appendChild(c);return b};a.setText=function(a,b){"string"===typeof a&&(a=e(a));a.innerText=b;return a};a.clear=function(a){return c(a,"")}})(dom||
(dom={}));
(function(a){a.setValue=function(b,d){"string"===typeof b&&(b=a.req(b));b.value=d;return b};a.wireTextarea=function(a){function b(){a.style.height="auto";a.style.height=(64>a.scrollHeight?64:a.scrollHeight+6)+"px"}function e(){window.setTimeout(b,0)}a.dataset.autoresize||(a.dataset.autoresize="true",a.addEventListener("change",b,!1),a.addEventListener("cut",e,!1),a.addEventListener("paste",e,!1),a.addEventListener("drop",e,!1),a.addEventListener("keydown",e,!1),a.focus(),a.select());b()};a.setOptions=
function(b,d){"string"===typeof b&&(b=a.req(b));a.clear(b);d.forEach(function(e){var c=document.createElement("option");c.value=e;a.setText(c,e);b.appendChild(c)})};a.setSelectOption=function(b,d){"string"===typeof b&&(b=a.req(b));for(var e=0;e<b.children.length;e++){var c=b.children.item(e);c.selected=c.value===d}};a.insertAtCaret=function(a,d){if(a.selectionStart||0===a.selectionStart){var b=a.selectionStart,c=a.selectionEnd;a.value=a.value.substring(0,b)+d+a.value.substring(c,a.value.length);a.selectionStart=
b+d.length;a.selectionEnd=b+d.length}else a.value+=d}})(dom||(dom={}));
function JSX(a,b){var d=document.createElement(a),e;for(e in b)if(e&&b.hasOwnProperty(e)){var c=b[e];"dangerouslySetInnerHTML"===e?dom.setHTML(d,c.__html):!0===c?d.setAttribute(e,e):!1!==c&&null!==c&&void 0!==c&&d.setAttribute(e,c.toString())}for(e=2;e<arguments.length;e++)if(c=arguments[e],Array.isArray(c))c.forEach(function(a){d.appendChild(a)});else{if(void 0===c||null===c)throw"child for tag ["+a+"] is "+c;c.nodeType||(c=document.createTextNode(c.toString()));d.appendChild(c)}return d}var style;
(function(a){function b(a){d(a);var c=dom.els(".uk-card");switch(a){case "auto":a="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(a="dark");b(a);fetch("/profile/theme/"+a).then(function(a){return a.text()}).then(function(){});break;case "light":document.documentElement.classList.remove("uk-light");document.body.classList.remove("uk-light");document.documentElement.classList.add("uk-dark");document.body.classList.add("uk-dark");c.forEach(function(a){a.classList.add("uk-card-default");
a.classList.remove("uk-card-secondary")});break;case "dark":document.documentElement.classList.add("uk-light");document.body.classList.add("uk-light");document.documentElement.classList.remove("uk-dark");document.body.classList.remove("uk-dark");c.forEach(function(a){a.classList.remove("uk-card-default");a.classList.add("uk-card-secondary")});break;default:console.warn("invalid theme")}}function d(a){if("undefined"===typeof EmojiButton)dom.els(".picker-toggle").forEach(function(a){return dom.setDisplay(a,
!1)});else{var b={position:"bottom-end",theme:a,zIndex:1021};dom.els(".textarea-emoji").forEach(function(a){var c=dom.req(".picker-toggle",a);c.addEventListener("click",function(){var f=dom.req(".uk-textarea",a),e=new EmojiButton(b);e.on("emoji",function(a){drop.onEmojiPicked();dom.insertAtCaret(f,a)});e.togglePicker(c)},!1)})}}a.setTheme=b;a.themeLinks=function(a){dom.els(".theme").forEach(function(b){b.classList.add(a+"-fg")})}})(style||(style={}));var drop;
(function(a){function b(a){if(a.target){var b=a.target;a=b.dataset.key||"";b=b.dataset.t||"";var c=events.getOpenEvent(a);c?c(b):console.warn("no drop open handler registered for ["+a+"]")}}function d(a){if(a.target){var b=a.target;b.classList.contains("uk-open")&&(a=b.dataset.t||"",(b=events.getCloseEvent(b.dataset.key||""))&&b(a))}}function e(a){c&&a.preventDefault()}a.wire=function(){UIkit.util.on(".drop","show",b);UIkit.util.on(".drop","beforehide",e);UIkit.util.on(".drop","hide",d);events.register("export")};
var c=!1;a.onEmojiPicked=function(){c=!0;setTimeout(function(){return c=!1},200)}})(drop||(drop={}));var events;(function(a){var b=new Map,d=new Map;a.register=function(a,c,f){c||(c=function(){});b.set(a,c);f&&d.set(a,f)};a.getOpenEvent=function(a){return b.get(a)};a.getCloseEvent=function(a){return d.get(a)}})(events||(events={}));var modal;
(function(a){function b(a,b){c=b;(b=UIkit.modal("#modal-"+a))||console.warn("no modal available with key ["+a+"]");b.show();return!1}function d(a){if(a.target&&(a=a.target,0===a.id.indexOf("modal"))){a=a.id.substr(6);var b=events.getOpenEvent(a);b?b(c):console.warn("no modal open handler registered for ["+a+"]");c=void 0}}function e(a){a.target&&(a=a.target,a.classList.contains("uk-open")&&(a=a.id.substr(6),(a=events.getCloseEvent(a))&&a(c),c=void 0))}var c;a.wire=function(){UIkit.util.on(".modal",
"show",d);UIkit.util.on(".modal","hide",e);events.register("welcome")};a.open=b;a.openSoon=function(a){setTimeout(function(){return b(a)},0)};a.hide=function(a){a=UIkit.modal("#modal-"+a);a.$el.classList.contains("uk-open")&&a.hide()}})(modal||(modal={}));var tags;
(function(a){function b(b){var c=dom.req(".value",b),d=dom.req(".editor",b);dom.setDisplay(c,!1);dom.setDisplay(d,!0);var g=a.renderInput(c.innerText);g.onblur=function(){c.innerText=g.value;dom.setDisplay(c,!0);dom.setDisplay(d,!1);e(b.parentElement)};g.onkeypress=function(a){return"Enter"===a.key?(g.blur(),!1):!0};dom.setContent(d,g);g.focus()}function d(a){a.target?e(a.target):console.warn("no event target")}function e(a){var b=a.dataset.key||"",c=events.getOpenEvent(b);c?c():console.warn("no tag open handler registered for ["+
b+"]");a=dom.els(".item",a).map(function(a){return a.innerText});dom.setValue("#model-"+b+"-input",a.join(","))}a.wire=function(){UIkit.util.on(".tag-editor","moved",d);UIkit.util.on(".tag-editor","added",d);UIkit.util.on(".tag-editor","removed",d);events.register("choices");events.register("categories")};a.removeTag=function(a){a=a.parentElement;var b=a.parentElement;a.remove();e(b)};a.addTag=function(c){if(c=c.parentElement){var e=a.renderItem();c.insertBefore(e,dom.req(".add-item",c));b(e)}};a.editTag=
b})(tags||(tags={}));
(function(a){a.renderInput=function(a){return JSX("input",{type:"text",class:"uk-input",value:a})};a.renderItem=function(){return JSX("span",{class:"item"},JSX("span",{class:"value",onclick:"tags.editTag(this.parentElement);"}),JSX("span",{class:"editor"}),JSX("span",{class:"close","data-uk-icon":"icon: close; ratio: 0.6;",onclick:"tags.removeTag(this);"}))};a.renderTagsView=function(a){return JSX("div",{class:"tag-view"},a.map(function(a){return JSX("span",{class:"item"},a)}),JSX("div",{class:"clear"}))}})(tags||
(tags={}));var profile;
(function(a){a.setNavColor=function(a,d){dom.setValue("#nav-color",d);dom.req("#navbar").className=d+"-bg uk-navbar-container uk-navbar";document.querySelectorAll(".nav_swatch").forEach(function(a){a.classList.remove("active")});a.classList.add("active")};a.setLinkColor=function(a,d){dom.setValue("#link-color",d);dom.els(".profile-link").forEach(function(a){a.classList.forEach(function(b){-1<b.indexOf("-fg")&&a.classList.remove(b);a.classList.add(d+"-fg")})});document.querySelectorAll(".link_swatch").forEach(function(a){a.classList.remove("active")});a.classList.add("active")};
a.setPicture=function(a){dom.setValue("#self-picture-input",a);return!1}})(profile||(profile={}));var collection;
(function(a){var b=function(a){this.members=[];this.key=a};a.Group=b;var d=function(){this.groups=[]};d.prototype.findOrInsert=function(a){var c=this.groups.find(function(b){return b.key===a});if(c)return c;c=new b(a);this.groups.push(c);return c};a.GroupSet=d;a.groupBy=function(a,b){var c=new d;a&&a.forEach(function(a){c.findOrInsert(b(a)).members.push(a)});return c};a.findGroup=function(a,b){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.key===b)return c.members;
return[]};a.flatten=function(a){var b=[];a.forEach(function(a){return b.push.apply(b,$jscomp.arrayFromIterable(a))});return b}})(collection||(collection={}));var date;
(function(a){function b(a){return a.toLocaleDateString()}function d(a){return a.toLocaleTimeString().slice(0,8)}a.dateToYMD=function(a){var b=a.getDate(),c=a.getMonth()+1;return a.getFullYear()+"-"+(9>=c?"0"+c:c)+"-"+(9>=b?"0"+b:b)};a.dateFromYMD=function(a){a=new Date(a);return new Date(a.getTime()+6E4*a.getTimezoneOffset())};a.dow=function(a){switch(a){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"???"}};
a.toDateString=b;a.toTimeString=d;a.toDateTimeString=function(a){return b(a)+" "+d(a)};var e=6E4*(new Date).getTimezoneOffset();a.utcDate=function(a){return new Date(Date.parse(a)+e)}})(date||(date={}));var notify;(function(a){a.notify=function(a,d){UIkit.notification(a,{status:d?"success":"danger",pos:"top-right"})}})(notify||(notify={}));
