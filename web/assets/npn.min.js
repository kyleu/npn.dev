var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,c){a.raw=c;return a};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterator=function(a){for(var c,f=[];!(c=a.next()).done;)f.push(c.value);return f};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<a.length;++c){var f=a[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},c=Object.create(new $jscomp.global.Proxy(a,{get:function(f,d,b){return f==a&&"q"==d&&b==c}}));return!0===c.q}catch(f){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,f){if(a==Array.prototype||a==Object.prototype)return a;a[c]=f.value;return a};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};
$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,c){var f=$jscomp.propertyToPolyfillSymbol[c];if(null==f)return a[c];f=a[f];return void 0!==f?f:a[c]};$jscomp.polyfill=function(a,c,f,d){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,c,f,d):$jscomp.polyfillUnisolated(a,c,f,d))};
$jscomp.polyfillUnisolated=function(a,c,f,d){f=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var b=a[d];if(!(b in f))return;f=f[b]}a=a[a.length-1];d=f[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(a,c,f,d){var b=a.split(".");a=1===b.length;d=b[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var e=0;e<b.length-1;e++){var g=b[e];if(!(g in d))return;d=d[g]}b=b[b.length-1];f=$jscomp.IS_SYMBOL_NATIVE&&"es6"===f?d[b]:null;c=c(f);null!=c&&(a?$jscomp.defineProperty($jscomp.polyfills,b,{configurable:!0,writable:!0,value:c}):c!==f&&($jscomp.propertyToPolyfillSymbol[b]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(b):$jscomp.POLYFILL_PREFIX+b,b=
$jscomp.propertyToPolyfillSymbol[b],$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:c})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var c=function(b,e){this.$jscomp$symbol$id_=b;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};c.prototype.toString=function(){return this.$jscomp$symbol$id_};var f=0,d=function(b){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(b||"")+"_"+f++,b)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),f=0;f<c.length;f++){var d=$jscomp.global[c[f]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};
$jscomp.polyfill("WeakMap",function(a){function c(){if(!a||!Object.seal)return!1;try{var k=Object.seal({}),l=Object.seal({}),n=new a([[k,2],[l,3]]);if(2!=n.get(k)||3!=n.get(l))return!1;n.delete(k);n.set(l,4);return!n.has(k)&&4==n.get(l)}catch(p){return!1}}function f(){}function d(k){var l=typeof k;return"object"===l&&null!==k||"function"===l}function b(k){if(!$jscomp.owns(k,g)){var l=new f;$jscomp.defineProperty(k,g,{value:l})}}function e(k){if(!$jscomp.ISOLATE_POLYFILLS){var l=Object[k];l&&(Object[k]=
function(n){if(n instanceof f)return n;Object.isExtensible(n)&&b(n);return l(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;var g="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var m=0,h=function(k){this.id_=(m+=Math.random()+1).toString();if(k){k=$jscomp.makeIterator(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}};h.prototype.set=function(k,l){if(!d(k))throw Error("Invalid WeakMap key");
b(k);if(!$jscomp.owns(k,g))throw Error("WeakMap key fail: "+k);k[g][this.id_]=l;return this};h.prototype.get=function(k){return d(k)&&$jscomp.owns(k,g)?k[g][this.id_]:void 0};h.prototype.has=function(k){return d(k)&&$jscomp.owns(k,g)&&$jscomp.owns(k[g],this.id_)};h.prototype.delete=function(k){return d(k)&&$jscomp.owns(k,g)&&$jscomp.owns(k[g],this.id_)?delete k[g][this.id_]:!1};return h},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),k=new a($jscomp.makeIterator([[h,"s"]]));if("s"!=k.get(h)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var l=k.entries(),n=l.next();if(n.done||n.value[0]!=h||"s"!=n.value[1])return!1;n=l.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!l.next().done?!1:!0}catch(p){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;var f=new WeakMap,d=function(h){this.data_={};this.head_=g();this.size=0;if(h){h=$jscomp.makeIterator(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}};d.prototype.set=function(h,k){h=0===h?0:h;var l=b(this,h);l.list||(l.list=this.data_[l.id]=[]);l.entry?l.entry.value=k:(l.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:h,value:k},l.list.push(l.entry),
this.head_.previous.next=l.entry,this.head_.previous=l.entry,this.size++);return this};d.prototype.delete=function(h){h=b(this,h);return h.entry&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.data_[h.id],h.entry.previous.next=h.entry.next,h.entry.next.previous=h.entry.previous,h.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(h){return!!b(this,h).entry};d.prototype.get=function(h){return(h=
b(this,h).entry)&&h.value};d.prototype.entries=function(){return e(this,function(h){return[h.key,h.value]})};d.prototype.keys=function(){return e(this,function(h){return h.key})};d.prototype.values=function(){return e(this,function(h){return h.value})};d.prototype.forEach=function(h,k){for(var l=this.entries(),n;!(n=l.next()).done;)n=n.value,h.call(k,n[1],n[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var b=function(h,k){var l=k&&typeof k;"object"==l||"function"==l?f.has(k)?l=f.get(k):
(l=""+ ++m,f.set(k,l)):l="p_"+k;var n=h.data_[l];if(n&&$jscomp.owns(h.data_,l))for(h=0;h<n.length;h++){var p=n[h];if(k!==k&&p.key!==p.key||k===p.key)return{id:l,list:n,index:h,entry:p}}return{id:l,list:n,index:-1,entry:void 0}},e=function(h,k){var l=h.head_;return $jscomp.iteratorPrototype(function(){if(l){for(;l.head!=h.head_;)l=l.previous;for(;l.next!=l.head;)return l=l.next,{done:!1,value:k(l)};l=null}return{done:!0,value:void 0}})},g=function(){var h={};return h.previous=h.next=h.head=h},m=0;
return d},"es6","es3");$jscomp.findInternal=function(a,c,f){a instanceof String&&(a=String(a));for(var d=a.length,b=0;b<d;b++){var e=a[b];if(c.call(f,e,b,a))return{i:b,v:e}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(c,f){return $jscomp.findInternal(this,c,f).v}},"es6","es3");var npn;
(function(a){a.onError=function(c,f){console.error(c+": "+f);var d=f.lastIndexOf(":");-1<d&&(f=f.substr(d+1));notify.notify(c+" error: "+f,!1)};a.init=function(c,f){window.onbeforeunload=function(){}}})(npn||(npn={}));var dom;
(function(a){function c(g,m){var h=[];(m?m.querySelectorAll(g):document.querySelectorAll(g)).forEach(function(k){h.push(k)});return h}function f(g,m){m=c(g,m);switch(m.length){case 0:break;case 1:return m[0];default:console.warn("found ["+m.length+"] elements with selector ["+g+"], wanted zero or one")}}function d(g,m){(m=f(g,m))||console.warn("no element found for selector ["+g+"]");return m}function b(g,m){"string"===typeof g&&(g=d(g));g.innerHTML=m;return g}function e(g,m,h){h=void 0===h?"block":
h;"string"===typeof g&&(g=d(g));g.style.display=m?h:"none";return g}a.initDom=function(g,m){try{style.themeLinks(m),style.setTheme(g)}catch(h){console.warn("error setting style",h)}try{modal.wire()}catch(h){console.warn("error wiring modals",h)}try{drop.wire()}catch(h){console.warn("error wiring drops",h)}try{tags.wire()}catch(h){console.warn("error wiring tag editors",h)}};a.els=c;a.opt=f;a.req=d;a.setHTML=b;a.setDisplay=e;a.setContent=function(g,m){"string"===typeof g&&(g=d(g));a.clear(g);g.appendChild(m);
return g};a.setText=function(g,m){"string"===typeof g&&(g=d(g));g.innerText=m;return g};a.switchElements=function(g,m){e(g,!1);e(m,!0);return!1};a.clear=function(g){return b(g,"")}})(dom||(dom={}));
(function(a){a.setValue=function(c,f){"string"===typeof c&&(c=a.req(c));c.value=f;return c};a.wireTextarea=function(c){function f(){c.style.height="auto";c.style.height=(64>c.scrollHeight?64:c.scrollHeight+6)+"px"}function d(){window.setTimeout(f,0)}c.dataset.autoresize||(c.dataset.autoresize="true",c.addEventListener("change",f,!1),c.addEventListener("cut",d,!1),c.addEventListener("paste",d,!1),c.addEventListener("drop",d,!1),c.addEventListener("keydown",d,!1),c.focus(),c.select());f()};a.setOptions=
function(c,f){"string"===typeof c&&(c=a.req(c));a.clear(c);f.forEach(function(d){var b=document.createElement("option");b.value=d;a.setText(b,d);c.appendChild(b)})};a.setSelectOption=function(c,f){"string"===typeof c&&(c=a.req(c));for(var d=0;d<c.children.length;d++){var b=c.children.item(d);b.selected=b.value===f}};a.insertAtCaret=function(c,f){if(c.selectionStart||0===c.selectionStart){var d=c.selectionStart,b=c.selectionEnd;c.value=c.value.substring(0,d)+f+c.value.substring(b,c.value.length);c.selectionStart=
d+f.length;c.selectionEnd=d+f.length}else c.value+=f}})(dom||(dom={}));
function JSX(a,c){var f=document.createElement(a),d;for(d in c)if(d&&c.hasOwnProperty(d)){var b=c[d];"dangerouslySetInnerHTML"===d?dom.setHTML(f,b.__html):!0===b?f.setAttribute(d,d):!1!==b&&null!==b&&void 0!==b&&f.setAttribute(d,b.toString())}for(d=2;d<arguments.length;d++)if(b=arguments[d],Array.isArray(b))b.forEach(function(e){f.appendChild(e)});else{if(void 0===b||null===b)throw"child for tag ["+a+"] is "+b;b.nodeType||(b=document.createTextNode(b.toString()));f.appendChild(b)}return f}var style;
(function(a){function c(d){f(d);var b=dom.els(".uk-card");switch(d){case "auto":d="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(d="dark");c(d);fetch("/profile/theme/"+d).then(function(e){return e.text()}).then(function(){});break;case "light":document.documentElement.classList.remove("uk-light");document.body.classList.remove("uk-light");document.documentElement.classList.add("uk-dark");document.body.classList.add("uk-dark");b.forEach(function(e){e.classList.add("uk-card-default");
e.classList.remove("uk-card-secondary")});break;case "dark":document.documentElement.classList.add("uk-light");document.body.classList.add("uk-light");document.documentElement.classList.remove("uk-dark");document.body.classList.remove("uk-dark");b.forEach(function(e){e.classList.remove("uk-card-default");e.classList.add("uk-card-secondary")});break;default:console.warn("invalid theme")}}function f(d){if("undefined"===typeof EmojiButton)dom.els(".picker-toggle").forEach(function(e){return dom.setDisplay(e,
!1)});else{var b={position:"bottom-end",theme:d,zIndex:1021};dom.els(".textarea-emoji").forEach(function(e){var g=dom.req(".picker-toggle",e);g.addEventListener("click",function(){var m=dom.req(".uk-textarea",e),h=new EmojiButton(b);h.on("emoji",function(k){drop.onEmojiPicked();dom.insertAtCaret(m,k)});h.togglePicker(g)},!1)})}}a.setTheme=c;a.themeLinks=function(d){dom.els(".theme").forEach(function(b){b.classList.add(d+"-fg")})}})(style||(style={}));var drop;
(function(a){function c(e){if(e.target){var g=e.target;e=g.dataset.key||"";g=g.dataset.t||"";var m=events.getOpenEvent(e);m?m(g):console.warn("no drop open handler registered for ["+e+"]")}}function f(e){if(e.target){var g=e.target;g.classList.contains("uk-open")&&(e=g.dataset.t||"",(g=events.getCloseEvent(g.dataset.key||""))&&g(e))}}function d(e){b&&e.preventDefault()}a.wire=function(){dom.els(".drop").forEach(function(e){e.addEventListener("show",c);e.addEventListener("beforehide",d);e.addEventListener("hide",
f)})};var b=!1;a.onEmojiPicked=function(){b=!0;setTimeout(function(){return b=!1},200)}})(drop||(drop={}));var events;(function(a){var c=new Map,f=new Map;a.register=function(d,b,e){b||(b=function(){});c.set(d,b);e&&f.set(d,e)};a.getOpenEvent=function(d){return c.get(d)};a.getCloseEvent=function(d){return f.get(d)}})(events||(events={}));var modal;
(function(a){function c(e,g){b=g;notify.modal("#modal-"+e).show();return!1}function f(e){if(e.target&&(e=e.target,0===e.id.indexOf("modal"))){e=e.id.substr(6);var g=events.getOpenEvent(e);g?g(b):console.warn("no modal open handler registered for ["+e+"]");b=void 0}}function d(e){e.target&&(e=e.target,e.classList.contains("uk-open")&&(e=e.id.substr(6),(e=events.getCloseEvent(e))&&e(b),b=void 0))}var b;a.wire=function(){dom.els(".modal").forEach(function(e){e.addEventListener("show",f);e.addEventListener("hide",
d)})};a.open=c;a.openSoon=function(e){setTimeout(function(){return c(e)},0)};a.hide=function(e){e=notify.modal("#modal-"+e);e.$el.classList.contains("uk-open")&&e.hide()}})(modal||(modal={}));var tags;
(function(a){function c(b){var e=dom.req(".value",b),g=dom.req(".editor",b);dom.setDisplay(e,!1);dom.setDisplay(g,!0);var m=a.renderInput(e.innerText);m.onblur=function(){e.innerText=m.value;dom.setDisplay(e,!0);dom.setDisplay(g,!1);d(b.parentElement)};m.onkeypress=function(h){return"Enter"===h.key?(m.blur(),!1):!0};dom.setContent(g,m);m.focus()}function f(b){b.target?d(b.target):console.warn("no event target")}function d(b){var e=b.dataset.key||"",g=events.getOpenEvent(e);g?g():console.warn("no tag open handler registered for ["+
e+"]");b=dom.els(".item",b).map(function(m){return m.innerText});dom.setValue("#model-"+e+"-input",b.join(","))}a.wire=function(){dom.els(".tag-editor").forEach(function(b){b.addEventListener("moved",f);b.addEventListener("added",f);b.addEventListener("removed",f)})};a.removeTag=function(b){b=b.parentElement;var e=b.parentElement;b.remove();d(e)};a.addTag=function(b){if(b=b.parentElement){var e=a.renderItem();b.insertBefore(e,dom.req(".add-item",b));c(e)}};a.editTag=c})(tags||(tags={}));
(function(a){a.renderInput=function(c){return JSX("input",{type:"text",class:"uk-input",value:c})};a.renderItem=function(){return JSX("span",{class:"item"},JSX("span",{class:"value",onclick:"tags.editTag(this.parentElement);"}),JSX("span",{class:"editor"}),JSX("span",{class:"close","data-uk-icon":"icon: close; ratio: 0.6;",onclick:"tags.removeTag(this);"}))};a.renderTagsView=function(c){return JSX("div",{class:"tag-view"},c.map(function(f){return JSX("span",{class:"item"},f)}),JSX("div",{class:"clear"}))}})(tags||
(tags={}));var profile;
(function(a){a.setNavColor=function(c,f){dom.setValue("#nav-color",f);dom.req("#navbar").className=f+"-bg uk-navbar-container uk-navbar";document.querySelectorAll(".nav_swatch").forEach(function(d){d.classList.remove("active")});c.classList.add("active")};a.setLinkColor=function(c,f){dom.setValue("#link-color",f);dom.els(".profile-link").forEach(function(d){d.classList.forEach(function(b){-1<b.indexOf("-fg")&&d.classList.remove(b);d.classList.add(f+"-fg")})});document.querySelectorAll(".link_swatch").forEach(function(d){d.classList.remove("active")});c.classList.add("active")}})(profile||
(profile={}));var collection;
(function(a){var c=function(d){this.members=[];this.key=d};a.Group=c;var f=function(){this.groups=[]};f.prototype.findOrInsert=function(d){var b=this.groups.find(function(e){return e.key===d});if(b)return b;b=new c(d);this.groups.push(b);return b};a.GroupSet=f;a.groupBy=function(d,b){var e=new f;d&&d.forEach(function(g){e.findOrInsert(b(g)).members.push(g)});return e};a.findGroup=function(d,b){d=$jscomp.makeIterator(d);for(var e=d.next();!e.done;e=d.next())if(e=e.value,e.key===b)return e.members;
return[]};a.flatten=function(d){var b=[];d.forEach(function(e){return b.push.apply(b,$jscomp.arrayFromIterable(e))});return b}})(collection||(collection={}));var date;
(function(a){function c(b){return b.toLocaleDateString()}function f(b){return b.toLocaleTimeString().slice(0,8)}a.dateToYMD=function(b){var e=b.getDate(),g=b.getMonth()+1;return b.getFullYear()+"-"+(9>=g?"0"+g:g)+"-"+(9>=e?"0"+e:e)};a.dateFromYMD=function(b){b=new Date(b);return new Date(b.getTime()+6E4*b.getTimezoneOffset())};a.dow=function(b){switch(b){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"???"}};
a.toDateString=c;a.toTimeString=f;a.toDateTimeString=function(b){return c(b)+" "+f(b)};var d=6E4*(new Date).getTimezoneOffset();a.utcDate=function(b){return new Date(Date.parse(b)+d)}})(date||(date={}));var notify;(function(a){a.notify=function(c,f){UIkit.notification(c,{status:f?"success":"danger",pos:"top-right"})};a.confirm=function(c,f){UIkit.modal.confirm(c).then(f)};a.modal=function(c){var f=UIkit.modal(c);f||console.warn("no modal available with key ["+c+"]");return f}})(notify||(notify={}));
