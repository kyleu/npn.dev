var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(b){return b.raw=b};$jscomp.createTemplateTagFirstArgWithRaw=function(b,c){b.raw=c;return b};$jscomp.arrayIteratorImpl=function(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):$jscomp.arrayIterator(b)};
$jscomp.arrayFromIterator=function(b){for(var c,e=[];!(c=b.next()).done;)e.push(c.value);return e};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<b.length;++c){var e=b[c];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var b={},c=Object.create(new $jscomp.global.Proxy(b,{get:function(e,d,a){return e==b&&"q"==d&&a==c}}));return!0===c.q}catch(e){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,e){if(b==Array.prototype||b==Object.prototype)return b;b[c]=e.value;return b};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};
$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,c){var e=$jscomp.propertyToPolyfillSymbol[c];if(null==e)return b[c];e=b[e];return void 0!==e?e:b[c]};$jscomp.polyfill=function(b,c,e,d){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,c,e,d):$jscomp.polyfillUnisolated(b,c,e,d))};
$jscomp.polyfillUnisolated=function(b,c,e,d){e=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var a=b[d];if(!(a in e))return;e=e[a]}b=b[b.length-1];d=e[b];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(b,c,e,d){var a=b.split(".");b=1===a.length;d=a[0];d=!b&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<a.length-1;f++){var g=a[f];if(!(g in d))return;d=d[g]}a=a[a.length-1];e=$jscomp.IS_SYMBOL_NATIVE&&"es6"===e?d[a]:null;c=c(e);null!=c&&(b?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:c}):c!==e&&($jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+a,a=
$jscomp.propertyToPolyfillSymbol[a],$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(b){if(b)return b;var c=function(a,f){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};c.prototype.toString=function(){return this.$jscomp$symbol$id_};var e=0,d=function(a){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(a||"")+"_"+e++,a)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<c.length;e++){var d=$jscomp.global[c[e]];"function"===typeof d&&"function"!=typeof d.prototype[b]&&$jscomp.defineProperty(d.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return b},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};$jscomp.owns=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};
$jscomp.polyfill("WeakMap",function(b){function c(){if(!b||!Object.seal)return!1;try{var k=Object.seal({}),m=Object.seal({}),n=new b([[k,2],[m,3]]);if(2!=n.get(k)||3!=n.get(m))return!1;n.delete(k);n.set(m,4);return!n.has(k)&&4==n.get(m)}catch(q){return!1}}function e(){}function d(k){var m=typeof k;return"object"===m&&null!==k||"function"===m}function a(k){if(!$jscomp.owns(k,g)){var m=new e;$jscomp.defineProperty(k,g,{value:m})}}function f(k){if(!$jscomp.ISOLATE_POLYFILLS){var m=Object[k];m&&(Object[k]=
function(n){if(n instanceof e)return n;Object.isExtensible(n)&&a(n);return m(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(c())return b;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var l=0,h=function(k){this.id_=(l+=Math.random()+1).toString();if(k){k=$jscomp.makeIterator(k);for(var m;!(m=k.next()).done;)m=m.value,this.set(m[0],m[1])}};h.prototype.set=function(k,m){if(!d(k))throw Error("Invalid WeakMap key");
a(k);if(!$jscomp.owns(k,g))throw Error("WeakMap key fail: "+k);k[g][this.id_]=m;return this};h.prototype.get=function(k){return d(k)&&$jscomp.owns(k,g)?k[g][this.id_]:void 0};h.prototype.has=function(k){return d(k)&&$jscomp.owns(k,g)&&$jscomp.owns(k[g],this.id_)};h.prototype.delete=function(k){return d(k)&&$jscomp.owns(k,g)&&$jscomp.owns(k[g],this.id_)?delete k[g][this.id_]:!1};return h},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(b){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),k=new b($jscomp.makeIterator([[h,"s"]]));if("s"!=k.get(h)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var m=k.entries(),n=m.next();if(n.done||n.value[0]!=h||"s"!=n.value[1])return!1;n=m.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!m.next().done?!1:!0}catch(q){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(c())return b;var e=new WeakMap,d=function(h){this.data_={};this.head_=g();this.size=0;if(h){h=$jscomp.makeIterator(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}};d.prototype.set=function(h,k){h=0===h?0:h;var m=a(this,h);m.list||(m.list=this.data_[m.id]=[]);m.entry?m.entry.value=k:(m.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:h,value:k},m.list.push(m.entry),
this.head_.previous.next=m.entry,this.head_.previous=m.entry,this.size++);return this};d.prototype.delete=function(h){h=a(this,h);return h.entry&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.data_[h.id],h.entry.previous.next=h.entry.next,h.entry.next.previous=h.entry.previous,h.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(h){return!!a(this,h).entry};d.prototype.get=function(h){return(h=
a(this,h).entry)&&h.value};d.prototype.entries=function(){return f(this,function(h){return[h.key,h.value]})};d.prototype.keys=function(){return f(this,function(h){return h.key})};d.prototype.values=function(){return f(this,function(h){return h.value})};d.prototype.forEach=function(h,k){for(var m=this.entries(),n;!(n=m.next()).done;)n=n.value,h.call(k,n[1],n[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var a=function(h,k){var m=k&&typeof k;"object"==m||"function"==m?e.has(k)?m=e.get(k):
(m=""+ ++l,e.set(k,m)):m="p_"+k;var n=h.data_[m];if(n&&$jscomp.owns(h.data_,m))for(h=0;h<n.length;h++){var q=n[h];if(k!==k&&q.key!==q.key||k===q.key)return{id:m,list:n,index:h,entry:q}}return{id:m,list:n,index:-1,entry:void 0}},f=function(h,k){var m=h.head_;return $jscomp.iteratorPrototype(function(){if(m){for(;m.head!=h.head_;)m=m.previous;for(;m.next!=m.head;)return m=m.next,{done:!1,value:k(m)};m=null}return{done:!0,value:void 0}})},g=function(){var h={};return h.previous=h.next=h.head=h},l=0;
return d},"es6","es3");$jscomp.checkStringArgs=function(b,c,e){if(null==b)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(c,e){var d=$jscomp.checkStringArgs(this,c,"endsWith");c+="";void 0===e&&(e=d.length);e=Math.max(0,Math.min(e|0,d.length));for(var a=c.length;0<a&&0<e;)if(d[--e]!=c[--a])return!1;return 0>=a}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(c,e){var d=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var a=d.length,f=c.length;e=Math.max(0,Math.min(e|0,d.length));for(var g=0;g<f&&e<a;)if(d[e++]!=c[g++])return!1;return g>=f}},"es6","es3");$jscomp.findInternal=function(b,c,e){b instanceof String&&(b=String(b));for(var d=b.length,a=0;a<d;a++){var f=b[a];if(c.call(e,f,a,b))return{i:a,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(c,e){return $jscomp.findInternal(this,c,e).v}},"es6","es3");var npn;(function(b){b.onError=function(c,e){console.error(c+": "+e);var d=e.lastIndexOf(":");-1<d&&(e=e.substr(d+1));notify.notify(c+" error: "+e,!1)};b.init=function(c,e){log.init();window.onbeforeunload=function(){socket.setAppUnloading()};nav.init(socket.route);socket.socketConnect(c,e)}})(npn||(npn={}));var collection;
(function(b){var c=function(){};c.prototype.updateCollection=function(e){};c.prototype.setActiveCollection=function(e){this.active=e};b.cache=new c})(collection||(collection={}));(function(b){function c(e){var d=e.title;d&&0!==e.title.length||(d=e.key);return JSX("li",null,nav.link("/c/"+e.key,d))}b.renderCollections=function(e){return JSX("ul",{class:"uk-list uk-list-divider"},e.map(c))};b.renderCollection=c})(collection||(collection={}));
(function(b){b.onCollectionMessage=function(c,e){switch(c){case command.server.collections:b.cache.collections=e;log.info("processing ["+b.cache.collections.length+"] collections");dom.setContent("#collection-list",b.renderCollections(b.cache.collections));break;case command.server.detail:log.info("processing ["+e.requests.length+"] requests for collection ["+e.collection.key+"]");b.cache.updateCollection(e.collection);request.cache.setCollectionRequests(e.collection.key,e.requests);break;default:console.warn("unhandled collection command ["+
c+"]")}}})(collection||(collection={}));var dom;
(function(b){function c(g,l){var h=[];(l?l.querySelectorAll(g):document.querySelectorAll(g)).forEach(function(k){h.push(k)});return h}function e(g,l){l=c(g,l);switch(l.length){case 0:break;case 1:return l[0];default:console.warn("found ["+l.length+"] elements with selector ["+g+"], wanted zero or one")}}function d(g,l){(l=e(g,l))||console.warn("no element found for selector ["+g+"]");return l}function a(g,l){"string"===typeof g&&(g=d(g));g.innerHTML=l;return g}function f(g,l,h){h=void 0===h?"block":
h;"string"===typeof g&&(g=d(g));g.style.display=l?h:"none";return g}b.initDom=function(g,l){try{style.themeLinks(l),style.setTheme(g)}catch(h){console.warn("error setting style",h)}try{modal.wire()}catch(h){console.warn("error wiring modals",h)}try{drop.wire()}catch(h){console.warn("error wiring drops",h)}try{tags.wire()}catch(h){console.warn("error wiring tag editors",h)}};b.els=c;b.opt=e;b.req=d;b.setHTML=a;b.setDisplay=f;b.setContent=function(g,l){"string"===typeof g&&(g=d(g));b.clear(g);g.appendChild(l);
return g};b.setText=function(g,l){"string"===typeof g&&(g=d(g));g.innerText=l;return g};b.switchElements=function(g,l){f(g,!1);f(l,!0);return!1};b.clear=function(g){return a(g,"")}})(dom||(dom={}));
(function(b){b.setValue=function(c,e){"string"===typeof c&&(c=b.req(c));c.value=e;return c};b.wireTextarea=function(c){function e(){c.style.height="auto";c.style.height=(64>c.scrollHeight?64:c.scrollHeight+6)+"px"}function d(){window.setTimeout(e,0)}c.dataset.autoresize||(c.dataset.autoresize="true",c.addEventListener("change",e,!1),c.addEventListener("cut",d,!1),c.addEventListener("paste",d,!1),c.addEventListener("drop",d,!1),c.addEventListener("keydown",d,!1),c.focus(),c.select());e()};b.setOptions=
function(c,e){"string"===typeof c&&(c=b.req(c));b.clear(c);e.forEach(function(d){var a=document.createElement("option");a.value=d;b.setText(a,d);c.appendChild(a)})};b.setSelectOption=function(c,e){"string"===typeof c&&(c=b.req(c));for(var d=0;d<c.children.length;d++){var a=c.children.item(d);a.selected=a.value===e}};b.insertAtCaret=function(c,e){if(c.selectionStart||0===c.selectionStart){var d=c.selectionStart,a=c.selectionEnd;c.value=c.value.substring(0,d)+e+c.value.substring(a,c.value.length);c.selectionStart=
d+e.length;c.selectionEnd=d+e.length}else c.value+=e}})(dom||(dom={}));
function JSX(b,c){var e=document.createElement(b),d;for(d in c)if(d&&c.hasOwnProperty(d)){var a=c[d];"dangerouslySetInnerHTML"===d?dom.setHTML(e,a.__html):!0===a?e.setAttribute(d,d):!1!==a&&null!==a&&void 0!==a&&e.setAttribute(d,a.toString())}for(d=2;d<arguments.length;d++)if(a=arguments[d],Array.isArray(a))a.forEach(function(f){e.appendChild(f)});else{if(void 0===a||null===a)throw"child for tag ["+b+"] is "+a;a.nodeType||(a=document.createTextNode(a.toString()));e.appendChild(a)}return e}var style;
(function(b){function c(d){e(d);switch(d){case "auto":d="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(d="dark");c(d);fetch("/profile/theme/"+d).then(function(a){return a.text()}).then(function(){});break;case "light":document.documentElement.classList.remove("uk-light");document.body.classList.remove("uk-light");document.documentElement.classList.add("uk-dark");document.body.classList.add("uk-dark");break;case "dark":document.documentElement.classList.add("uk-light");
document.body.classList.add("uk-light");document.documentElement.classList.remove("uk-dark");document.body.classList.remove("uk-dark");break;default:console.warn("invalid theme")}}function e(d){if("undefined"===typeof EmojiButton)dom.els(".picker-toggle").forEach(function(f){return dom.setDisplay(f,!1)});else{var a={position:"bottom-end",theme:d,zIndex:1021};dom.els(".textarea-emoji").forEach(function(f){var g=dom.req(".picker-toggle",f);g.addEventListener("click",function(){var l=dom.req(".uk-textarea",
f),h=new EmojiButton(a);h.on("emoji",function(k){drop.onEmojiPicked();dom.insertAtCaret(l,k)});h.togglePicker(g)},!1)})}}b.setTheme=c;b.linkColor="";b.themeLinks=function(d){b.linkColor=d+"-fg";dom.els(".theme").forEach(function(a){a.classList.add(b.linkColor)})}})(style||(style={}));var drop;
(function(b){function c(f){if(f.target){var g=f.target;f=g.dataset.key||"";g=g.dataset.t||"";var l=events.getOpenEvent(f);l?l(g):console.warn("no drop open handler registered for ["+f+"]")}}function e(f){if(f.target){var g=f.target;g.classList.contains("uk-open")&&(f=g.dataset.t||"",(g=events.getCloseEvent(g.dataset.key||""))&&g(f))}}function d(f){a&&f.preventDefault()}b.wire=function(){dom.els(".drop").forEach(function(f){f.addEventListener("show",c);f.addEventListener("beforehide",d);f.addEventListener("hide",
e)})};var a=!1;b.onEmojiPicked=function(){a=!0;setTimeout(function(){return a=!1},200)}})(drop||(drop={}));var events;(function(b){var c=new Map,e=new Map;b.register=function(d,a,f){a||(a=function(){});c.set(d,a);f&&e.set(d,f)};b.getOpenEvent=function(d){return c.get(d)};b.getCloseEvent=function(d){return e.get(d)}})(events||(events={}));var modal;
(function(b){function c(f,g){a=g;notify.modal("#modal-"+f).show();return!1}function e(f){if(f.target&&(f=f.target,0===f.id.indexOf("modal"))){f=f.id.substr(6);var g=events.getOpenEvent(f);g?g(a):console.warn("no modal open handler registered for ["+f+"]");a=void 0}}function d(f){f.target&&(f=f.target,f.classList.contains("uk-open")&&(f=f.id.substr(6),(f=events.getCloseEvent(f))&&f(a),a=void 0))}var a;b.wire=function(){dom.els(".modal").forEach(function(f){f.addEventListener("show",e);f.addEventListener("hide",
d)})};b.open=c;b.openSoon=function(f){setTimeout(function(){return c(f)},0)};b.hide=function(f){f=notify.modal("#modal-"+f);f.$el.classList.contains("uk-open")&&f.hide()}})(modal||(modal={}));var tags;
(function(b){function c(a){var f=dom.req(".value",a),g=dom.req(".editor",a);dom.setDisplay(f,!1);dom.setDisplay(g,!0);var l=b.renderInput(f.innerText);l.onblur=function(){f.innerText=l.value;dom.setDisplay(f,!0);dom.setDisplay(g,!1);d(a.parentElement)};l.onkeypress=function(h){return"Enter"===h.key?(l.blur(),!1):!0};dom.setContent(g,l);l.focus()}function e(a){a.target?d(a.target):console.warn("no event target")}function d(a){var f=a.dataset.key||"",g=events.getOpenEvent(f);g?g():console.warn("no tag open handler registered for ["+
f+"]");a=dom.els(".item",a).map(function(l){return l.innerText});dom.setValue("#model-"+f+"-input",a.join(","))}b.wire=function(){dom.els(".tag-editor").forEach(function(a){a.addEventListener("moved",e);a.addEventListener("added",e);a.addEventListener("removed",e)})};b.removeTag=function(a){a=a.parentElement;var f=a.parentElement;a.remove();d(f)};b.addTag=function(a){if(a=a.parentElement){var f=b.renderItem();a.insertBefore(f,dom.req(".add-item",a));c(f)}};b.editTag=c})(tags||(tags={}));
(function(b){b.renderInput=function(c){return JSX("input",{type:"text",class:"uk-input",value:c})};b.renderItem=function(){return JSX("span",{class:"item"},JSX("span",{class:"value",onclick:"tags.editTag(this.parentElement);"}),JSX("span",{class:"editor"}),JSX("span",{class:"close","data-uk-icon":"icon: close; ratio: 0.6;",onclick:"tags.removeTag(this);"}))};b.renderTagsView=function(c){return JSX("div",{class:"tag-view"},c.map(function(e){return JSX("span",{class:"item"},e)}),JSX("div",{class:"clear"}))}})(tags||
(tags={}));var request;
(function(b){var c=function(){this.requests=new Map};c.prototype.setCollectionRequests=function(e,d){this.requests.set(e,d);if(e===collection.cache.active){dom.setContent("#request-list",b.renderRequests(e,d));d=$jscomp.makeIterator(d);for(var a=d.next();!a.done;a=d.next())a=a.value,this.active==a.key&&dom.setContent("#active-request",b.renderRequestDetail(e,a))}};c.prototype.setActiveRequest=function(e){if(collection.cache.active){var d=collection.cache.active,a=this.requests.get(d)||[];this.active=
e;a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())f=f.value,f.key==e&&dom.setContent("#active-request",b.renderRequestDetail(d,f))}else console.warn("no active collection")};b.cache=new c})(request||(request={}));
(function(b){b.prototypeFromURL=function(c){var e=new URL(c);c=[];for(var d=$jscomp.makeIterator(e.searchParams),a=d.next();!a.done;a=d.next()){var f=$jscomp.makeIterator(a.value);a=f.next().value;f=f.next().value;c.push({k:a,v:f})}d=[];0<e.username.length&&d.push({type:"basic",config:{username:e.username,password:e.password,showPassword:!0}});var g;0<e.port.length&&(g=parseInt(e.port));a=e.protocol;f=e.hostname;var l=e.pathname;e=e.hash;a.endsWith(":")&&(a=a.substr(0,a.length-1));e.startsWith("#")&&
(e=e.substr(1));return{method:"get",protocol:a,domain:f,port:g,path:l,query:c,fragment:e,auth:d}}})(request||(request={}));
(function(b){function c(e,d){var a=d.title;a&&0!==d.title.length||(a=d.key);return JSX("div",null,nav.link("/c/"+e+"/"+d.key,a))}b.renderRequests=function(e,d){return JSX("ul",{class:"uk-list uk-list-divider"},d.map(function(a){return c(e,a)}))};b.renderRequestLink=c;b.renderRequestDetail=function(e,d){return JSX("div",null,b.prototypeToURL(d.prototype))}})(request||(request={}));
(function(b){function c(e){var d=[],a=function(g,l){d.push({t:g,v:l})};a("protocol",e.protocol);a("","://");a("domain",e.domain);e.port&&(a("",":"),a("port",e.port.toString()));e.path&&0<e.path.length&&(a("","/"),a("path",e.path));if(e.query&&0<e.query.length){a("","?");var f=e.query.map(function(g){return encodeURIComponent(g.k)+"="+encodeURIComponent(g.v)}).join("&");a("query",f)}e.fragment&&0<e.fragment.length&&(a("","#"),a("fragment",encodeURIComponent(e.fragment)));return d}b.prototypeToURLParts=
c;b.prototypeToURL=function(e){return c(e).map(function(d){return d.v}).join("")}})(request||(request={}));
(function(b){(function(c){c.initAuthEditor=function(e){};c.setAuth=function(e,d){var a=new URL(e.url.value),f="",g="";if(d){d=$jscomp.makeIterator(d);for(var l=d.next();!l.done;l=d.next())l=l.value,"basic"===l.type&&(g=l.config,f=encodeURIComponent(g.username),g=encodeURIComponent(g.password))}a.username=f;a.password=g;e.url.value=a.toString()};c.updateBasicAuth=function(e,d){var a=[];try{a=JSON.parse(e.auth.value)}catch(k){console.log("invalid auth JSON ["+e.auth.value+"]")}var f=-1;a||(a=[]);for(var g=
0;g<a.length;g++)"basic"===a[g].type&&(f=g);if(d)for(g=0;g<d.length;g++){var l=d[g];if("basic"===l.type)var h=l.config}-1===f?h&&a.push({type:"basic",config:h}):h?(d=(d=a[f].config)?{username:h.username,password:h.password,showPassword:d.showPassword}:h,a[f]={type:"basic",config:d}):a.splice(f,1);e.auth.value=JSON.stringify(a,null,2)}})(b.form||(b.form={}))})(request||(request={}));
(function(b){(function(c){c.initBodyEditor=function(e){};c.setBody=function(e,d){}})(b.form||(b.form={}))})(request||(request={}));
(function(b){(function(c){function e(a,f){a.onchange=f;a.onkeyup=f;a.onblur=f}function d(a){e(a.url,function(){c.setURL(a,b.prototypeFromURL(a.url.value))});e(a.auth,function(){try{var f=JSON.parse(a.auth.value)}catch(g){console.log("invalid auth JSON ["+a.auth.value+"]"),f=[]}c.setAuth(a,f)});e(a.qp,function(){try{var f=JSON.parse(a.qp.value)}catch(g){console.log("invalid qp JSON ["+a.qp.value+"]"),f=[]}c.setQueryParams(a,f)});e(a.headers,function(){try{var f=JSON.parse(a.headers.value)}catch(g){console.log("invalid headers JSON ["+
a.headers.value+"]"),f=[]}c.setHeaders(a,f)});e(a.body,function(){try{var f=JSON.parse(a.body.value)}catch(g){console.log("invalid body JSON ["+a.body.value+"]")}c.setBody(a,f)})}c.wireForm=function(a){var f={url:dom.req("#"+a+"-url"),auth:dom.req("#"+a+"-auth"),qp:dom.req("#"+a+"-queryparams"),headers:dom.req("#"+a+"-headers"),body:dom.req("#"+a+"-body")};c.initURLEditor(f.url);c.initAuthEditor(f.auth);c.initQueryParamsEditor(f.qp);c.initHeadersEditor(f.headers);c.initBodyEditor(f.body);c.initOptionsEditor(a);
d(f)}})(b.form||(b.form={}))})(request||(request={}));
(function(b){(function(c){function e(d,a){console.info(d);d.appendChild(JSX("li",null,JSX("div",{"uk-grid":!0},JSX("div",{class:"uk-width-1-4"},a.k),JSX("div",{class:"uk-width-1-4"},a.v),JSX("div",{class:"uk-width-1-2"},JSX("div",{class:"right"},JSX("a",{class:style.linkColor,href:"",onclick:"return false;",title:"new header"},JSX("span",{"data-uk-icon":"icon: close"}))),a.desc?a.desc:""))))}c.createHeadersEditor=function(d){var a=JSX("ul",{id:d.id+"-ul",class:"uk-list uk-list-divider"}),f=JSX("li",
null,JSX("div",{"uk-grid":!0},JSX("div",{class:"uk-width-1-4"},"Name"),JSX("div",{class:"uk-width-1-4"},"Value"),JSX("div",{class:"uk-width-1-2"},JSX("div",{class:"right"},JSX("a",{class:style.linkColor,href:"",onclick:"request.form.addChild(dom.req('#"+d.id+"-ul'), {k: '', v: ''});return false;",title:"new header"},JSX("span",{"data-uk-icon":"icon: plus"}))),"Description")));d=JSON.parse(d.value);a.innerText="";a.appendChild(f);f=$jscomp.makeIterator(d);for(d=f.next();!d.done;d=f.next())e(a,d.value);
return a};c.addChild=e})(b.form||(b.form={}))})(request||(request={}));(function(b){(function(c){c.initHeadersEditor=function(e){e.parentElement.appendChild(c.createHeadersEditor(e))};c.setHeaders=function(e,d){}})(b.form||(b.form={}))})(request||(request={}));(function(b){(function(c){c.initOptionsEditor=function(e){}})(b.form||(b.form={}))})(request||(request={}));
(function(b){(function(c){c.initQueryParamsEditor=function(e){};c.setQueryParams=function(e,d){var a=[];if(d){d=$jscomp.makeIterator(d);for(var f=d.next();!f.done;f=d.next())f=f.value,a.push(encodeURIComponent(f.k)+"="+encodeURIComponent(f.v))}d=new URL(e.url.value);d.search=a.join("&");e.url.value=d.toString()};c.updateQueryParams=function(e,d){e.qp.value=JSON.stringify(d,null,2)}})(b.form||(b.form={}))})(request||(request={}));
(function(b){(function(c){c.initURLEditor=function(e){};c.setURL=function(e,d){d?(c.updateQueryParams(e,d.query),c.updateBasicAuth(e,d.auth)):e.qp.value="[]"}})(b.form||(b.form={}))})(request||(request={}));var socket;
(function(b){b.route=function(c){c=c.split("/");c=c.filter(function(d){return 0<d.length});console.info("nav handler called, check it out: "+c.join(" -> "));if(0!==c.length){var e=c[0];switch(e){case "c":e=c[1];e!==collection.cache.active&&(collection.cache.setActiveCollection(e),b.send({svc:services.collection.key,cmd:command.client.getCollection,param:e}));2<c.length&&(c=c[2],c!==request.cache.active&&request.cache.setActiveRequest(c));break;default:console.info("unhandled svc ["+e+"]")}}}})(socket||
(socket={}));
(function(b){function c(){var p=document.location,r="ws";"https:"===p.protocol&&(r="wss");return r+("://"+p.host+"/s")}function e(p,r){n=p;q=r;Date.now();l=new WebSocket(c());l.onopen=a;l.onmessage=function(t){return f(JSON.parse(t.data))};l.onerror=function(t){return npn.onError("socket",t.type)};l.onclose=g}function d(p){h?(console.debug("out",p),p=JSON.stringify(p,null,2),l.send(p)):m.push(p)}function a(){log.info("socket connected");h=!0;m.forEach(d);m=[]}function f(p){console.debug("in",p);switch(p.svc){case services.system.key:system.onSystemMessage(p.cmd,
p.param);break;case services.collection.key:collection.onCollectionMessage(p.cmd,p.param);break;default:console.warn("unhandled message for service ["+p.svc+"]")}}function g(){function p(r){h=!1;console.info("socket closed, reconnecting in "+r+" seconds");setTimeout(function(){e(n,q)},1E3*r)}k||p(10)}var l,h=!1,k=!1,m=[],n="",q="";b.setAppUnloading=function(){k=!0};b.socketConnect=e;b.send=d;b.onSocketMessage=f})(socket||(socket={}));var system;
(function(b){var c=function(){};c.prototype.getProfile=function(){if(!this.profile)throw"no active profile";return this.profile};c.prototype.apply=function(e){b.cache.profile=e.profile};b.cache=new c})(system||(system={}));(function(b){b.onSystemMessage=function(c,e){switch(c){case command.server.connected:b.cache.apply(e);break;default:console.warn("unhandled system command ["+c+"]")}}})(system||(system={}));var profile;
(function(b){b.setNavColor=function(c,e){dom.setValue("#nav-color",e);dom.req("#navbar").className=e+"-bg uk-navbar-container uk-navbar";document.querySelectorAll(".nav_swatch").forEach(function(d){d.classList.remove("active")});c.classList.add("active")};b.setLinkColor=function(c,e){dom.setValue("#link-color",e);dom.els(".profile-link").forEach(function(d){d.classList.forEach(function(a){-1<a.indexOf("-fg")&&d.classList.remove(a);d.classList.add(e+"-fg")})});document.querySelectorAll(".link_swatch").forEach(function(d){d.classList.remove("active")});
c.classList.add("active")};b.setPicture=function(c){dom.setValue("#self-picture-input",c);return!1}})(profile||(profile={}));var command;(function(b){b.client={ping:"ping",connect:"connect",getCollections:"getCollections",getCollection:"getCollection"};b.server={pong:"pong",connected:"connected",collections:"collections",detail:"detail",error:"error"}})(command||(command={}));var date;
(function(b){function c(a){return a.toLocaleDateString()}function e(a){return a.toLocaleTimeString().slice(0,8)}b.dateToYMD=function(a){var f=a.getDate(),g=a.getMonth()+1;return a.getFullYear()+"-"+(9>=g?"0"+g:g)+"-"+(9>=f?"0"+f:f)};b.dateFromYMD=function(a){a=new Date(a);return new Date(a.getTime()+6E4*a.getTimezoneOffset())};b.dow=function(a){switch(a){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"???"}};
b.toDateString=c;b.toTimeString=e;b.toDateTimeString=function(a){return c(a)+" "+e(a)};var d=6E4*(new Date).getTimezoneOffset();b.utcDate=function(a){return new Date(Date.parse(a)+d)}})(date||(date={}));var group;
(function(b){var c=function(d){this.members=[];this.key=d};b.Group=c;var e=function(){this.groups=[]};e.prototype.findOrInsert=function(d){var a=this.groups.find(function(f){return f.key===d});if(a)return a;a=new c(d);this.groups.push(a);return a};b.GroupSet=e;b.groupBy=function(d,a){var f=new e;d&&d.forEach(function(g){f.findOrInsert(a(g)).members.push(g)});return f};b.findGroup=function(d,a){d=$jscomp.makeIterator(d);for(var f=d.next();!f.done;f=d.next())if(f=f.value,f.key===a)return f.members;
return[]};b.flatten=function(d){var a=[];d.forEach(function(f){return a.push.apply(a,$jscomp.arrayFromIterable(f))});return a}})(group||(group={}));var log;
(function(b){function c(f,g){if(0===d)console.warn("call `log.init()` before attempting to log");else{var l=Date.now()-d;f=JSX("li",{class:e(f)},JSX("div",{class:"right"},l,"ms"),g);a||(a=dom.req("#log-panel"));a.appendChild(f)}}function e(f){switch(f){case "debug":return"grey-fg";case "info":return"";case "warn":return"yellow-fg";case "error":return"red-fg";default:return""}}var d=0,a;b.init=function(){d=Date.now();c("debug","npn started")};b.info=function(f){c("info",f)};b.l=c})(log||(log={}));
var nav;
(function(b){function c(d){d.startsWith("/")&&(d=d.substr(1));var a="/w";0<d.length&&(a=a+"/"+d);location.pathname!==a&&history.pushState(d,"",a);e(d)}var e=function(d){console.info("default nav handler called: "+d)};b.init=function(d){e=d;window.onpopstate=function(f){d(null===f.state?"":f.state)};var a=location.pathname;a.startsWith("/w")&&(a=a.substr(2));c(a)};b.navigate=c;b.link=function(d,a){return JSX("a",{class:style.linkColor,href:d,onclick:"nav.navigate('"+d+"', '"+a+"');return false;"},a)}})(nav||
(nav={}));var notify;(function(b){b.notify=function(c,e){UIkit.notification(c,{status:e?"success":"danger",pos:"top-right"})};b.confirm=function(c,e){UIkit.modal.confirm(c).then(e)};b.modal=function(c){var e=UIkit.modal(c);e||console.warn("no modal available with key ["+c+"]");return e}})(notify||(notify={}));var services;
(function(b){b.system={key:"system",title:"System",plural:"systems",icon:"close"};b.collection={key:"collection",title:"Collection",plural:"Collections",icon:"folder"};var c=[b.system,b.collection];b.fromKey=function(e){var d=c.find(function(a){return a.key===e});if(!d)throw"invalid service ["+e+"]";return d}})(services||(services={}));
