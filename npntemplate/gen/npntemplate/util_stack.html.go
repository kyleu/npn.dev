// Code generated by hero.
// DO NOT EDIT!
package npntemplate

import (
	"bytes"
	"strings"

	"github.com/kyleu/npn/npncore"
	"github.com/kyleu/npn/npnweb"
	"github.com/shiyanhui/hero"
)

func errorStack(ed *npncore.ErrorDetail, ctx *npnweb.RequestContext, buffer *bytes.Buffer) {
	if ed.StackTrace != nil {
		buffer.WriteString(`
  <div class="mt">
    <div class="uk-card uk-card-body uk-card-default">
      <table class="uk-table uk-table-divider">
        <caption class="hidden">error detail</caption>
        <tbody>
        `)
		for _, f := range npncore.TraceDetail(ed.StackTrace) {
			buffer.WriteString(`
        <tr>
          <td>
            `)
			if strings.Contains(f.Key, npncore.AppKey) {
				buffer.WriteString(`
            <div class="error-key error-owned">`)
				hero.EscapeHTML(f.Key, buffer)
				buffer.WriteString(`</div>
            `)
			} else {
				buffer.WriteString(`
            <div class="error-key">`)
				hero.EscapeHTML(f.Key, buffer)
				buffer.WriteString(`</div>
            `)
			}
			buffer.WriteString(`
            <div class="error-location">`)
			hero.EscapeHTML(f.Loc, buffer)
			buffer.WriteString(`</div>
          </td>
        </tr>
        `)
		}
		buffer.WriteString(`
        </tbody>
      </table>
    </div>
  </div>
`)
	}

}
