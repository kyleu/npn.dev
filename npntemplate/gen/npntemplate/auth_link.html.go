// Code generated by hero.
// DO NOT EDIT!
package npntemplate

import (
	"bytes"

	"github.com/kyleu/npn/npncore"
	"github.com/kyleu/npn/npnservice/auth"
	"github.com/kyleu/npn/npnweb"
	"github.com/shiyanhui/hero"
)

func AuthSigninLink(p *auth.Provider, current auth.Records, ctx *npnweb.RequestContext, buffer *bytes.Buffer) {
	buffer.WriteString(`
<li>
  <a class="theme profile-link uk-icon-link signin-icon" data-uk-icon="icon: `)
	hero.EscapeHTML(p.Icon, buffer)
	buffer.WriteString(`" href="`)
	hero.EscapeHTML(ctx.Route(`auth.submit`, npncore.KeyKey, p.Key), buffer)
	buffer.WriteString(`"></a>
  <a class="theme profile-link" href="`)
	hero.EscapeHTML(ctx.Route(`auth.submit`, npncore.KeyKey, p.Key), buffer)
	buffer.WriteString(`">`)
	hero.EscapeHTML(p.Title, buffer)
	buffer.WriteString(`</a>
  `)
	for _, a := range current {
		if a.Provider == p {
			buffer.WriteString(`
      <div class="uk-article-meta auth-link">
        <a class="profile-remove right theme" href="`)
			hero.EscapeHTML(ctx.Route(`auth.signout`, npncore.KeyID, a.ID.String()), buffer)
			buffer.WriteString(`" title="sign out from `)
			hero.EscapeHTML(p.Title, buffer)
			buffer.WriteString(`">
          <span data-uk-icon="icon: close;"></span>
        </a>
        `)
			if len(a.Picture) > 0 {
				buffer.WriteString(`
          <div class="left uk-margin-small-right">
            <a class="theme" href="`)
				hero.EscapeHTML(ctx.Route(npncore.KeyProfile+`.pic`, npncore.KeyID, a.ID.String()), buffer)
				buffer.WriteString(`"><img class="profile-pic uk-border-circle" alt="set profile picture" src="`)
				hero.EscapeHTML(a.Picture, buffer)
				buffer.WriteString(`" /></a>
          </div>
        `)
			}
			buffer.WriteString(`
        <div class="profile-title">`)
			hero.EscapeHTML(a.Email, buffer)
			buffer.WriteString(`</div>
      </div>
    `)
		}
	}
	buffer.WriteString(`
</li>
`)

}
